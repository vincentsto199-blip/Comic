(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Jd={exports:{}},wl={};var nv;function nw(){if(nv)return wl;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var iv;function iw(){return iv||(iv=1,Jd.exports=nw()),Jd.exports}var j=iw(),$d={exports:{}},Ct={};var rv;function rw(){if(rv)return Ct;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function lt(D,K,et){this.props=D,this.context=K,this.refs=W,this.updater=et||Z}lt.prototype.isReactComponent={},lt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},lt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=lt.prototype;function ft(D,K,et){this.props=D,this.context=K,this.refs=W,this.updater=et||Z}var It=ft.prototype=new vt;It.constructor=ft,tt(It,lt.prototype),It.isPureReactComponent=!0;var gt=Array.isArray;function Nt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(D,K,et){var ot=et.ref;return{$$typeof:r,type:D,key:K,ref:ot!==void 0?ot:null,props:et}}function V(D,K){return R(D.type,K,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function P(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function st(D,K){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):K.toString(36)}function St(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Nt,Nt):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,et,ot,dt){var yt=typeof D;(yt==="undefined"||yt==="boolean")&&(D=null);var Vt=!1;if(D===null)Vt=!0;else switch(yt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(D.$$typeof){case r:case t:Vt=!0;break;case T:return Vt=D._init,F(Vt(D._payload),K,et,ot,dt)}}if(Vt)return dt=dt(D),Vt=ot===""?"."+st(D,0):ot,gt(dt)?(et="",Vt!=null&&(et=Vt.replace(w,"$&/")+"/"),F(dt,K,et,"",function(hs){return hs})):dt!=null&&(O(dt)&&(dt=V(dt,et+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(w,"$&/")+"/")+Vt)),K.push(dt)),1;Vt=0;var ue=ot===""?".":ot+":";if(gt(D))for(var ae=0;ae<D.length;ae++)ot=D[ae],yt=ue+st(ot,ae),Vt+=F(ot,K,et,yt,dt);else if(ae=B(D),typeof ae=="function")for(D=ae.call(D),ae=0;!(ot=D.next()).done;)ot=ot.value,yt=ue+st(ot,ae++),Vt+=F(ot,K,et,yt,dt);else if(yt==="object"){if(typeof D.then=="function")return F(St(D),K,et,ot,dt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function G(D,K,et){if(D==null)return D;var ot=[],dt=0;return F(D,ot,"","",function(yt){return K.call(et,yt,dt++)}),ot}function it(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var at=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},bt={map:G,forEach:function(D,K,et){G(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return G(D,function(){K++}),K},toArray:function(D){return G(D,function(K){return K})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ct.Activity=A,Ct.Children=bt,Ct.Component=lt,Ct.Fragment=n,Ct.Profiler=l,Ct.PureComponent=ft,Ct.StrictMode=s,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ct.cache=function(D){return function(){return D.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ot=tt({},D.props),dt=D.key;if(K!=null)for(yt in K.key!==void 0&&(dt=""+K.key),K)!b.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(ot[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)ot.children=et;else if(1<yt){for(var Vt=Array(yt),ue=0;ue<yt;ue++)Vt[ue]=arguments[ue+2];ot.children=Vt}return R(D.type,dt,ot)},Ct.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ct.createElement=function(D,K,et){var ot,dt={},yt=null;if(K!=null)for(ot in K.key!==void 0&&(yt=""+K.key),K)b.call(K,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(dt[ot]=K[ot]);var Vt=arguments.length-2;if(Vt===1)dt.children=et;else if(1<Vt){for(var ue=Array(Vt),ae=0;ae<Vt;ae++)ue[ae]=arguments[ae+2];dt.children=ue}if(D&&D.defaultProps)for(ot in Vt=D.defaultProps,Vt)dt[ot]===void 0&&(dt[ot]=Vt[ot]);return R(D,yt,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(D){return{$$typeof:p,render:D}},Ct.isValidElement=O,Ct.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:it}},Ct.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},Ct.startTransition=function(D){var K=N.T,et={};N.T=et;try{var ot=D(),dt=N.S;dt!==null&&dt(et,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Nt,at)}catch(yt){at(yt)}finally{K!==null&&et.types!==null&&(K.types=et.types),N.T=K}},Ct.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ct.use=function(D){return N.H.use(D)},Ct.useActionState=function(D,K,et){return N.H.useActionState(D,K,et)},Ct.useCallback=function(D,K){return N.H.useCallback(D,K)},Ct.useContext=function(D){return N.H.useContext(D)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(D,K){return N.H.useDeferredValue(D,K)},Ct.useEffect=function(D,K){return N.H.useEffect(D,K)},Ct.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ct.useId=function(){return N.H.useId()},Ct.useImperativeHandle=function(D,K,et){return N.H.useImperativeHandle(D,K,et)},Ct.useInsertionEffect=function(D,K){return N.H.useInsertionEffect(D,K)},Ct.useLayoutEffect=function(D,K){return N.H.useLayoutEffect(D,K)},Ct.useMemo=function(D,K){return N.H.useMemo(D,K)},Ct.useOptimistic=function(D,K){return N.H.useOptimistic(D,K)},Ct.useReducer=function(D,K,et){return N.H.useReducer(D,K,et)},Ct.useRef=function(D){return N.H.useRef(D)},Ct.useState=function(D){return N.H.useState(D)},Ct.useSyncExternalStore=function(D,K,et){return N.H.useSyncExternalStore(D,K,et)},Ct.useTransition=function(){return N.H.useTransition()},Ct.version="19.2.4",Ct}var sv;function jm(){return sv||(sv=1,$d.exports=rw()),$d.exports}var _t=jm(),Zd={exports:{}},bl={},Wd={exports:{}},tm={};var av;function sw(){return av||(av=1,(function(r){function t(F,G){var it=F.length;F.push(G);t:for(;0<it;){var at=it-1>>>1,bt=F[at];if(0<l(bt,G))F[at]=G,F[it]=bt,it=at;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var G=F[0],it=F.pop();if(it!==G){F[0]=it;t:for(var at=0,bt=F.length,D=bt>>>1;at<D;){var K=2*(at+1)-1,et=F[K],ot=K+1,dt=F[ot];if(0>l(et,it))ot<bt&&0>l(dt,et)?(F[at]=dt,F[ot]=it,at=ot):(F[at]=et,F[K]=it,at=K);else if(ot<bt&&0>l(dt,it))F[at]=dt,F[ot]=it,at=ot;else break t}}return G}function l(F,G){var it=F.sortIndex-G.sortIndex;return it!==0?it:F.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,A=null,C=3,B=!1,Z=!1,tt=!1,W=!1,lt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function It(F){for(var G=n(_);G!==null;){if(G.callback===null)s(_);else if(G.startTime<=F)s(_),G.sortIndex=G.expirationTime,t(y,G);else break;G=n(_)}}function gt(F){if(tt=!1,It(F),!Z)if(n(y)!==null)Z=!0,Nt||(Nt=!0,P());else{var G=n(_);G!==null&&St(gt,G.startTime-F)}}var Nt=!1,N=-1,b=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<b)}function O(){if(W=!1,Nt){var F=r.unstable_now();R=F;var G=!0;try{t:{Z=!1,tt&&(tt=!1,vt(N),N=-1),B=!0;var it=C;try{e:{for(It(F),A=n(y);A!==null&&!(A.expirationTime>F&&V());){var at=A.callback;if(typeof at=="function"){A.callback=null,C=A.priorityLevel;var bt=at(A.expirationTime<=F);if(F=r.unstable_now(),typeof bt=="function"){A.callback=bt,It(F),G=!0;break e}A===n(y)&&s(y),It(F)}else s(y);A=n(y)}if(A!==null)G=!0;else{var D=n(_);D!==null&&St(gt,D.startTime-F),G=!1}}break t}finally{A=null,C=it,B=!1}G=void 0}}finally{G?P():Nt=!1}}}var P;if(typeof ft=="function")P=function(){ft(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,st=w.port2;w.port1.onmessage=O,P=function(){st.postMessage(null)}}else P=function(){lt(O,0)};function St(F,G){N=lt(function(){F(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var it=C;C=G;try{return F()}finally{C=it}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var it=C;C=F;try{return G()}finally{C=it}},r.unstable_scheduleCallback=function(F,G,it){var at=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?at+it:at):it=at,F){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=it+bt,F={id:T++,callback:G,priorityLevel:F,startTime:it,expirationTime:bt,sortIndex:-1},it>at?(F.sortIndex=it,t(_,F),n(y)===null&&F===n(_)&&(tt?(vt(N),N=-1):tt=!0,St(gt,it-at))):(F.sortIndex=bt,t(y,F),Z||B||(Z=!0,Nt||(Nt=!0,P()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var G=C;return function(){var it=C;C=G;try{return F.apply(this,arguments)}finally{C=it}}}})(tm)),tm}var ov;function aw(){return ov||(ov=1,Wd.exports=sw()),Wd.exports}var em={exports:{}},Xe={};var lv;function ow(){if(lv)return Xe;lv=1;var r=jm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,T)},Xe.flushSync=function(y){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=T,s.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:B}):T==="script"&&s.d.X(y,{crossOrigin:A,integrity:C,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);s.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Xe.requestFormReset=function(y){s.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var uv;function lw(){if(uv)return em.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),em.exports=ow(),em.exports}var cv;function uw(){if(cv)return bl;cv=1;var r=aw(),t=jm(),n=lw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(s(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case lt:return"Profiler";case W:return"StrictMode";case gt:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ft:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case It:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:st(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return st(e(i))}catch{}}return null}var St=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},at=[],bt=-1;function D(e){return{current:e}}function K(e){0>bt||(e.current=at[bt],at[bt]=null,bt--)}function et(e,i){bt++,at[bt]=e.current,e.current=i}var ot=D(null),dt=D(null),yt=D(null),Vt=D(null);function ue(e,i){switch(et(yt,i),et(dt,e),et(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=b_(i),e=R_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ot),et(ot,e)}function ae(){K(ot),K(dt),K(yt)}function hs(e){e.memoizedState!==null&&et(Vt,e);var i=ot.current,a=R_(i,e.type);i!==a&&(et(dt,e),et(ot,a))}function ea(e){dt.current===e&&(K(ot),K(dt)),Vt.current===e&&(K(Vt),El._currentValue=it)}var na,ia;function ri(e){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var Eo=!1;function fs(e,i){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var z=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){z=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){z=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),L=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===L.length)for(o=I.length-1,h=L.length-1;1<=o&&0<=h&&I[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==L[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return ri("Activity");default:return""}}function So(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,$h=r.unstable_shouldYield,du=r.unstable_requestPaint,We=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,mu=r.unstable_IdlePriority,pu=r.log,gu=r.unstable_setDisableYieldValue,qn=null,je=null;function Rn(e){if(typeof pu=="function"&&gu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:_u,yu=Math.log,ra=Math.LN2;function _u(e){return e>>>=0,e===0?32:31-(yu(e)/ra|0)|0}var si=256,ms=262144,Te=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(g&=E,g!==0?h=ai(g):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):g!==0?h=ai(g):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Wh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ps(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tf(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,L=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-me(a),J=1<<Y;E[Y]=0,I[Y]=-1;var z=L[Y];if(z!==null)for(L[Y]=null,Y=0;Y<z.length;Y++){var H=z[Y];H!==null&&(H.lane&=-536870913)}a&=~J}o!==0&&gs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function gs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-me(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-me(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(e.suspendedLanes|i))!==0?0:a}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function Fn(e,i){var a=G.p;try{return G.p=e,i()}finally{G.p=a}}var Gn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,ui="__reactContainer$"+Gn,sa="__reactEvents$"+Gn,ef="__reactListeners$"+Gn,Tu="__reactHandles$"+Gn,Su="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function aa(e){delete e[Se],delete e[Pe],delete e[sa],delete e[ef],delete e[Tu]}function hi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Se])return a;e=V_(e)}return i}e=a,a=e.parentNode}return null}function In(e){if(e=e[Se]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function fi(e){var i=e[Su];return i||(i=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[ci]=!0}var Io=new Set,Co={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function Au(e){return Ee.call(Oo,e)?!0:Ee.call(Do,e)?!1:No.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function oa(e,i,a){if(Au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=xo(e,i,""+e[i])}}function _s(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vs=/[\n"\\]/g;function an(e){return e.replace(vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?Vo(e,g,Ue(i)):a!=null?Vo(e,g,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function wu(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Vo(e,i,a){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function bu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function fr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(St(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function on(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Mo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Mo(e,f,i[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Uo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,gi=null;function Es(e){var i=In(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(la(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(s(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&_s(o)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var ha=!1;function pr(e,i,a){if(ha)return e(i,a);ha=!0;try{var o=e(i);return o}finally{if(ha=!1,(mr!==null||gi!==null)&&(Ec(),mr&&(i=mr,e=gi,gi=mr=null,Es(i),e)))for(i=0;i<e.length;i++)Es(e[i])}}function Qn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ts=!1}var yi=null,ko=null,Ss=null;function Lo(){if(Ss)return Ss;var e,i=ko,a=i.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return Ss=h.slice(e,1<o?1-o:void 0)}function As(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Kn(){return!1}function Be(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(Ui),gr=A({},Ui,{view:0,detail:0}),zo=Be(gr),yr,fa,vi,da=A({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(yr=e.screenX-vi.screenX,fa=e.screenY-vi.screenY):fa=yr=0,vi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),jo=Be(da),ws=A({},da,{dataTransfer:0}),Cu=Be(ws),Nu=A({},gr,{relatedTarget:0}),bs=Be(Nu),Bo=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Be(Bo),ma=A({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ou=Be(ma),xu=A({},Ui,{data:0}),Ei=Be(xu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Pu[e])?!!i[e]:!1}function _r(){return Uu}var tn=A({},gr,{key:function(e){if(e.key){var i=Vu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=Be(tn),Lu=A({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(Lu),c=A({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(c),v=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),U=A({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),nt=A({},Ui,{newState:0,oldState:0}),Dt=Be(nt),pe=[9,13,27,32],Yt=Nn&&"CompositionEvent"in window,oe=null;Nn&&"documentMode"in document&&(oe=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!oe,Ti=Nn&&(!Yt||oe&&8<oe&&11>=oe),Xn=" ",Jn=!1;function Rs(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function RS(e,i){switch(e){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return e=i.data,e===Xn&&Jn?null:e;default:return null}}function IS(e,i){if(ga)return e==="compositionend"||!Yt&&Rs(e,i)?(e=Lo(),Ss=ko=yi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!CS[e.type]:i==="textarea"}function kp(e,i,a,o){mr?gi?gi.push(o):gi=[o]:mr=o,i=Ic(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function NS(e){v_(e,0)}function zu(e){var i=mn(e);if(_s(i))return e}function Lp(e,i){if(e==="change")return i}var zp=!1;if(Nn){var nf;if(Nn){var rf="oninput"in document;if(!rf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),rf=typeof jp.oninput=="function"}nf=rf}else nf=!1;zp=nf&&(!document.documentMode||9<document.documentMode)}function Bp(){qo&&(qo.detachEvent("onpropertychange",qp),Ho=qo=null)}function qp(e){if(e.propertyName==="value"&&zu(Ho)){var i=[];kp(i,Ho,e,Cn(e)),pr(NS,i)}}function DS(e,i,a){e==="focusin"?(Bp(),qo=i,Ho=a,qo.attachEvent("onpropertychange",qp)):e==="focusout"&&Bp()}function OS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zu(Ho)}function xS(e,i){if(e==="click")return zu(i)}function VS(e,i){if(e==="input"||e==="change")return zu(i)}function MS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:MS;function Fo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fp(e,i){var a=Hp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hp(a)}}function Gp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Gp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pi(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var PS=Nn&&"documentMode"in document&&11>=document.documentMode,ya=null,af=null,Go=null,of=!1;function Qp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||ya==null||ya!==pi(o)||(o=ya,"selectionStart"in o&&sf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=Ic(af,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ya)))}function Is(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var _a={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},lf={},Kp={};Nn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Cs(e){if(lf[e])return lf[e];if(!_a[e])return e;var i=_a[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Kp)return lf[e]=i[a];return e}var Xp=Cs("animationend"),Jp=Cs("animationiteration"),$p=Cs("animationstart"),US=Cs("transitionrun"),kS=Cs("transitionstart"),LS=Cs("transitioncancel"),Zp=Cs("transitionend"),Wp=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function $n(e,i){Wp.set(e,i),di(i,[e])}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],va=0,cf=0;function Bu(){for(var e=va,i=cf=va=0;i<e;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&tg(a,h,f)}}function qu(e,i,a,o){On[va++]=e,On[va++]=i,On[va++]=a,On[va++]=o,cf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function hf(e,i,a,o){return qu(e,i,a,o),Hu(e)}function Ns(e,i){return qu(e,null,null,i),Hu(e)}function tg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-me(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Hu(e){if(50<dl)throw dl=0,Ed=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ea={};function zS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,o){return new zS(e,i,a,o)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")ff(e)&&(g=1);else if(typeof e=="string")g=FA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,i,h),e.elementType=R,e.lanes=f,e;case tt:return Ds(a.children,h,f,i);case W:g=8,h|=24;break;case lt:return e=yn(12,a,i,h|2),e.elementType=lt,e.lanes=f,e;case gt:return e=yn(13,a,i,h),e.elementType=gt,e.lanes=f,e;case Nt:return e=yn(19,a,i,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case vt:g=9;break t;case It:g=11;break t;case N:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=yn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Ds(e,i,a,o){return e=yn(7,e,o,i),e.lanes=a,e}function df(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function ng(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function mf(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ig=new WeakMap;function xn(e,i){if(typeof e=="object"&&e!==null){var a=ig.get(e);return a!==void 0?a:(i={value:e,source:i,stack:So(i)},ig.set(e,i),i)}return{value:e,source:i,stack:So(i)}}var Ta=[],Sa=0,Gu=null,Yo=0,Vn=[],Mn=0,vr=null,Si=1,Ai="";function zi(e,i){Ta[Sa++]=Yo,Ta[Sa++]=Gu,Gu=e,Yo=i}function rg(e,i,a){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=vr,vr=e;var o=Si;e=Ai;var h=32-me(o)-1;o&=~(1<<h),a+=1;var f=32-me(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Si=1<<32-me(i)+h|a<<h|o,Ai=f+e}else Si=1<<f|a<<h|o,Ai=e}function pf(e){e.return!==null&&(zi(e,1),rg(e,1,0))}function gf(e){for(;e===Gu;)Gu=Ta[--Sa],Ta[Sa]=null,Yo=Ta[--Sa],Ta[Sa]=null;for(;e===vr;)vr=Vn[--Mn],Vn[Mn]=null,Ai=Vn[--Mn],Vn[Mn]=null,Si=Vn[--Mn],Vn[Mn]=null}function sg(e,i){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=vr,Si=i.id,Ai=i.overflow,vr=e}var qe=null,ie=null,Bt=!1,Er=null,Pn=!1,yf=Error(s(519));function Tr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(xn(i,e)),yf}function ag(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Se]=e,i[Pe]=o,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Pt(pl[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),wu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),fr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||A_(i.textContent,a)?(o.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),o.onScroll!=null&&Pt("scroll",i),o.onScrollEnd!=null&&Pt("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Tr(e,!0)}function og(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!Bt)return og(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pd(e.type,e.memoizedProps)),a=!a),a&&ie&&Tr(e),og(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=x_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=x_(e)}else i===27?(i=ie,Pr(e.type)?(e=jd,jd=null,ie=e):ie=i):ie=qe?kn(e.stateNode.nextSibling):null;return!0}function Os(){ie=qe=null,Bt=!1}function _f(){var e=Er;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Er=null),e}function Qo(e){Er===null?Er=[e]:Er.push(e)}var vf=D(null),xs=null,ji=null;function Sr(e,i,a){et(vf,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=vf.current,K(vf)}function Ef(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Tf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Ef(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Ef(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&Tf(i,e,a,o),i.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){xs=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return lg(xs,e)}function Qu(e,i){return xs===null&&Vs(e),lg(e,i)}function lg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var jS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},BS=r.unstable_scheduleCallback,qS=r.unstable_NormalPriority,be={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new jS,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&BS(qS,function(){e.controller.abort()})}var Xo=null,Af=0,ba=0,Ra=null;function HS(e,i){if(Xo===null){var a=Xo=[];Af=0,ba=Rd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Af++,i.then(ug,ug),i}function ug(){if(--Af===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Xo;Xo=null,ba=0,Ra=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function FS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var cg=F.S;F.S=function(e,i){Qy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HS(e,i),cg!==null&&cg(e,i)};var Ms=D(null);function wf(){var e=Ms.current;return e!==null?e:ne.pooledCache}function Ku(e,i){i===null?et(Ms,Ms.current):et(Ms,i.pool)}function hg(){var e=wf();return e===null?null:{parent:be._currentValue,pool:e}}var Ia=Error(s(460)),bf=Error(s(474)),Xu=Error(s(542)),Ju={then:function(){}};function fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pg(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pg(e),e}throw Us=i,Ia}}function Ps(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Ia):a}}var Us=null;function mg(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function pg(e){if(e===Ia||e===Xu)throw Error(s(483))}var Ca=null,Jo=0;function $u(e){var i=Jo;return Jo+=1,Ca===null&&(Ca=[]),dg(Ca,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Zu(e,i){throw i.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gg(e){function i(M,x){if(e){var k=M.deletions;k===null?(M.deletions=[x],M.flags|=16):k.push(x)}}function a(M,x){if(!e)return null;for(;x!==null;)i(M,x),x=x.sibling;return null}function o(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Li(M,x),M.index=0,M.sibling=null,M}function f(M,x,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<x?(M.flags|=67108866,x):k):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,x,k,X){return x===null||x.tag!==6?(x=df(k,M.mode,X),x.return=M,x):(x=h(x,k),x.return=M,x)}function I(M,x,k,X){var pt=k.type;return pt===tt?Y(M,x,k.props.children,X,k.key):x!==null&&(x.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Ps(pt)===x.type)?(x=h(x,k.props),$o(x,k),x.return=M,x):(x=Fu(k.type,k.key,k.props,null,M.mode,X),$o(x,k),x.return=M,x)}function L(M,x,k,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=mf(k,M.mode,X),x.return=M,x):(x=h(x,k.children||[]),x.return=M,x)}function Y(M,x,k,X,pt){return x===null||x.tag!==7?(x=Ds(k,M.mode,X,pt),x.return=M,x):(x=h(x,k),x.return=M,x)}function J(M,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=df(""+x,M.mode,k),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B:return k=Fu(x.type,x.key,x.props,null,M.mode,k),$o(k,x),k.return=M,k;case Z:return x=mf(x,M.mode,k),x.return=M,x;case b:return x=Ps(x),J(M,x,k)}if(St(x)||P(x))return x=Ds(x,M.mode,k,null),x.return=M,x;if(typeof x.then=="function")return J(M,$u(x),k);if(x.$$typeof===ft)return J(M,Qu(M,x),k);Zu(M,x)}return null}function z(M,x,k,X){var pt=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return pt!==null?null:E(M,x,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return k.key===pt?I(M,x,k,X):null;case Z:return k.key===pt?L(M,x,k,X):null;case b:return k=Ps(k),z(M,x,k,X)}if(St(k)||P(k))return pt!==null?null:Y(M,x,k,X,null);if(typeof k.then=="function")return z(M,x,$u(k),X);if(k.$$typeof===ft)return z(M,x,Qu(M,k),X);Zu(M,k)}return null}function H(M,x,k,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get(k)||null,E(x,M,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return M=M.get(X.key===null?k:X.key)||null,I(x,M,X,pt);case Z:return M=M.get(X.key===null?k:X.key)||null,L(x,M,X,pt);case b:return X=Ps(X),H(M,x,k,X,pt)}if(St(X)||P(X))return M=M.get(k)||null,Y(x,M,X,pt,null);if(typeof X.then=="function")return H(M,x,k,$u(X),pt);if(X.$$typeof===ft)return H(M,x,k,Qu(x,X),pt);Zu(x,X)}return null}function ct(M,x,k,X){for(var pt=null,Ft=null,ht=x,xt=x=0,kt=null;ht!==null&&xt<k.length;xt++){ht.index>xt?(kt=ht,ht=null):kt=ht.sibling;var Gt=z(M,ht,k[xt],X);if(Gt===null){ht===null&&(ht=kt);break}e&&ht&&Gt.alternate===null&&i(M,ht),x=f(Gt,x,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt,ht=kt}if(xt===k.length)return a(M,ht),Bt&&zi(M,xt),pt;if(ht===null){for(;xt<k.length;xt++)ht=J(M,k[xt],X),ht!==null&&(x=f(ht,x,xt),Ft===null?pt=ht:Ft.sibling=ht,Ft=ht);return Bt&&zi(M,xt),pt}for(ht=o(ht);xt<k.length;xt++)kt=H(ht,M,xt,k[xt],X),kt!==null&&(e&&kt.alternate!==null&&ht.delete(kt.key===null?xt:kt.key),x=f(kt,x,xt),Ft===null?pt=kt:Ft.sibling=kt,Ft=kt);return e&&ht.forEach(function(jr){return i(M,jr)}),Bt&&zi(M,xt),pt}function Tt(M,x,k,X){if(k==null)throw Error(s(151));for(var pt=null,Ft=null,ht=x,xt=x=0,kt=null,Gt=k.next();ht!==null&&!Gt.done;xt++,Gt=k.next()){ht.index>xt?(kt=ht,ht=null):kt=ht.sibling;var jr=z(M,ht,Gt.value,X);if(jr===null){ht===null&&(ht=kt);break}e&&ht&&jr.alternate===null&&i(M,ht),x=f(jr,x,xt),Ft===null?pt=jr:Ft.sibling=jr,Ft=jr,ht=kt}if(Gt.done)return a(M,ht),Bt&&zi(M,xt),pt;if(ht===null){for(;!Gt.done;xt++,Gt=k.next())Gt=J(M,Gt.value,X),Gt!==null&&(x=f(Gt,x,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&zi(M,xt),pt}for(ht=o(ht);!Gt.done;xt++,Gt=k.next())Gt=H(ht,M,xt,Gt.value,X),Gt!==null&&(e&&Gt.alternate!==null&&ht.delete(Gt.key===null?xt:Gt.key),x=f(Gt,x,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ht.forEach(function(ew){return i(M,ew)}),Bt&&zi(M,xt),pt}function te(M,x,k,X){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case B:t:{for(var pt=k.key;x!==null;){if(x.key===pt){if(pt=k.type,pt===tt){if(x.tag===7){a(M,x.sibling),X=h(x,k.props.children),X.return=M,M=X;break t}}else if(x.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Ps(pt)===x.type){a(M,x.sibling),X=h(x,k.props),$o(X,k),X.return=M,M=X;break t}a(M,x);break}else i(M,x);x=x.sibling}k.type===tt?(X=Ds(k.props.children,M.mode,X,k.key),X.return=M,M=X):(X=Fu(k.type,k.key,k.props,null,M.mode,X),$o(X,k),X.return=M,M=X)}return g(M);case Z:t:{for(pt=k.key;x!==null;){if(x.key===pt)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){a(M,x.sibling),X=h(x,k.children||[]),X.return=M,M=X;break t}else{a(M,x);break}else i(M,x);x=x.sibling}X=mf(k,M.mode,X),X.return=M,M=X}return g(M);case b:return k=Ps(k),te(M,x,k,X)}if(St(k))return ct(M,x,k,X);if(P(k)){if(pt=P(k),typeof pt!="function")throw Error(s(150));return k=pt.call(k),Tt(M,x,k,X)}if(typeof k.then=="function")return te(M,x,$u(k),X);if(k.$$typeof===ft)return te(M,x,Qu(M,k),X);Zu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(a(M,x.sibling),X=h(x,k),X.return=M,M=X):(a(M,x),X=df(k,M.mode,X),X.return=M,M=X),g(M)):a(M,x)}return function(M,x,k,X){try{Jo=0;var pt=te(M,x,k,X);return Ca=null,pt}catch(ht){if(ht===Ia||ht===Xu)throw ht;var Ft=yn(29,ht,null,M.mode);return Ft.lanes=X,Ft.return=M,Ft}}}var ks=gg(!0),yg=gg(!1),Ar=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(e),tg(e,null,a),i}return qu(e,o,i,a),Hu(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function Cf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Nf=!1;function Wo(){if(Nf){var e=Ra;if(e!==null)throw e}}function tl(e,i,a,o){Nf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,L=I.next;I.next=null,g===null?f=L:g.next=L,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=L:E.next=L,Y.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;g=0,Y=L=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ut&z)===z:(o&z)===z){z!==0&&z===ba&&(Nf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;z=i;var te=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){J=ct.call(te,J,z);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,z=typeof ct=="function"?ct.call(te,J,z):ct,z==null)break t;J=A({},J,z);break t;case 2:Ar=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(L=Y=H,I=J):Y=Y.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=J}}function _g(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function vg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_g(a[e],i)}var Na=D(null),Wu=D(0);function Eg(e,i){e=Ji,et(Wu,e),et(Na,i),Ji=e|i.baseLanes}function Df(){et(Wu,Ji),et(Na,Na.current)}function Of(){Ji=Wu.current,K(Na),K(Wu)}var _n=D(null),Un=null;function Rr(e){var i=e.alternate;et(ge,ge.current&1),et(_n,e),Un===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(Un=e)}function xf(e){et(ge,ge.current),et(_n,e),Un===null&&(Un=e)}function Tg(e){e.tag===22?(et(ge,ge.current),et(_n,e),Un===null&&(Un=e)):Ir()}function Ir(){et(ge,ge.current),et(_n,_n.current)}function vn(e){K(_n),Un===e&&(Un=null),K(ge)}var ge=D(0);function tc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||zd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Ot=null,Zt=null,Re=null,ec=!1,Da=!1,Ls=!1,nc=0,el=0,Oa=null,GS=0;function he(){throw Error(s(321))}function Vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,o,h,f){return qi=f,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ry:Xf,Ls=!1,f=a(o,h),Ls=!1,Da&&(f=Ag(i,a,o,h)),Sg(e),f}function Sg(e){F.H=rl;var i=Zt!==null&&Zt.next!==null;if(qi=0,Re=Zt=Ot=null,ec=!1,el=0,Oa=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&Yu(e)&&(Ie=!0))}function Ag(e,i,a,o){Ot=e;var h=0;do{if(Da&&(Oa=null),el=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,Re=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=sy,f=i(a,o)}while(Da);return f}function YS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Ot.flags|=1024),i}function Pf(){var e=nc!==0;return nc=0,e}function Uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(ec){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ec=!1}qi=0,Re=Zt=Ot=null,Da=!1,el=nc=0,Oa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ot.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Zt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Re===null?Ot.memoizedState:Re.next;if(i!==null)Re=i,Zt=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Ot.memoizedState=Re=e:Re=Re.next=e}return Re}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Oa===null&&(Oa=[]),e=dg(Oa,e,i),i=Ot,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ry:Xf),e}function rc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===ft)return He(e)}throw Error(s(438,String(e)))}function Lf(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=ye();return zf(i,Zt,e)}function zf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,I=null,L=i,Y=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Ut&J)===J:(qi&J)===J){var z=L.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===ba&&(Y=!0);else if((qi&z)===z){L=L.next,z===ba&&(Y=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(E=I=J,g=f):I=I.next=J,Ot.lanes|=z,Dr|=z;J=L.action,Ls&&a(f,J),f=L.hasEagerState?L.eagerState:a(f,J)}else z={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,Ot.lanes|=J,Dr|=J;L=L.next}while(L!==null&&L!==i);if(I===null?g=f:I.next=E,!gn(f,e.memoizedState)&&(Ie=!0,Y&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function jf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,i.memoizedState)||(Ie=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function wg(e,i,a){var o=Ot,h=ye(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!gn((Zt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Hf(Ig.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},Rg.bind(null,o,h,a,i),null),ne===null)throw Error(s(349));f||(qi&127)!==0||bg(o,i,a)}return a}function bg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=ic(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Rg(e,i,a,o){i.value=a,i.getSnapshot=o,Cg(i)&&Ng(e)}function Ig(e,i,a){return a(function(){Cg(i)&&Ng(e)})}function Cg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Ng(e){var i=Ns(e,2);i!==null&&fn(i,e,2)}function Bf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ls){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Dg(e,i,a,o){return e.baseState=a,zf(e,Zt,typeof o=="function"?o:Hi)}function QS(e,i,a,o,h){if(lc(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Og(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Og(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),I=F.S;I!==null&&I(g,E),xg(e,i,E)}catch(L){qf(e,i,L)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),xg(e,i,f)}catch(L){qf(e,i,L)}}function xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vg(e,i,o)},function(o){return qf(e,i,o)}):Vg(e,i,a)}function Vg(e,i,a){i.status="fulfilled",i.value=a,Mg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Og(e,a)))}function qf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Mg(i),i=i.next;while(i!==o)}e.action=null}function Mg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Pg(e,i){return i}function Ug(e,i){if(Bt){var a=ne.formState;if(a!==null){t:{var o=Ot;if(Bt){if(ie){e:{for(var h=ie,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=kn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=o,a=ey.bind(null,Ot,o),o.dispatch=a,o=Bf(!1),f=Kf.bind(null,Ot,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=QS.bind(null,Ot,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function kg(e){var i=ye();return Lg(i,Zt,e)}function Lg(e,i,a){if(i=zf(e,i,Pg)[0],e=sc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(g){throw g===Ia?Xu:g}else o=i;i=ye();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,xa(9,{destroy:void 0},KS.bind(null,h,a),null)),[o,f,e]}function KS(e,i){e.action=i}function zg(e){var i=ye(),a=Zt;if(a!==null)return Lg(i,a,e);ye(),i=i.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function xa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=ic(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function jg(){return ye().memoizedState}function ac(e,i,a,o){var h=en();Ot.flags|=e,h.memoizedState=xa(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(e,i,a,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&Vf(o,Zt.memoizedState.deps)?h.memoizedState=xa(i,f,a,o):(Ot.flags|=e,h.memoizedState=xa(1|i,f,a,o))}function Bg(e,i){ac(8390656,8,e,i)}function Hf(e,i){oc(2048,8,e,i)}function XS(e){Ot.flags|=4;var i=Ot.updateQueue;if(i===null)i=ic(),Ot.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function qg(e){var i=ye().memoizedState;return XS({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Hg(e,i){return oc(4,2,e,i)}function Fg(e,i){return oc(4,4,e,i)}function Gg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yg(e,i,a){a=a!=null?a.concat([e]):null,oc(4,4,Gg.bind(null,i,e),a)}function Ff(){}function Qg(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Vf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Kg(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Vf(i,o[1]))return o[0];if(o=e(),Ls){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o}function Gf(e,i,a){return a===void 0||(qi&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Xy(),Ot.lanes|=e,Dr|=e,a)}function Xg(e,i,a,o){return gn(a,i)?a:Na.current!==null?(e=Gf(e,a,o),gn(e,i)||(Ie=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Ut&261930)===0?(Ie=!0,e.memoizedState=a):(e=Xy(),Ot.lanes|=e,Dr|=e,i)}function Jg(e,i,a,o,h){var f=G.p;G.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Kf(e,!1,i,a);try{var I=h(),L=F.S;if(L!==null&&L(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=FS(I,o);il(e,i,Y,Sn(e))}else il(e,i,o,Sn(e))}catch(J){il(e,i,{then:function(){},status:"rejected",reason:J},Sn())}finally{G.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function JS(){}function Yf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=$g(e).queue;Jg(e,h,i,it,a===null?JS:function(){return Zg(e),a(o)})}function $g(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:it},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Zg(e){var i=$g(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Sn())}function Qf(){return He(El)}function Wg(){return ye().memoizedState}function ty(){return ye().memoizedState}function $S(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=wr(a);var o=br(i,e,a);o!==null&&(fn(o,i,a),Zo(o,i,a)),i={cache:Sf()},e.payload=i;return}i=i.return}}function ZS(e,i,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?ny(i,a):(a=hf(e,i,a,o),a!==null&&(fn(a,e,o),iy(a,i,o)))}function ey(e,i,a){var o=Sn();il(e,i,a,o)}function il(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))ny(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return qu(e,i,h,0),ne===null&&Bu(),!1}catch{}if(a=hf(e,i,h,o),a!==null)return fn(a,e,o),iy(a,i,o),!0}return!1}function Kf(e,i,a,o){if(o={lane:2,revertLane:Rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(i)throw Error(s(479))}else i=hf(e,a,o,2),i!==null&&fn(i,e,2)}function lc(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function ny(e,i){Da=ec=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function iy(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var rl={readContext:He,use:rc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};rl.useEffectEvent=he;var ry={readContext:He,use:rc,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Bg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ac(4194308,4,Gg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ac(4194308,4,e,i)},useInsertionEffect:function(e,i){ac(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ls){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ls){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ZS.bind(null,Ot,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Bf(e);var i=e.queue,a=ey.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(e,i){var a=en();return Gf(a,e,i)},useTransition:function(){var e=Bf(!1);return e=Jg.bind(null,Ot,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Ot,h=en();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(Ut&127)!==0||bg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Bg(Ig.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},Rg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=ne.identifierPrefix;if(Bt){var a=Ai,o=Si;a=(o&~(1<<32-me(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Ug,useActionState:Ug,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Ot,!0,a),a.dispatch=i,[e,i]},useMemoCache:Lf,useCacheRefresh:function(){return en().memoizedState=$S.bind(null,Ot)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:He,use:rc,useCallback:Qg,useContext:He,useEffect:Hf,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Kg,useReducer:sc,useRef:jg,useState:function(){return sc(Hi)},useDebugValue:Ff,useDeferredValue:function(e,i){var a=ye();return Xg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=sc(Hi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:wg,useId:Wg,useHostTransitionStatus:Qf,useFormState:kg,useActionState:kg,useOptimistic:function(e,i){var a=ye();return Dg(a,Zt,e,i)},useMemoCache:Lf,useCacheRefresh:ty};Xf.useEffectEvent=qg;var sy={readContext:He,use:rc,useCallback:Qg,useContext:He,useEffect:Hf,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Kg,useReducer:jf,useRef:jg,useState:function(){return jf(Hi)},useDebugValue:Ff,useDeferredValue:function(e,i){var a=ye();return Zt===null?Gf(a,e,i):Xg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=jf(Hi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:wg,useId:Wg,useHostTransitionStatus:Qf,useFormState:zg,useActionState:zg,useOptimistic:function(e,i){var a=ye();return Zt!==null?Dg(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ty};sy.useEffectEvent=qg;function Jf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=wr(o);h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(fn(i,e,o),Zo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=wr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(fn(i,e,o),Zo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),o=wr(a);o.tag=2,i!=null&&(o.callback=i),i=br(e,o,a),i!==null&&(fn(i,e,a),Zo(i,e,a))}};function ay(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function oy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function zs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ly(e){ju(e)}function uy(e){console.error(e)}function cy(e){ju(e)}function uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function hy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(e,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,i)},a}function fy(e){return e=wr(e),e.tag=3,e}function dy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){hy(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){hy(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function WS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Tc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ad(e,o,h)),!1;case 22:return a.flags|=65536,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ad(e,o,h)),!1}throw Error(s(435,a.tag))}return Ad(e,o,h),Tc(),!1}if(Bt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==yf&&(e=Error(s(422),{cause:o}),Qo(xn(e,a)))):(o!==yf&&(i=Error(s(423),{cause:o}),Qo(xn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Zf(e.stateNode,o,h),Cf(e,h),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),fl===null?fl=[f]:fl.push(f),fe!==4&&(fe=2),i===null)return!0;o=xn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zf(a.stateNode,o,e),Cf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fy(h),dy(h,e,a,o),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),Ie=!1;function Fe(e,i,a,o){i.child=e===null?yg(i,null,a,o):ks(i,e.child,a,o)}function my(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vs(i),o=Mf(e,i,a,g,f,h),E=Pf(),e!==null&&!Ie?(Uf(e,i,h),Fi(e,i,h)):(Bt&&E&&pf(i),i.flags|=1,Fe(e,i,o,h),i.child)}function py(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,gy(e,i,f,o,h)):(e=Fu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!od(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(g,o)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Li(f,o),e.ref=i.ref,e.return=i,i.child=e}function gy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=f,od(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return td(e,i,a,o,h)}function yy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return _y(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(i,f!==null?f.cachePool:null),f!==null?Eg(i,f):Df(),Tg(i);else return o=i.lanes=536870912,_y(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(i,f.cachePool),Eg(i,f),Ir(),i.memoizedState=null):(e!==null&&Ku(i,null),Df(),Ir());return Fe(e,i,h,a),i.child}function sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function _y(e,i,a,o,h){var f=wf();return f=f===null?null:{parent:be._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ku(i,null),Df(),Tg(i),e!==null&&wa(e,i,o,!0),i.childLanes=h,null}function cc(e,i){return i=fc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function vy(e,i,a){return ks(i,e.child,null,a),e=cc(i,i.pendingProps),e.flags|=2,vn(i),i.memoizedState=null,e}function tA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=cc(i,o),i.lanes=536870912,sl(null,e);if(xf(i),(e=ie)?(e=O_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ng(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Tr(i);return i.lanes=536870912,null}return cc(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(xf(i),h)if(i.flags&256)i.flags&=-257,i=vy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||wa(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(g=Ro(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ns(e,g),fn(o,e,g),Wf;Tc(),i=vy(e,i,a)}else e=f.treeContext,ie=kn(g.nextSibling),qe=i,Bt=!0,Er=null,Pn=!1,e!==null&&sg(i,e),i=cc(i,o),i.flags|=4096;return i}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function hc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function td(e,i,a,o,h){return Vs(i),a=Mf(e,i,a,o,void 0,h),o=Pf(),e!==null&&!Ie?(Uf(e,i,h),Fi(e,i,h)):(Bt&&o&&pf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Ey(e,i,a,o,h,f){return Vs(i),i.updateQueue=null,a=Ag(i,o,a,h),Sg(e),o=Pf(),e!==null&&!Ie?(Uf(e,i,f),Fi(e,i,f)):(Bt&&o&&pf(i),i.flags|=1,Fe(e,i,a,f),i.child)}function Ty(e,i,a,o,h){if(Vs(i),i.stateNode===null){var f=Ea,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$f,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Rf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):Ea,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Jf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&$f.enqueueReplaceState(f,f.state,null),tl(i,o,f,h),Wo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,I=zs(a,E);f.props=I;var L=f.context,Y=a.contextType;g=Ea,typeof Y=="object"&&Y!==null&&(g=He(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==g)&&oy(i,f,o,g),Ar=!1;var z=i.memoizedState;f.state=z,tl(i,o,f,h),Wo(),L=i.memoizedState,E||z!==L||Ar?(typeof J=="function"&&(Jf(i,a,J,o),L=i.memoizedState),(I=Ar||ay(i,a,I,o,z,L,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,If(e,i),g=i.memoizedProps,Y=zs(a,g),f.props=Y,J=i.pendingProps,z=f.context,L=a.contextType,I=Ea,typeof L=="object"&&L!==null&&(I=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||z!==I)&&oy(i,f,o,I),Ar=!1,z=i.memoizedState,f.state=z,tl(i,o,f,h),Wo();var H=i.memoizedState;g!==J||z!==H||Ar||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof E=="function"&&(Jf(i,a,E,o),H=i.memoizedState),(Y=Ar||ay(i,a,Y,o,z,H,I)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,hc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Fi(e,i,h),e}function Sy(e,i,a,o){return Os(),i.flags|=256,Fe(e,i,a,o),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(e){return{baseLanes:e,cachePool:hg()}}function id(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Tn),e}function Ay(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?Rr(i):Ir(),(e=ie)?(e=O_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ng(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Tr(i);return zd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=i.mode,E=fc({mode:"hidden",children:E},h),o=Ds(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=nd(a),o.childLanes=id(e,g,a),i.memoizedState=ed,sl(null,o)):(Rr(i),rd(i,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)i.flags&256?(Rr(i),i.flags&=-257,i=sd(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),E=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),E=Ds(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,ks(i,e.child,null,a),o=i.child,o.memoizedState=nd(a),o.childLanes=id(e,g,a),i.memoizedState=ed,i=sl(null,o));else if(Rr(i),zd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var L=g.dgst;g=L,o=Error(s(419)),o.stack="",o.digest=g,Qo({value:o,source:null,stack:null}),i=sd(e,i,a)}else if(Ie||wa(e,i,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=ne,g!==null&&(o=Ro(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ns(e,o),fn(g,e,o),Wf;Ld(E)||Tc(),i=sd(e,i,a)}else Ld(E)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ie=kn(E.nextSibling),qe=i,Bt=!0,Er=null,Pn=!1,e!==null&&sg(i,e),i=rd(i,o.children),i.flags|=4096);return i}return h?(Ir(),E=o.fallback,h=i.mode,I=e.child,L=I.sibling,o=Li(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,L!==null?E=Li(L,E):(E=Ds(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,sl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=nd(a):(h=E.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=hg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=id(e,g,a),i.memoizedState=ed,sl(e.child,o)):(Rr(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function rd(e,i){return i=fc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function fc(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function sd(e,i,a){return ks(i,e.child,null,a),e=rd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function wy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Ef(e.return,i,a)}function ad(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function by(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,et(ge,g),Fe(e,i,o,a),o=Bt?Yo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,i);else if(e.tag===19)wy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&tc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&tc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ad(i,!0,a,null,f,o);break;case"together":ad(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function od(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function eA(e,i,a){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),Sr(i,be,e.memoizedState.cache),Os();break;case 27:case 5:hs(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ay(e,i,a):(Rr(i),e=Fi(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return by(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ge,ge.current),o)break;return null;case 22:return i.lanes=0,yy(e,i,a,i.pendingProps);case 24:Sr(i,be,e.memoizedState.cache)}return Fi(e,i,a)}function Ry(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!od(e,a)&&(i.flags&128)===0)return Ie=!1,eA(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(i.flags&1048576)!==0&&rg(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ps(i.elementType),i.type=e,typeof e=="function")ff(e)?(o=zs(e,o),i.tag=1,i=Ty(null,i,e,o,a)):(i.tag=0,i=td(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===It){i.tag=11,i=my(null,i,e,o,a);break t}else if(h===N){i.tag=14,i=py(null,i,e,o,a);break t}}throw i=st(e)||e,Error(s(306,i,""))}}return i;case 0:return td(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=zs(o,i.pendingProps),Ty(e,i,o,h,a);case 3:t:{if(ue(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,If(e,i),tl(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Sr(i,be,o),o!==f.cache&&Tf(i,[be],a,!0),Wo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Sy(e,i,o,a);break t}else if(o!==h){h=xn(Error(s(424)),i),Qo(h),i=Sy(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=kn(e.firstChild),qe=i,Bt=!0,Er=null,Pn=!0,a=yg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),o===h){i=Fi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return hc(e,i),e===null?(a=k_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Cc(yt.current).createElement(a),o[Se]=i,o[Pe]=e,Ge(o,a,e),Ae(o),i.stateNode=o):i.memoizedState=k_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hs(i),e===null&&Bt&&(o=i.stateNode=M_(i.type,i.pendingProps,yt.current),qe=i,Pn=!0,h=ie,Pr(i.type)?(jd=h,ie=kn(o.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),hc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ie)&&(o=OA(o,i.type,i.pendingProps,Pn),o!==null?(i.stateNode=o,qe=i,ie=kn(o.firstChild),Pn=!1,h=!0):h=!1),h||Tr(i)),hs(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Pd(h,f)?o=null:g!==null&&Pd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,YS,null,null,a),El._currentValue=h),hc(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ie)&&(a=xA(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qe=i,ie=null,e=!0):e=!1),e||Tr(i)),null;case 13:return Ay(e,i,a);case 4:return ue(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ks(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return my(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Sr(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return py(e,i,i.type,i.pendingProps,a);case 15:return gy(e,i,i.type,i.pendingProps,a);case 19:return by(e,i,a);case 31:return tA(e,i,a);case 22:return yy(e,i,a,i.pendingProps);case 24:return Vs(i),o=He(be),e===null?(h=wf(),h===null&&(h=ne,f=Sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Rf(i),Sr(i,be,h)):((e.lanes&a)!==0&&(If(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,be,o)):(o=f.cache,Sr(i,be,o),o!==h.cache&&Tf(i,[be],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function ld(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Wy())e.flags|=8192;else throw Us=Ju,bf}else e.flags&=-16777217}function Iy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q_(i))if(Wy())e.flags|=8192;else throw Us=Ju,bf}function dc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vu():536870912,e.lanes|=i,Ua|=i)}function al(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function nA(e,i,a){var o=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_f())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Gi(i),f!==null?(re(i),Iy(i,f)):(re(i),ld(i,h,null,o,a))):f?f!==e.memoizedState?(Gi(i),re(i),Iy(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(i),re(i),ld(i,h,e,o,a)),null;case 27:if(ea(i),a=yt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=ot.current,Aa(i)?ag(i):(e=M_(h,o,a),i.stateNode=e,Gi(i))}return re(i),null;case 5:if(ea(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(f=ot.current,Aa(i))ag(i);else{var g=Cc(yt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=i,f[Pe]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(i)}}return re(i),ld(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||A_(e.nodeValue,a)),e||Tr(i,!0)}else e=Cc(e).createTextNode(o),e[Se]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=_f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=_f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),re(i),null);case 4:return ae(),e===null&&Dd(i.stateNode.containerInfo),re(i),null;case 10:return Bi(i.type),re(i),null;case 19:if(K(ge),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=tc(e),f!==null){for(i.flags|=128,al(o,!1),e=f.updateQueue,i.updateQueue=e,dc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)eg(a,e),a=a.sibling;return et(ge,ge.current&1|2),Bt&&zi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>_c&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(e=tc(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,dc(i,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return re(i),null}else 2*We()-o.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=ge.current,et(ge,h?a&1|2:a&1),Bt&&zi(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return vn(i),Of(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&K(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iA(e,i){switch(gf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(be),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Os()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(ge),null;case 4:return ae(),null;case 10:return Bi(i.type),null;case 22:case 23:return vn(i),Of(),e!==null&&K(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(be),null;case 25:return null;default:return null}}function Cy(e,i){switch(gf(i),i.tag){case 3:Bi(be),ae();break;case 26:case 27:case 5:ea(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:K(ge);break;case 10:Bi(i.type);break;case 22:case 23:vn(i),Of(),e!==null&&K(Ms);break;case 24:Bi(be)}}function ol(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function Cr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var I=a,L=E;try{L()}catch(Y){Jt(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){Jt(i,i.return,Y)}}function Ny(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{vg(i,a)}catch(o){Jt(e,e.return,o)}}}function Dy(e,i,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,i,o)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function Oy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function ud(e,i,a){try{var o=e.stateNode;bA(o,e.type,a,i),o[Pe]=i}catch(h){Jt(e,e.return,h)}}function xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(hd(e,i,a),e=e.sibling;e!==null;)hd(e,i,a),e=e.sibling}function mc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mc(e,i,a),e=e.sibling;e!==null;)mc(e,i,a),e=e.sibling}function Vy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Se]=e,i[Pe]=a}catch(f){Jt(e,e.return,f)}}var Yi=!1,Ce=!1,fd=!1,My=typeof WeakSet=="function"?WeakSet:Set,ke=null;function rA(e,i){if(e=e.containerInfo,Vd=Pc,e=Yp(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,L=0,Y=0,J=e,z=null;e:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=g+h),J!==f||o!==0&&J.nodeType!==3||(I=g+o),J.nodeType===3&&(g+=J.nodeValue.length),(H=J.firstChild)!==null;)z=J,J=H;for(;;){if(J===e)break e;if(z===a&&++L===h&&(E=g),z===f&&++Y===o&&(I=g),(H=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},Pc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=zs(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Jt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function Py(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),o&4&&ol(5,a);break;case 1:if(Ki(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}o&64&&Ny(a),o&512&&ll(a,a.return);break;case 3:if(Ki(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{vg(e,i)}catch(g){Jt(a,a.return,g)}}break;case 27:i===null&&o&4&&Vy(a);case 26:case 5:Ki(e,a),i===null&&o&4&&Oy(a),o&512&&ll(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),o&4&&Ly(e,a);break;case 13:Ki(e,a),o&4&&zy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dA.bind(null,a),VA(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Ce,h=Yi;var f=Ce;Yi=o,(Ce=i)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Yi=h,Ce=f}break;case 30:break;default:Ki(e,a)}}function Uy(e){var i=e.alternate;i!==null&&(e.alternate=null,Uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&aa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Qi(e,i,a){for(a=a.child;a!==null;)ky(e,i,a),a=a.sibling}function ky(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ce||wi(a,i),Qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||wi(a,i);var o=le,h=ln;Pr(a.type)&&(le=a.stateNode,ln=!1),Qi(e,i,a),yl(a.stateNode),le=o,ln=h;break;case 5:Ce||wi(a,i);case 6:if(o=le,h=ln,le=null,Qi(e,i,a),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Jt(a,i,f)}else try{le.removeChild(a.stateNode)}catch(f){Jt(a,i,f)}break;case 18:le!==null&&(ln?(e=le,N_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):N_(le,a.stateNode));break;case 4:o=le,h=ln,le=a.stateNode.containerInfo,ln=!0,Qi(e,i,a),le=o,ln=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),Ce||Cr(4,a,i),Qi(e,i,a);break;case 1:Ce||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,i,o)),Qi(e,i,a);break;case 21:Qi(e,i,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Qi(e,i,a),Ce=o;break;default:Qi(e,i,a)}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){Jt(i,i.return,a)}}}function zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){Jt(i,i.return,a)}}function sA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new My),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new My),i;default:throw Error(s(435,e.tag))}}function pc(e,i){var a=sA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=mA.bind(null,e,o);o.then(h,h)}})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){le=E.stateNode,ln=!1;break t}break;case 5:le=E.stateNode,ln=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(le===null)throw Error(s(160));ky(f,g,h),le=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jy(i,e),i=i.sibling}var Zn=null;function jy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(Cr(3,e,e.return),ol(3,e),Cr(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(un(i,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=j_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(g=j_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else B_(h,e.type,e.stateNode);else e.stateNode=z_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?B_(h,e.type,e.stateNode):z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ud(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),a!==null&&o&4&&ud(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ct){Jt(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ud(e,h,a!==null?a.memoizedProps:h)),o&1024&&(fd=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){Jt(e,e.return,ct)}}break;case 3:if(Oc=null,h=Zn,Zn=Nc(i.containerInfo),un(i,e),Zn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(ct){Jt(e,e.return,ct)}fd&&(fd=!1,By(e));break;case 4:o=Zn,Zn=Nc(e.stateNode.containerInfo),un(i,e),cn(e),Zn=o;break;case 12:un(i,e),cn(e);break;case 31:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,L=Yi,Y=Ce;if(Yi=L||h,Ce=Y||I,un(i,e),Ce=Y,Yi=L,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yi||Ce||js(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ct){Jt(I,I.return,ct)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){Jt(I,I.return,ct)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?D_(H,!0):D_(I.stateNode,!1)}catch(ct){Jt(I,I.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pc(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(xy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=cd(e);mc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(on(g,""),a.flags&=-33);var E=cd(e);mc(e,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,L=cd(e);hd(e,L,I);break;default:throw Error(s(161))}}catch(Y){Jt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function By(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;By(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ki(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(e,i.alternate,i),i=i.sibling}function js(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),js(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dy(i,i.return,a),js(i);break;case 27:yl(i.stateNode);case 26:case 5:wi(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),ol(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Jt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)_g(I[h],E)}catch(L){Jt(o,o.return,L)}}a&&g&64&&Ny(f),ll(f,f.return);break;case 27:Vy(f);case 26:case 5:Xi(h,f,a),a&&o===null&&g&4&&Oy(f),ll(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&g&4&&Ly(h,f);break;case 13:Xi(h,f,a),a&&g&4&&zy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),ll(f,f.return);break;case 30:break;default:Xi(h,f,a)}i=i.sibling}}function dd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qy(e,i,a,o),i=i.sibling}function qy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&ol(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Jt(i,i.return,I)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?Wn(e,i,a,o):ul(e,i):f._visibility&2?Wn(e,i,a,o):(f._visibility|=2,Va(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(g,i);break;case 24:Wn(e,i,a,o),h&2048&&md(i.alternate,i);break;default:Wn(e,i,a,o)}}function Va(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,I=o,L=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,I,h),ol(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Va(f,g,E,I,h):ul(f,g):(Y._visibility|=2,Va(f,g,E,I,h)),h&&L&2048&&dd(g.alternate,g);break;case 24:Va(f,g,E,I,h),h&&L&2048&&md(g.alternate,g);break;default:Va(f,g,E,I,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&dd(o.alternate,o);break;case 24:ul(a,o),h&2048&&md(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function Ma(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Hy(e,i,a),e=e.sibling}function Hy(e,i,a){switch(e.tag){case 26:Ma(e,i,a),e.flags&cl&&e.memoizedState!==null&&GA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,i,a);break;case 3:case 4:var o=Zn;Zn=Nc(e.stateNode.containerInfo),Ma(e,i,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Ma(e,i,a),cl=o):Ma(e,i,a));break;default:Ma(e,i,a)}}function Fy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,Yy(o,e)}Fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gy(e),e=e.sibling}function Gy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,gc(e)):hl(e);break;default:hl(e)}}function gc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,Yy(o,e)}Fy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}e=e.sibling}}function Yy(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Uy(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var aA={getCacheForType:function(e){var i=He(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Mt=null,Ut=0,Xt=0,En=null,Nr=!1,Pa=!1,pd=!1,Ji=0,fe=0,Dr=0,Bs=0,gd=0,Tn=0,Ua=0,fl=null,hn=null,yd=!1,yc=0,Qy=0,_c=1/0,vc=null,Or=null,Ve=0,xr=null,ka=null,$i=0,_d=0,vd=null,Ky=null,dl=0,Ed=null;function Sn(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:F.T!==null?Rd():Eu()}function Xy(){if(Tn===0)if((Ut&536870912)===0||Bt){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function fn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Vr(e,Ut,Tn,!1)),ps(e,a),((Qt&2)===0||e!==ne)&&(e===ne&&((Qt&2)===0&&(Bs|=a),fe===4&&Vr(e,Ut,Tn,!1)),bi(e))}function Jy(e,i,a){if((Qt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?cA(e,i):Sd(e,i,!0),f=o;do{if(h===0){Pa&&!o&&Vr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!lA(a)){h=Sd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=fl;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,g).flags|=256),g=Sd(E,g,!1),g!==2){if(pd&&!I){E.errorRecoveryDisabledLanes|=f,Bs|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Vr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(o,i,Tn,!Nr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yc+300-We(),10<h)){if(Vr(o,i,Tn,!Nr),oi(o,0,!0)!==0)break t;$i=i,o.timeoutHandle=I_($y.bind(null,o,a,hn,vc,yd,i,Tn,Bs,Ua,Nr,f,"Throttled",-0,0),h);break t}$y(o,a,hn,vc,yd,i,Tn,Bs,Ua,Nr,f,null,-0,0)}}break}while(!0);bi(e)}function $y(e,i,a,o,h,f,g,E,I,L,Y,J,z,H){if(e.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Hy(i,f,J);var ct=(f&62914560)===f?yc-We():(f&4194048)===f?Qy-We():0;if(ct=YA(J,ct),ct!==null){$i=f,e.cancelPendingCommit=ct(s_.bind(null,e,i,f,a,o,h,g,E,I,Y,J,null,z,H)),Vr(e,f,g,!L);return}}s_(e,i,f,a,o,h,g,E,I)}function lA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(e,i,a,o){i&=~gd,i&=~Bs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&gs(e,a,i)}function Ec(){return(Qt&6)===0?(ml(0),!1):!0}function Td(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,ji=xs=null,kf(e),Ca=null,Jo=0,e=Mt;for(;e!==null;)Cy(e.alternate,e),e=e.return;Mt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,Td(),ne=e,Mt=a=Li(e.current,null),Ut=i,Xt=0,En=null,Nr=!1,Pa=Hn(e,i),pd=!1,Ua=Tn=gd=Bs=Dr=fe=0,hn=fl=null,yd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-me(o),f=1<<h;i|=e[h],o&=~f}return Ji=i,Bu(),a}function Zy(e,i){Ot=null,F.H=rl,i===Ia||i===Xu?(i=mg(),Xt=3):i===bf?(i=mg(),Xt=4):Xt=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Mt===null&&(fe=1,uc(e,xn(i,e.current)))}function Wy(){var e=_n.current;return e===null?!0:(Ut&4194048)===Ut?Un===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Un:!1}function t_(){var e=F.H;return F.H=rl,e===null?rl:e}function e_(){var e=F.A;return F.A=aA,e}function Tc(){fe=4,Nr||(Ut&4194048)!==Ut&&_n.current!==null||(Pa=!0),(Dr&134217727)===0&&(Bs&134217727)===0||ne===null||Vr(ne,Ut,Tn,!1)}function Sd(e,i,a){var o=Qt;Qt|=2;var h=t_(),f=e_();(ne!==e||Ut!==i)&&(vc=null,La(e,i)),i=!1;var g=fe;t:do try{if(Xt!==0&&Mt!==null){var E=Mt,I=En;switch(Xt){case 8:Td(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var L=Xt;if(Xt=0,En=null,za(e,E,I,L),a&&Pa){g=0;break t}break;default:L=Xt,Xt=0,En=null,za(e,E,I,L)}}uA(),g=fe;break}catch(Y){Zy(e,Y)}while(!0);return i&&e.shellSuspendCounter++,ji=xs=null,Qt=o,F.H=h,F.A=f,Mt===null&&(ne=null,Ut=0,Bu()),g}function uA(){for(;Mt!==null;)n_(Mt)}function cA(e,i){var a=Qt;Qt|=2;var o=t_(),h=e_();ne!==e||Ut!==i?(vc=null,_c=We()+500,La(e,i)):Pa=Hn(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var f=En;e:switch(Xt){case 1:Xt=0,En=null,za(e,i,f,1);break;case 2:case 9:if(fg(f)){Xt=0,En=null,i_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),bi(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:fg(f)?(Xt=0,En=null,i_(i)):(Xt=0,En=null,za(e,i,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?q_(g):E.stateNode.complete){Xt=0,En=null;var I=E.sibling;if(I!==null)Mt=I;else{var L=E.return;L!==null?(Mt=L,Sc(L)):Mt=null}break e}}Xt=0,En=null,za(e,i,f,5);break;case 6:Xt=0,En=null,za(e,i,f,6);break;case 8:Td(),fe=6;break t;default:throw Error(s(462))}}hA();break}catch(Y){Zy(e,Y)}while(!0);return ji=xs=null,F.H=o,F.A=h,Qt=a,Mt!==null?0:(ne=null,Ut=0,Bu(),fe)}function hA(){for(;Mt!==null&&!$h();)n_(Mt)}function n_(e){var i=Ry(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?Sc(e):Mt=i}function i_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ey(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Ey(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:kf(i);default:Cy(a,i),i=Mt=eg(i,Ji),i=Ry(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?Sc(e):Mt=i}function za(e,i,a,o){ji=xs=null,kf(i),Ca=null,Jo=0;var h=i.return;try{if(WS(e,h,i,a,Ut)){fe=1,uc(e,xn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;fe=1,uc(e,xn(a,e.current)),Mt=null;return}i.flags&32768?(Bt||o===1?e=!0:Pa||(Ut&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(i,e)):Sc(i)}function Sc(e){var i=e;do{if((i.flags&32768)!==0){r_(i,Nr);return}e=i.return;var a=nA(i.alternate,i,Ji);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);fe===0&&(fe=5)}function r_(e,i){do{var a=iA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);fe=6,Mt=null}function s_(e,i,a,o,h,f,g,E,I){e.cancelPendingCommit=null;do Ac();while(Ve!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=cf,tf(e,a,f,g,E,I),e===ne&&(Mt=ne=null,Ut=0),ka=i,xr=e,$i=a,_d=f,vd=h,Ky=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pA(ur,function(){return c_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=G.p,G.p=2,g=Qt,Qt|=4;try{rA(e,i,a)}finally{Qt=g,G.p=h,F.T=o}}Ve=1,a_(),o_(),l_()}}function a_(){if(Ve===1){Ve=0;var e=xr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=G.p;G.p=2;var h=Qt;Qt|=4;try{jy(i,e);var f=Md,g=Yp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Gp(E.ownerDocument.documentElement,E)){if(I!==null&&sf(E)){var L=I.start,Y=I.end;if(Y===void 0&&(Y=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var H=z.getSelection(),ct=E.textContent.length,Tt=Math.min(I.start,ct),te=I.end===void 0?Tt:Math.min(I.end,ct);!H.extend&&Tt>te&&(g=te,te=Tt,Tt=g);var M=Fp(E,Tt),x=Fp(E,te);if(M&&x&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var k=J.createRange();k.setStart(M.node,M.offset),H.removeAllRanges(),Tt>te?(H.addRange(k),H.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),H.addRange(k))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Pc=!!Vd,Md=Vd=null}finally{Qt=h,G.p=o,F.T=a}}e.current=i,Ve=2}}function o_(){if(Ve===2){Ve=0;var e=xr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=G.p;G.p=2;var h=Qt;Qt|=4;try{Py(e,i.alternate,i)}finally{Qt=h,G.p=o,F.T=a}}Ve=3}}function l_(){if(Ve===4||Ve===3){Ve=0,du();var e=xr,i=ka,a=$i,o=Ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,ka=xr=null,u_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Mi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=G.p,G.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=i,G.p=h}}($i&3)!==0&&Ac(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ed?dl++:(dl=0,Ed=e):dl=0,ml(0)}}function u_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function Ac(){return a_(),o_(),l_(),c_()}function c_(){if(Ve!==5)return!1;var e=xr,i=_d;_d=0;var a=Mi($i),o=F.T,h=G.p;try{G.p=32>a?32:a,F.T=null,a=vd,vd=null;var f=xr,g=$i;if(Ve=0,ka=xr=null,$i=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,Gy(f.current),qy(f,f.current,g,a),Qt=E,ml(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{G.p=h,F.T=o,u_(e,i)}}function h_(e,i,a){i=xn(a,i),i=Zf(e.stateNode,i,2),e=br(e,i,2),e!==null&&(ps(e,2),bi(e))}function Jt(e,i,a){if(e.tag===3)h_(e,e,a);else for(;i!==null;){if(i.tag===3){h_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=xn(a,e),a=fy(2),o=br(i,a,2),o!==null&&(dy(a,o,i,e),ps(o,2),bi(o));break}}i=i.return}}function Ad(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new oA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(pd=!0,h.add(a),e=fA.bind(null,e,i,a),i.then(e,e))}function fA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Ut&a)===a&&(fe===4||fe===3&&(Ut&62914560)===Ut&&300>We()-yc?(Qt&2)===0&&La(e,0):gd|=a,Ua===Ut&&(Ua=0)),bi(e)}function f_(e,i){i===0&&(i=vu()),e=Ns(e,i),e!==null&&(ps(e,i),bi(e))}function dA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),f_(e,a)}function mA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),f_(e,a)}function pA(e,i){return xe(e,i)}var wc=null,ja=null,wd=!1,bc=!1,bd=!1,Mr=0;function bi(e){e!==ja&&e.next===null&&(ja===null?wc=ja=e:ja=ja.next=e),bc=!0,wd||(wd=!0,yA())}function ml(e,i){if(!bd&&bc){bd=!0;do for(var a=!1,o=wc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,g_(o,f))}else f=Ut,f=oi(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,g_(o,f));o=o.next}while(a);bd=!1}}function gA(){d_()}function d_(){bc=wd=!1;var e=0;Mr!==0&&IA()&&(e=Mr);for(var i=We(),a=null,o=wc;o!==null;){var h=o.next,f=m_(o,i);f===0?(o.next=null,a===null?wc=h:a.next=h,h===null&&(ja=a)):(a=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Ve!==0&&Ve!==5||ml(e),Mr!==0&&(Mr=0)}function m_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Wh(E,i)):I<=i&&(e.expiredLanes|=E),f&=~E}if(i=ne,a=Ut,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&lr(o),Mi(a)){case 2:case 8:a=wo;break;case 32:a=ur;break;case 268435456:a=mu;break;default:a=ur}return o=p_.bind(null,e),a=xe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var o=Ut;return o=oi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jy(e,o,i),m_(e,We()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function g_(e,i){if(Ac())return null;Jy(e,i,!0)}function yA(){NA(function(){(Qt&6)!==0?xe(Ao,gA):d_()})}function Rd(){if(Mr===0){var e=ba;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Mr=e}return Mr}function y_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function __(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function _A(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=y_((h[Pe]||null).action),g=o.submitter;g&&(i=(i=g[Pe]||null)?y_(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var I=g?__(h,g):new FormData(h);Yf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?__(h,g):new FormData(h),Yf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Id=0;Id<uf.length;Id++){var Cd=uf[Id],vA=Cd.toLowerCase(),EA=Cd[0].toUpperCase()+Cd.slice(1);$n(vA,"on"+EA)}$n(Xp,"onAnimationEnd"),$n(Jp,"onAnimationIteration"),$n($p,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(US,"onTransitionRun"),$n(kS,"onTransitionStart"),$n(LS,"onTransitionCancel"),$n(Zp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function v_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,L=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,L=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=I}}}}function Pt(e,i){var a=i[sa];a===void 0&&(a=i[sa]=new Set);var o=e+"__bubble";a.has(o)||(E_(i,e,2,!1),a.add(o))}function Nd(e,i,a){var o=0;i&&(o|=4),E_(a,e,o,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[Rc]){e[Rc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||Nd(a,!1,e),Nd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Nd("selectionchange",!1,i))}}function E_(e,i,a,o){switch(X_(i)){case 2:var h=XA;break;case 8:h=JA;break;default:h=Gd}a=h.bind(null,i,a,e),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Od(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}pr(function(){var L=f,Y=Cn(a),J=[];t:{var z=Wp.get(e);if(z!==void 0){var H=_i,ct=e;switch(e){case"keypress":if(As(a)===0)break t;case"keydown":case"keyup":H=ku;break;case"focusin":ct="focus",H=bs;break;case"focusout":ct="blur",H=bs;break;case"beforeblur":case"afterblur":H=bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Xp:case Jp:case $p:H=Du;break;case Zp:H=S;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=Dt}var Tt=(i&4)!==0,te=!Tt&&(e==="scroll"||e==="scrollend"),M=Tt?z!==null?z+"Capture":null:z;Tt=[];for(var x=L,k;x!==null;){var X=x;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||M===null||(X=Qn(x,M),X!=null&&Tt.push(gl(x,X,k))),te)break;x=x.return}0<Tt.length&&(z=new H(z,ct,null,a,Y),J.push({event:z,listeners:Tt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==Uo&&(ct=a.relatedTarget||a.fromElement)&&(hi(ct)||ct[ui]))break t;if((H||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=L,ct=ct?hi(ct):null,ct!==null&&(te=u(ct),Tt=ct.tag,ct!==te||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(H=null,ct=L),H!==ct)){if(Tt=jo,X="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=ki,X="onPointerLeave",M="onPointerEnter",x="pointer"),te=H==null?z:mn(H),k=ct==null?z:mn(ct),z=new Tt(X,x+"leave",H,a,Y),z.target=te,z.relatedTarget=k,X=null,hi(Y)===L&&(Tt=new Tt(M,x+"enter",ct,a,Y),Tt.target=k,Tt.relatedTarget=te,X=Tt),te=X,H&&ct)e:{for(Tt=SA,M=H,x=ct,k=0,X=M;X;X=Tt(X))k++;X=0;for(var pt=x;pt;pt=Tt(pt))X++;for(;0<k-X;)M=Tt(M),k--;for(;0<X-k;)x=Tt(x),X--;for(;k--;){if(M===x||x!==null&&M===x.alternate){Tt=M;break e}M=Tt(M),x=Tt(x)}Tt=null}else Tt=null;H!==null&&T_(J,z,H,Tt,!1),ct!==null&&te!==null&&T_(J,te,ct,Tt,!0)}}t:{if(z=L?mn(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ft=Lp;else if(Up(z))if(zp)Ft=VS;else{Ft=OS;var ht=DS}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&ua(L.elementType)&&(Ft=Lp):Ft=xS;if(Ft&&(Ft=Ft(e,L))){kp(J,Ft,a,Y);break t}ht&&ht(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(ht=L?mn(L):window,e){case"focusin":(Up(ht)||ht.contentEditable==="true")&&(ya=ht,af=L,Go=null);break;case"focusout":Go=af=ya=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Qp(J,a,Y);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Qp(J,a,Y)}var xt;if(Yt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ga?Rs(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ti&&a.locale!=="ko"&&(ga||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ga&&(xt=Lo()):(yi=Y,ko="value"in yi?yi.value:yi.textContent,ga=!0)),ht=Ic(L,kt),0<ht.length&&(kt=new Ei(kt,e,null,a,Y),J.push({event:kt,listeners:ht}),xt?kt.data=xt:(xt=pa(a),xt!==null&&(kt.data=xt)))),(xt=Dn?RS(e,a):IS(e,a))&&(kt=Ic(L,"onBeforeInput"),0<kt.length&&(ht=new Ei("onBeforeInput","beforeinput",null,a,Y),J.push({event:ht,listeners:kt}),ht.data=xt)),_A(J,e,L,a,Y)}v_(J,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ic(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(gl(e,h,f)),h=Qn(e,i),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function SA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,L=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||L===null||(I=L,h?(L=Qn(a,f),L!=null&&g.unshift(gl(a,L,I))):h||(L=Qn(a,f),L!=null&&g.push(gl(a,L,I)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var AA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(AA,`
`).replace(wA,"")}function A_(e,i){return i=S_(i),S_(e)===i}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Po(e,o,f);break;case"data":if(i!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,oa(e,a,o))}}function xd(e,i,a,o,h,f){switch(a){case"style":Po(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):oa(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,f,g,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var E=f=g=h=null,I=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":L=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Wt(e,i,o,Y,a,null)}}wu(e,f,E,I,L,g,h,!1);return;case"select":Pt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?hr(e,!!o,i,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Pt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,g,E,a,null)}fr(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,i,I,o,a,null));return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)Pt(pl[o],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,L,o,a,null)}return;default:if(ua(i)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&xd(e,i,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function bA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,L=null,Y=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(H)||Wt(e,i,H,null,o,J)}}for(var z in o){var H=o[z];if(J=a[z],o.hasOwnProperty(z)&&(H!=null||J!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==J&&Wt(e,i,z,H,o,J)}}la(e,g,E,I,L,Y,f,h);return;case"select":H=g=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Wt(e,i,h,f,o,I)}i=E,a=g,o=H,z!=null?hr(e,!!a,z,!1):!!o!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,i,g,h,o,f)}bu(e,z,H);return;case"option":for(var ct in a)z=a[ct],a.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Wt(e,i,ct,null,o,z));for(I in o)z=o[I],H=a[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Wt(e,i,I,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)z=a[Tt],a.hasOwnProperty(Tt)&&z!=null&&!o.hasOwnProperty(Tt)&&Wt(e,i,Tt,null,o,z);for(L in o)if(z=o[L],H=a[L],o.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Wt(e,i,L,z,o,H)}return;default:if(ua(i)){for(var te in a)z=a[te],a.hasOwnProperty(te)&&z!==void 0&&!o.hasOwnProperty(te)&&xd(e,i,te,void 0,o,z);for(Y in o)z=o[Y],H=a[Y],!o.hasOwnProperty(Y)||z===H||z===void 0&&H===void 0||xd(e,i,Y,z,o,H);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Wt(e,i,M,null,o,z);for(J in o)z=o[J],H=a[J],!o.hasOwnProperty(J)||z===H||z==null&&H==null||Wt(e,i,J,z,o,H)}function w_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&w_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],L=I.startTime;if(L>E)break;var Y=I.transferSize,J=I.initiatorType;Y&&w_(J)&&(I=I.responseEnd,g+=Y*(I<E?1:(E-L)/(I-L)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vd=null,Md=null;function Cc(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function IA(){var e=window.event;return e&&e.type==="popstate"?e===Ud?!1:(Ud=e,!0):(Ud=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(DA)}:I_;function DA(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function N_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Fa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Fa(i)}function D_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function OA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function xA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function O_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var jd=null;function x_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function M_(e,i,a){switch(i=Cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);aa(e)}var Ln=new Map,P_=new Set;function Nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=G.d;G.d={f:MA,r:PA,D:UA,C:kA,L:LA,m:zA,X:BA,S:jA,M:qA};function MA(){var e=Zi.f(),i=Ec();return e||i}function PA(e){var i=In(e);i!==null&&i.tag===5&&i.type==="form"?Zg(i):Zi.r(e)}var Ba=typeof document>"u"?null:document;function U_(e,i,a){var o=Ba;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Ae(i),o.head.appendChild(i)))}}function UA(e){Zi.D(e),U_("dns-prefetch",e,null)}function kA(e,i){Zi.C(e,i),U_("preconnect",e,i)}function LA(e,i,a){Zi.L(e,i,a);var o=Ba;if(o&&e&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(i){case"style":f=qa(e);break;case"script":f=Ha(e)}Ln.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(f))||i==="script"&&o.querySelector(vl(f))||(i=o.createElement("link"),Ge(i,"link",e),Ae(i),o.head.appendChild(i)))}}function zA(e,i){Zi.m(e,i);var a=Ba;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ae(o),a.head.appendChild(o)}}}function jA(e,i,a){Zi.S(e,i,a);var o=Ba;if(o&&e){var h=fi(o).hoistableStyles,f=qa(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(_l(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&Bd(e,a);var I=g=o.createElement("link");Ae(I),Ge(I,"link",e),I._p=new Promise(function(L,Y){I.onload=L,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Dc(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function BA(e,i){Zi.X(e,i);var a=Ba;if(a&&e){var o=fi(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0},i),(i=Ln.get(h))&&qd(e,i),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function qA(e,i){Zi.M(e,i);var a=Ba;if(a&&e){var o=fi(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&qd(e,i),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k_(e,i,a,o){var h=(h=yt.current)?Nc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(_l(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||HA(h,e,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+an(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function L_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Ae(i),e.head.appendChild(i))}function Ha(e){return'[src="'+an(e)+'"]'}function vl(e){return"script[async]"+e}function z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,Ae(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ge(o,"style",h),Dc(o,a.precedence,e),i.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(_l(h));if(f)return i.state.loading|=4,i.instance=f,Ae(f),f;o=L_(a),(h=Ln.get(h))&&Bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",o),i.state.loading|=4,Dc(f,a.precedence,e),i.instance=f;case"script":return f=Ha(a.src),(h=e.querySelector(vl(f)))?(i.instance=h,Ae(h),h):(o=a,(h=Ln.get(f))&&(o=A({},a),qd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dc(o,a.precedence,e));return i.instance}function Dc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Oc=null;function j_(e,i,a){if(Oc===null){var o=new Map,h=Oc=new Map;h.set(a,o)}else h=Oc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function B_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function q_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=i.querySelector(_l(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=i.ownerDocument||i,o=L_(o),(h=Ln.get(h))&&Bd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function YA(e,i){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Hd===0&&(Hd=62500*RA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Hd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,i.forEach(QA,e),Vc=null,xc.call(e))}function QA(e,i){if(!(i.state.loading&4)){var a=Vc.get(e);if(a)var o=a.get(null);else{a=new Map,Vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:ft,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function KA(e,i,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function H_(e,i,a,o,h,f,g,E,I,L,Y,J){return e=new KA(e,i,a,g,I,L,Y,J,E),i=1,f===!0&&(i|=24),f=yn(3,null,null,i),e.current=f,f.stateNode=e,i=Sf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Rf(f),e}function F_(e){return e?(e=Ea,e):Ea}function G_(e,i,a,o,h,f){h=F_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=br(e,o,i),a!==null&&(fn(a,e,i),Zo(a,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Fd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function Q_(e){if(e.tag===13||e.tag===31){var i=Ns(e,67108864);i!==null&&fn(i,e,67108864),Fd(e,67108864)}}function K_(e){if(e.tag===13||e.tag===31){var i=Sn();i=ys(i);var a=Ns(e,i);a!==null&&fn(a,e,i),Fd(e,i)}}var Pc=!0;function XA(e,i,a,o){var h=F.T;F.T=null;var f=G.p;try{G.p=2,Gd(e,i,a,o)}finally{G.p=f,F.T=h}}function JA(e,i,a,o){var h=F.T;F.T=null;var f=G.p;try{G.p=8,Gd(e,i,a,o)}finally{G.p=f,F.T=h}}function Gd(e,i,a,o){if(Pc){var h=Yd(o);if(h===null)Od(e,i,o,Uc,a),J_(e,o);else if(ZA(h,e,i,a,o))o.stopPropagation();else if(J_(e,o),i&4&&-1<$A.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-me(g);E.entanglements[1]|=I,g&=~I}bi(f),(Qt&6)===0&&(_c=We()+500,ml(0))}}break;case 31:case 13:E=Ns(f,2),E!==null&&fn(E,f,2),Ec(),Fd(f,2)}if(f=Yd(o),f===null&&Od(e,i,o,Uc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Od(e,i,o,null,a)}}function Yd(e){return e=Cn(e),Qd(e)}var Uc=null;function Qd(e){if(Uc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uc=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Ao:return 2;case wo:return 8;case ur:case Zh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Kd=!1,Ur=null,kr=null,Lr=null,Tl=new Map,Sl=new Map,zr=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function Al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&Q_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ZA(e,i,a,o,h){switch(i){case"focusin":return Ur=Al(Ur,e,i,a,o,h),!0;case"dragenter":return kr=Al(kr,e,i,a,o,h),!0;case"mouseover":return Lr=Al(Lr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Al(Tl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,e,i,a,o,h)),!0}return!1}function $_(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){K_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){K_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return i=In(a),i!==null&&Q_(i),e.blockedOn=a,!1;i.shift()}return!0}function Z_(e,i,a){kc(e)&&a.delete(i)}function WA(){Kd=!1,Ur!==null&&kc(Ur)&&(Ur=null),kr!==null&&kc(kr)&&(kr=null),Lr!==null&&kc(Lr)&&(Lr=null),Tl.forEach(Z_),Sl.forEach(Z_)}function Lc(e,i){e.blockedOn===i&&(e.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WA)))}var zc=null;function W_(e){zc!==e&&(zc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===e&&(zc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Qd(o||a)===null)continue;break}var f=In(a);f!==null&&(e.splice(i,3),i-=3,Yf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(e){function i(I){return Lc(I,e)}Ur!==null&&Lc(Ur,e),kr!==null&&Lc(kr,e),Lr!==null&&Lc(Lr,e),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Pe]||null;if(typeof f=="function")g||W_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Qd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),W_(a)}}}function tv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(e){this._internalRoot=e}jc.prototype.render=Xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Sn();G_(a,o,e,i,null,null)},jc.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;G_(e.current,2,null,e,null,null),Ec(),i[ui]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Eu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&$_(e)}};var ev=t.version;if(ev!=="19.2.4")throw Error(s(527,ev,"19.2.4"));G.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var tw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{qn=Bc.inject(tw),je=Bc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=ly,f=uy,g=cy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=H_(e,1,!1,null,null,a,o,null,h,f,g,tv),e[ui]=i.current,Dd(e),new Xd(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=ly,g=uy,E=cy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=H_(e,1,!0,i,a??null,o,h,I,f,g,E,tv),i.context=F_(null),a=i.current,o=Sn(),o=ys(o),h=wr(o),h.callback=null,br(a,h,o),a=o,i.current.lanes=a,ps(i,a),bi(i),e[ui]=i.current,Dd(e),new jc(i)},bl.version="19.2.4",bl}var hv;function cw(){if(hv)return Zd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=uw(),Zd.exports}var hw=cw();function jn({className:r="",...t}){return j.jsx("div",{className:`rounded-2xl border border-white/10 bg-ink-900 shadow-sm ${r}`,...t})}function fw({issues:r,onSelect:t}){return r.length===0?j.jsx(jn,{className:"p-6 text-sm text-white/60",children:"No issues found. Try another search."}):j.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:r.map(n=>j.jsx("button",{onClick:()=>t(n),className:"text-left",children:j.jsxs(jn,{className:"flex h-full flex-col overflow-hidden",children:[n.image?.small_url?j.jsx("img",{src:n.image.small_url,alt:n.name??"Issue cover",className:"h-56 w-full object-cover",loading:"lazy"}):j.jsx("div",{className:"flex h-56 items-center justify-center bg-ink-800 text-sm text-white/40",children:"No cover"}),j.jsxs("div",{className:"flex flex-1 flex-col gap-1 p-4",children:[j.jsxs("p",{className:"text-sm font-semibold",children:[n.volume?.name??"Untitled"," #",n.issue_number]}),j.jsx("p",{className:"text-xs text-white/60",children:n.name??"Unnamed Issue"}),j.jsx("p",{className:"text-xs text-white/40",children:n.cover_date??"Unknown date"})]})]})},n.id))})}function nn({className:r="",...t}){return j.jsx("button",{className:`inline-flex items-center justify-center rounded-xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${r}`,...t})}function Xc({className:r="",...t}){return j.jsx("input",{className:`w-full rounded-xl border border-white/10 bg-ink-900 px-4 py-3 text-sm text-white placeholder:text-white/40 shadow-sm focus:border-white/30 focus:outline-none ${r}`,...t})}function dw({value:r,onChange:t,onSubmit:n,isLoading:s=!1,suggestions:l=[],isSuggesting:u=!1,onSelectSuggestion:d}){const p=y=>{y.preventDefault(),n()};return j.jsxs("div",{className:"relative",children:[j.jsxs("form",{onSubmit:p,className:"flex w-full flex-col gap-3 sm:flex-row",children:[j.jsx(Xc,{value:r,onChange:y=>t(y.target.value),placeholder:"Search Comic Vine issues..."}),j.jsx(nn,{type:"submit",disabled:s,children:s?"Searching...":"Search"})]}),l.length>0||u?j.jsx("div",{className:"absolute z-10 mt-2 w-full rounded-xl border border-white/10 bg-ink-900 shadow-lg",children:u?j.jsx("div",{className:"px-4 py-2 text-sm text-white/50",children:"Loading..."}):l.map(y=>j.jsx("button",{type:"button",className:"w-full px-4 py-2 text-left text-sm text-white/80 hover:bg-ink-800",onClick:()=>d?.(y),children:y},y))}):null]})}const mw="05dda6b0fbaf2a4b6f96a8c533e649afc3903551",pw="https://api.allorigins.win/raw?url=",fv=[pw,"https://api.allorigins.win/raw?url=","https://cors.isomorphic-git.org/"].filter(Boolean),gw=360*60*1e3,yw="https://comicvine.gamespot.com/api";function _w(r,t){const n=new URL(`${yw}${r}`);return Object.entries(t).forEach(([s,l])=>n.searchParams.set(s,l)),n.toString()}function vw(r){if(typeof window>"u")return null;const t=`comicvine:search:${r.toLowerCase()}`,n=window.localStorage.getItem(t);if(!n)return null;try{const s=JSON.parse(n);return Date.now()-s.timestamp>gw?(window.localStorage.removeItem(t),null):s.results}catch{return null}}function Ew(r,t){if(typeof window>"u")return;const n=`comicvine:search:${r.toLowerCase()}`,s=JSON.stringify({timestamp:Date.now(),results:t});window.localStorage.setItem(n,s)}async function Tw(r){const t=fv.length>0?fv.map(s=>`${s}${encodeURIComponent(r)}`):[r];let n=null;for(let s=0;s<2;s+=1){for(const l of t){const u=new AbortController,d=setTimeout(()=>u.abort(),8e3);try{const p=await fetch(l,{signal:u.signal});if(!p.ok)throw new Error(`HTTP ${p.status}`);return p}catch(p){n=p}finally{clearTimeout(d)}}await new Promise(l=>setTimeout(l,300*(s+1)))}throw n??new Error("Network error")}async function HE(r,t){const n=vw(r);if(n&&!t)return n;const s=_w("/search/",{api_key:mw,format:"json",resources:"issue",query:r,limit:t?String(t):"20",field_list:"id,name,issue_number,cover_date,image,volume"}),l=await Tw(s);if(!l.ok)throw new Error("Comic Vine request failed");const u=await l.json();if(u.error&&u.error!=="OK")throw new Error(u.error);const d=u.results??[];return t||Ew(r,d),d}async function Sw(r){return HE(r)}async function Aw(r){return HE(r,6)}let Il=null;function ww(){return Il||(Il=new Promise((r,t)=>{const n=setTimeout(()=>{t(new Error("YouTube API load timeout"))},8e3);if(window.YT?.Player){clearTimeout(n),r(window.YT);return}if(document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const u=()=>{window.YT?.Player?(clearTimeout(n),r(window.YT)):setTimeout(u,50)};u();return}const l=document.createElement("script");l.src="https://www.youtube.com/iframe_api",l.async=!0,l.onerror=()=>{clearTimeout(n),t(new Error("Failed to load YouTube API"))},window.onYouTubeIframeAPIReady=()=>{window.YT?(clearTimeout(n),r(window.YT)):(clearTimeout(n),t(new Error("YouTube API unavailable")))},document.head.appendChild(l)}),Il)}function bw(){Il=null;const r=document.querySelector('script[src="https://www.youtube.com/iframe_api"]');r&&r.remove(),window.onYouTubeIframeAPIReady&&delete window.onYouTubeIframeAPIReady}async function Rw(r,t,n){const s=await ww();return new Promise(l=>{const u=new s.Player(r,{host:"https://www.youtube.com",height:"1",width:"1",playerVars:{playsinline:1,enablejsapi:1,origin:window.location.origin,rel:0,modestbranding:1},events:{onReady:()=>l(u),onStateChange:t,onError:n}})})}function Iw(r){try{const t=new URL(r.startsWith("http")?r:`https://${r}`),n=t.hostname.replace("www.","");if(n==="youtube.com"||n==="m.youtube.com"||n==="music.youtube.com"){if(t.pathname.startsWith("/watch"))return t.searchParams.get("v");if(t.pathname.startsWith("/embed/"))return t.pathname.split("/embed/")[1];if(t.pathname.startsWith("/shorts/"))return t.pathname.split("/shorts/")[1]}return n==="youtu.be"?t.pathname.replace("/",""):null}catch{return null}}const FE=_t.createContext(null);function Cw({children:r}){const[t,n]=_t.useState(null),[s,l]=_t.useState(!1),[u,d]=_t.useState(0),[p,y]=_t.useState(0),[_,T]=_t.useState(70),[A,C]=_t.useState([]),[B,Z]=_t.useState(0),[tt,W]=_t.useState(null),[lt,vt]=_t.useState(!1),[ft,It]=_t.useState(0),gt=_t.useRef(null),Nt=_t.useRef(null);_t.useEffect(()=>{let G=!0;const it=setTimeout(()=>{!G||gt.current||W("YouTube player blocked. Disable adblock or open in YouTube.")},1e4);return Rw("youtube-player",at=>{at.data===window.YT?.PlayerState?.ENDED&&O(),at.data===window.YT?.PlayerState?.PLAYING&&(l(!0),W(null)),at.data===window.YT?.PlayerState?.PAUSED&&l(!1)},at=>{const bt=Number(at.data),D=bt===150||bt===153||bt===101?"Embed blocked by YouTube. Open on YouTube.":`YouTube error: ${bt}`;W(D),l(!1)}).then(at=>{if(!G)return;gt.current=at;const bt=at.getIframe?.();bt&&(bt.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),bt.setAttribute("allow","autoplay; encrypted-media; picture-in-picture")),at.setVolume(_),vt(!0),Nt.current&&(at.loadVideoById(Nt.current),at.playVideo(),l(!0),Nt.current=null)}).catch(at=>{G&&(W(at instanceof Error?at.message:"YouTube API failed to load."),vt(!1))}),()=>{G=!1,clearTimeout(it),gt.current?.destroy(),gt.current=null}},[ft]);const N=(G,it)=>{const at=Math.max(0,G.findIndex(bt=>bt.id===it.id));C(G),Z(at===-1?0:at),b(it)},b=G=>{const it=Iw(G.youtube_url);if(!it){W("Invalid YouTube URL for this track.");return}W(null),n(G);const at=gt.current;at?(at.loadVideoById(it),at.playVideo(),l(!0)):Nt.current=it},R=G=>{N([G],G)},V=()=>{const G=gt.current;G&&(s?(G.pauseVideo(),l(!1)):(G.playVideo(),l(!0)))},O=()=>{if(A.length===0)return;const G=B+1;G>=A.length||(Z(G),b(A[G]))},P=()=>{if(A.length===0)return;const G=B-1;G<0||(Z(G),b(A[G]))},w=G=>{const it=gt.current;it&&(it.seekTo(G,!0),d(G))},st=G=>{const it=Math.min(100,Math.max(0,G));T(it);const at=gt.current;at&&at.setVolume(it)},St=()=>{bw(),W(null),vt(!1),It(G=>G+1)};_t.useEffect(()=>{const G=setInterval(()=>{const it=gt.current;if(!it)return;const at=it.getDuration?.()??0,bt=it.getCurrentTime?.()??0;at&&y(at),d(bt)},500);return()=>clearInterval(G)},[]);const F=_t.useMemo(()=>({currentTrack:t,isPlaying:s,currentTime:u,duration:p,volume:_,canGoNext:B<A.length-1,canGoPrev:B>0,error:tt,isReady:lt,playTrack:R,playQueue:N,togglePlay:V,playNext:O,playPrev:P,seekTo:w,setVolume:st,retryPlayer:St}),[t,s,u,p,_,B,A,tt,lt]);return j.jsxs(FE.Provider,{value:F,children:[r,j.jsx("div",{className:"fixed bottom-0 left-0 h-px w-px opacity-0",children:j.jsx("div",{id:"youtube-player"})})]})}function Bm(){const r=_t.useContext(FE);if(!r)throw new Error("usePlayer must be used within PlayerProvider");return r}function Nw(){const{currentTrack:r,isPlaying:t,currentTime:n,duration:s,volume:l,canGoNext:u,canGoPrev:d,error:p,retryPlayer:y,togglePlay:_,playNext:T,playPrev:A,seekTo:C,setVolume:B}=Bm();return r?j.jsx("div",{className:"fixed bottom-0 left-0 w-full border-t border-white/10 bg-ink-900/95 backdrop-blur",children:j.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-6 py-4",children:[j.jsxs("div",{className:"min-w-[200px]",children:[j.jsx("p",{className:"text-xs uppercase text-white/40",children:"Now playing"}),j.jsx("p",{className:"text-sm font-semibold",children:r?.title??"Select a track"}),p?j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("p",{className:"text-xs text-red-200",children:p}),r?j.jsx("button",{className:"text-xs text-white/70 underline",onClick:()=>window.open(r.youtube_url,"_blank","noopener,noreferrer"),children:"Open"}):null,j.jsx("button",{className:"text-xs text-white/70 underline",onClick:y,children:"Retry"})]}):null]}),j.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-6",children:[j.jsxs("div",{className:"flex items-center justify-center gap-3",children:[j.jsx(nn,{onClick:A,disabled:!d,className:"px-3 py-2","aria-label":"Previous track",children:j.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",children:j.jsx("path",{d:"M5 3.2v9.6H3.5V3.2H5zm7.5 9.1-6.2-4.1 6.2-4.1v8.2z"})})}),j.jsx(nn,{onClick:_,className:"px-4 py-2","aria-label":"Play pause",children:t?j.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor","aria-hidden":"true",children:j.jsx("path",{d:"M5 3.5h3v11H5v-11zm5 0h3v11h-3v-11z"})}):j.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor","aria-hidden":"true",children:j.jsx("path",{d:"M4.5 3.5v11l9-5.5-9-5.5z"})})}),j.jsx(nn,{onClick:T,disabled:!u,className:"px-3 py-2","aria-label":"Next track",children:j.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",className:"rotate-180",children:j.jsx("path",{d:"M5 3.2v9.6H3.5V3.2H5zm7.5 9.1-6.2-4.1 6.2-4.1v8.2z"})})})]}),j.jsx("input",{type:"range",min:0,max:s||0,value:s?n:0,onChange:Z=>C(Number(Z.target.value)),className:"w-full accent-white"}),j.jsxs("div",{className:"text-xs text-white/50",children:[Math.floor(n),"s / ",Math.floor(s),"s"]})]}),j.jsxs("div",{className:"flex min-w-[140px] items-center gap-3",children:[j.jsx("span",{className:"text-xs text-white/50",children:"Vol"}),j.jsx("input",{type:"range",min:0,max:100,value:l,onChange:Z=>B(Number(Z.target.value)),className:"w-full accent-white"})]})]})}):null}const Dw=()=>{};var dv={};const GE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Ow=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let C=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(C=64)),s.push(n[T],n[A],n[C],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(GE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ow(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||_==null||A==null)throw new xw;const C=u<<2|p>>4;if(s.push(C),_!==64){const B=p<<4&240|_>>2;if(s.push(B),A!==64){const Z=_<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(r){const t=GE(r);return YE.encodeByteArray(t,!0)},oh=function(r){return Vw(r).replace(/\./g,"")},QE=function(r){try{return YE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pw=()=>Mw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof dv>"u")return;const r=dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&QE(r[1]);return t&&JSON.parse(t)},Nh=()=>{try{return Dw()||Pw()||Uw()||kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KE=r=>Nh()?.emulatorHosts?.[r],Lw=r=>{const t=KE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},XE=()=>Nh()?.config,JE=r=>Nh()?.[`_${r}`];class zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(r){return(await fetch(r,{credentials:"include"})).ok}function jw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(n)),oh(JSON.stringify(d)),""].join(".")}const Ul={};function Bw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?r.emulator.push(t):r.prod.push(t);return r}function qw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let mv=!1;function ZE(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ul[r]===t||Ul[r]||mv)return;Ul[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Bw().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{mv=!0,d()},C}function T(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=qw(s),B=n("text"),Z=document.getElementById(B)||document.createElement("span"),tt=n("learnmore"),W=document.getElementById(tt)||document.createElement("a"),lt=n("preprendIcon"),vt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ft=C.element;p(ft),T(W,tt);const It=_();y(vt,lt),ft.append(vt,Z,W,It),document.body.appendChild(ft)}u?(Z.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Fw(){const r=Nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kw(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function $w(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const Zw="FirebaseError";class ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Zw,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Ww(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ar(l,p,s)}}function Ww(r,t){return r.replace(t1,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const t1=/\{\$([^}]+)}/g;function e1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(pv(u)&&pv(d)){if(!Fs(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function pv(r){return r!==null&&typeof r=="object"}function eu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Nl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function n1(r,t){const n=new i1(r,t);return n.subscribe.bind(n)}class i1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=nm),l.error===void 0&&(l.error=nm),l.complete===void 0&&(l.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}function ve(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qs="[DEFAULT]";class s1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o1(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:a1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(r){return r===qs?void 0:r}function o1(r){return r.instantiationMode==="EAGER"}class l1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new s1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const u1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},c1=Lt.INFO,h1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},f1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=h1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const d1=(r,t)=>t.some(n=>r instanceof n);let gv,yv;function m1(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,gm=new WeakMap,tT=new WeakMap,im=new WeakMap,Hm=new WeakMap;function g1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Xr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&WE.set(n,r)}).catch(()=>{}),Hm.set(t,r),t}function y1(r){if(gm.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});gm.set(r,t)}let ym={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return gm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||tT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function _1(r){ym=r(ym)}function v1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(rm(this),t,...n);return tT.set(s,t.sort?t.sort():[t]),Xr(s)}:p1().includes(r)?function(...t){return r.apply(rm(this),t),Xr(WE.get(this))}:function(...t){return Xr(r.apply(rm(this),t))}}function E1(r){return typeof r=="function"?v1(r):(r instanceof IDBTransaction&&y1(r),d1(r,m1())?new Proxy(r,ym):r)}function Xr(r){if(r instanceof IDBRequest)return g1(r);if(im.has(r))return im.get(r);const t=E1(r);return t!==r&&(im.set(r,t),Hm.set(t,r)),t}const rm=r=>Hm.get(r);function T1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),p=Xr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Xr(d.result),y.oldVersion,y.newVersion,Xr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],sm=new Map;function _v(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=A1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||S1.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&y.done]))[0]};return sm.set(t,u),u}_1(r=>({...r,get:(t,n,s)=>_v(t,n)||r.get(t,n,s),has:(t,n)=>!!_v(t,n)||r.has(t,n)}));class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function b1(r){return r.getComponent()?.type==="VERSION"}const _m="@firebase/app",vv="0.14.8";const nr=new qm("@firebase/app"),R1="@firebase/app-compat",I1="@firebase/analytics-compat",C1="@firebase/analytics",N1="@firebase/app-check-compat",D1="@firebase/app-check",O1="@firebase/auth",x1="@firebase/auth-compat",V1="@firebase/database",M1="@firebase/data-connect",P1="@firebase/database-compat",U1="@firebase/functions",k1="@firebase/functions-compat",L1="@firebase/installations",z1="@firebase/installations-compat",j1="@firebase/messaging",B1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",F1="@firebase/remote-config",G1="@firebase/remote-config-compat",Y1="@firebase/storage",Q1="@firebase/storage-compat",K1="@firebase/firestore",X1="@firebase/ai",J1="@firebase/firestore-compat",$1="firebase",Z1="12.9.0";const vm="[DEFAULT]",W1={[_m]:"fire-core",[R1]:"fire-core-compat",[C1]:"fire-analytics",[I1]:"fire-analytics-compat",[D1]:"fire-app-check",[N1]:"fire-app-check-compat",[O1]:"fire-auth",[x1]:"fire-auth-compat",[V1]:"fire-rtdb",[M1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[U1]:"fire-fn",[k1]:"fire-fn-compat",[L1]:"fire-iid",[z1]:"fire-iid-compat",[j1]:"fire-fcm",[B1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[F1]:"fire-rc",[G1]:"fire-rc-compat",[Y1]:"fire-gcs",[Q1]:"fire-gcs-compat",[K1]:"fire-fst",[J1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[$1]:"fire-js-all"};const lh=new Map,tb=new Map,Em=new Map;function Ev(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const t=r.name;if(Em.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;Em.set(t,r);for(const n of lh.values())Ev(n,r);for(const n of tb.values())Ev(n,r);return!0}function Fm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new tu("app","Firebase",eb);class nb{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ho=Z1;function eT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:vm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(n||(n=XE()),!n)throw Jr.create("no-options");const u=lh.get(l);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Jr.create("duplicate-app",{appName:l})}const d=new l1(l);for(const y of Em.values())d.addComponent(y);const p=new nb(n,s,d);return lh.set(l,p),p}function nT(r=vm){const t=lh.get(r);if(!t&&r===vm&&XE())return eT();if(!t)throw Jr.create("no-app",{appName:r});return t}function $r(r,t,n){let s=W1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}io(new Gs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const ib="firebase-heartbeat-database",rb=1,Hl="firebase-heartbeat-store";let am=null;function iT(){return am||(am=T1(ib,rb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),am}async function sb(r){try{const n=(await iT()).transaction(Hl),s=await n.objectStore(Hl).get(rT(r));return await n.done,s}catch(t){if(t instanceof ar)nr.warn(t.message);else{const n=Jr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(n.message)}}}async function Tv(r,t){try{const s=(await iT()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(t,rT(r)),await s.done}catch(n){if(n instanceof ar)nr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function rT(r){return`${r.name}!${r.options.appId}`}const ab=1024,ob=30;class lb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ob){const l=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sv(),{heartbeatsToSend:n,unsentEntries:s}=ub(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function ub(r,t=ab){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Av(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Av(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?$w().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Av(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function hb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function fb(r){io(new Gs("platform-logger",t=>new w1(t),"PRIVATE")),io(new Gs("heartbeat",t=>new lb(t),"PRIVATE")),$r(_m,vv,r),$r(_m,vv,"esm2020"),$r("fire-js","")}fb("");var db="firebase",mb="12.9.0";$r(db,mb,"app");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pb=sT,aT=new tu("auth","Firebase",sT());const uh=new qm("@firebase/auth");function gb(r,...t){uh.logLevel<=Lt.WARN&&uh.warn(`Auth (${ho}): ${r}`,...t)}function Jc(r,...t){uh.logLevel<=Lt.ERROR&&uh.error(`Auth (${ho}): ${r}`,...t)}function ni(r,...t){throw Gm(r,...t)}function Ii(r,...t){return Gm(r,...t)}function oT(r,t,n){const s={...pb(),[t]:n};return new tu("auth","Firebase",s).create(t,{appName:r.name})}function er(r){return oT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aT.create(r,...t)}function wt(r,t,...n){if(!r)throw Gm(t,...n)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Jc(t),new Error(t)}function ir(r,t){r||Wi(t)}function Tm(){return typeof self<"u"&&self.location?.href||""}function yb(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function _b(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||Yw()||"connection"in navigator)?navigator.onLine:!0}function vb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=Hw()||Qw()}get(){return _b()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ym(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class lT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Eb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Tb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sb=new nu(3e4,6e4);function os(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function or(r,t,n,s,l={}){return uT(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=eu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...u};return Gw()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,n,p),_)})}async function uT(r,t,n){r._canInitEmulator=!1;const s={...Eb,...t};try{const l=new wb(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw qc(r,"user-disabled",d);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw oT(r,T,_);ni(r,T)}}catch(l){if(l instanceof ar)throw l;ni(r,"network-request-failed",{message:String(l)})}}async function iu(r,t,n,s,l={}){const u=await or(r,t,n,s,l);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cT(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Ym(r.config,l):`${r.config.apiScheme}://${l}`;return Tb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Ab(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),Sb.get())})}}function qc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ii(r,t,s);return l.customData._tokenResponse=n,l}function bv(r){return r!==void 0&&r.enterprise!==void 0}class bb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Ab(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rb(r,t){return or(r,"GET","/v2/recaptchaConfig",os(r,t))}async function Ib(r,t){return or(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return or(r,"POST","/v1/accounts:lookup",t)}function kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Cb(r,t=!1){const n=ve(r),s=await n.getIdToken(t),l=Qm(s);wt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:kl(om(l.auth_time)),issuedAtTime:kl(om(l.iat)),expirationTime:kl(om(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function om(r){return Number(r)*1e3}function Qm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=QE(n);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Rv(r){const t=Qm(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ro(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ar&&Nb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Nb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,n=await r.getIdToken(),s=await ro(r,ch(t,{idToken:n}));wt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?hT(l.providerUserInfo):[],d=xb(r.providerData,u),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function Ob(r){const t=ve(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function hT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Vb(r,t){const n=await uT(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await cT(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),lT.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mb(r,t){return or(r,"POST","/v2/accounts:revokeToken",os(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=Rv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await Vb(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new $a;return s&&(wt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(wt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(wt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Br(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await ro(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Cb(this,t)}reload(){return Ob(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await ro(this,Ib(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:C,isAnonymous:B,providerData:Z,stsTokenManager:tt}=n;wt(A&&tt,t,"internal-error");const W=$a.fromJSON(this.name,tt);wt(typeof A=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),wt(typeof C=="boolean",t,"internal-error"),wt(typeof B=="boolean",t,"internal-error"),Br(u,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(T,t.name);const lt=new ti({uid:A,auth:t,email:l,emailVerified:C,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:T});return Z&&Array.isArray(Z)&&(lt.providerData=Z.map(vt=>({...vt}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,n,s=!1){const l=new $a;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];wt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?hT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new $a;p.updateFromIdToken(s);const y=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const Iv=new Map;function tr(r){ir(r instanceof Function,"Expected a class definition");let t=Iv.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Iv.set(r,t),t)}class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fT.type="NONE";const Cv=fT;function $c(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,u),this.fullPersistenceKey=$c("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ch(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(tr(Cv),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||tr(Cv);const d=$c(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const C=await ch(t,{idToken:T}).catch(()=>{});if(!C)break;A=await ti._fromGetAccountInfoResponse(t,C,T)}else A=ti._fromJSON(t,T);_!==u&&(p=A),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Za(u,t,s):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Za(u,t,s))}}function Nv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_T(t))return"Blackberry";if(vT(t))return"Webos";if(mT(t))return"Safari";if((t.includes("chrome/")||pT(t))&&!t.includes("edge/"))return"Chrome";if(yT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function dT(r=Ze()){return/firefox\//i.test(r)}function mT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pT(r=Ze()){return/crios\//i.test(r)}function gT(r=Ze()){return/iemobile/i.test(r)}function yT(r=Ze()){return/android/i.test(r)}function _T(r=Ze()){return/blackberry/i.test(r)}function vT(r=Ze()){return/webos/i.test(r)}function Km(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Pb(r=Ze()){return Km(r)&&!!window.navigator?.standalone}function Ub(){return Kw()&&document.documentMode===10}function ET(r=Ze()){return Km(r)||yT(r)||vT(r)||_T(r)||/windows phone/i.test(r)||gT(r)}function TT(r,t=[]){let n;switch(r){case"Browser":n=Nv(Ze());break;case"Worker":n=`${Nv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}class kb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const y=t(u);d(y)}catch(y){p(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Lb(r,t={}){return or(r,"GET","/v2/passwordPolicy",os(r,t))}const zb=6;class jb{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Bb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ch(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(er(this));const n=t?ve(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Lb(this),n=new jb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Mb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&tr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zs(r){return ve(r)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=n1(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qb(r){Dh=r}function ST(r){return Dh.loadJS(r)}function Hb(){return Dh.recaptchaEnterpriseScript}function Fb(){return Dh.gapiScript}function Gb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Yb{constructor(){this.enterprise=new Qb}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Qb{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Kb="recaptcha-enterprise",AT="NO_RECAPTCHA";class Xb{constructor(t){this.type=Kb,this.auth=Zs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{Rb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new bb(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;bv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{d(_)}).catch(()=>{d(AT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yb().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&bv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Hb();y.length!==0&&(y+=p),ST(y).then(()=>{l(p,u,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Ov(r,t,n,s=!1,l=!1){const u=new Xb(r);let d;if(l)d=AT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Am(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ov(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ov(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function Jb(r,t){const n=Fm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Fs(u,t??{}))return l;ni(l,"already-initialized")}return n.initialize({options:t})}function $b(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Zb(r,t,n){const s=Zs(r);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=wT(t),{host:d,port:p}=Wb(t),y=p===null?"":`:${p}`,_={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Fs(_,s.config.emulator)&&Fs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,co(d)?($E(`${u}//${d}${y}`),ZE("Auth",!0)):tR()}function wT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Wb(r){const t=wT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:xv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:xv(d)}}}function xv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Xm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function eR(r,t){return or(r,"POST","/v1/accounts:signUp",t)}async function nR(r,t){return iu(r,"POST","/v1/accounts:signInWithPassword",os(r,t))}async function iR(r,t){return iu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}async function rR(r,t){return iu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}class Fl extends Xm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Fl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,n,"signInWithPassword",nR);case"emailLink":return iR(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,s,"signUpPassword",eR);case"emailLink":return rR(t,{idToken:n,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return iu(r,"POST","/v1/accounts:signInWithIdp",os(r,t))}const sR="http://localhost";class Ys extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Ys(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=eu(n)}return t}}function aR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(r){const t=Cl(Nl(r)).link,n=t?Cl(Nl(t)).deep_link_id:null,s=Cl(Nl(r)).deep_link_id;return(s?Cl(Nl(s)).link:null)||s||n||t||r}class Jm{constructor(t){const n=Cl(Nl(t)),s=n.apiKey??null,l=n.oobCode??null,u=aR(n.mode??null);wt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=oR(t);try{return new Jm(n)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Jm.parseLink(n);return wt(s,"argument-error"),Fl._fromEmailAndCode(t,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fr extends ru{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Gr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Yr extends ru{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Qr extends ru{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function lR(r,t){return iu(r,"POST","/v1/accounts:signUp",os(r,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ti._fromIdTokenResponse(t,s,l),d=Vv(s);return new Qs({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Vv(s);return new Qs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class fh extends ar{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new fh(t,n,s,l)}}function RT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,t,s):u})}async function uR(r,t,n=!1){const s=await ro(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function cR(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(er(s));const l="reauthenticate";try{const u=await ro(r,RT(s,l,t,r),n);wt(u.idToken,s,"internal-error");const d=Qm(u.idToken);wt(d,s,"internal-error");const{sub:p}=d;return wt(r.uid===p,s,"user-mismatch"),Qs._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function IT(r,t,n=!1){if(Bn(r.app))return Promise.reject(er(r));const s="signIn",l=await RT(r,s,t),u=await Qs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function hR(r,t){return IT(Zs(r),t)}async function CT(r){const t=Zs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fR(r,t,n){if(Bn(r.app))return Promise.reject(er(r));const s=Zs(r),d=await Am(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&CT(r),y}),p=await Qs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function dR(r,t,n){return Bn(r.app)?Promise.reject(er(r)):hR(ve(r),fo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&CT(r),s})}async function mR(r,t){return or(r,"POST","/v1/accounts:update",t)}async function pR(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=ve(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},d=await ro(s,mR(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function gR(r,t,n,s){return ve(r).onIdTokenChanged(t,n,s)}function yR(r,t,n){return ve(r).beforeAuthStateChanged(t,n)}function _R(r,t,n,s){return ve(r).onAuthStateChanged(t,n,s)}function vR(r){return ve(r).signOut()}const dh="__sak";class NT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ER=1e3,TR=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Ub()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TR):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}DT.type="LOCAL";const SR=DT;class OT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}OT.type="SESSION";const xT=OT;function AR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,u)),y=await AR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function $m(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class wR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const _=$m("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const C=A;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function bR(r){Ci().location.href=r}function VT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function RR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function CR(){return VT()?self:null}const MT="firebaseLocalStorageDb",NR=1,mh="firebaseLocalStorage",PT="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function DR(){const r=indexedDB.deleteDatabase(MT);return new su(r).toPromise()}function wm(){const r=indexedDB.open(MT,NR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(mh,{keyPath:PT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(mh)?t(s):(s.close(),await DR(),t(await wm()))})})}async function Mv(r,t,n){const s=xh(r,!0).put({[PT]:t,value:n});return new su(s).toPromise()}async function OR(r,t){const n=xh(r,!1).get(t),s=await new su(n).toPromise();return s===void 0?null:s.value}function Pv(r,t){const n=xh(r,!0).delete(t);return new su(n).toPromise()}const xR=800,VR=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>VR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(CR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await Mv(t,dh,"1"),await Pv(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>OR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=xh(l,!1).getAll();return new su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const MR=UT;new nu(3e4,6e4);function PR(r,t){return t?tr(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends Xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function UR(r){return IT(r.auth,new Zm(r),r.bypassAuthState)}function kR(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),cR(n,new Zm(r),r.bypassAuthState)}async function LR(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),uR(n,new Zm(r),r.bypassAuthState)}class kT{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:ni(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zR=new nu(2e3,1e4);class Xa extends kT{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zR.get())};t()}}Xa.currentPopupAction=null;const jR="pendingRedirect",Zc=new Map;class BR extends kT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const s=await qR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qR(r,t){const n=GR(t),s=FR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function HR(r,t){Zc.set(r._key(),t)}function FR(r){return tr(r._redirectPersistence)}function GR(r){return $c(jR,r.config.apiKey,r.name)}async function YR(r,t,n=!1){if(Bn(r.app))return Promise.reject(er(r));const s=Zs(r),l=PR(s,t),d=await new BR(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const QR=600*1e3;class KR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!LT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function LT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function XR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(r);default:return!1}}async function JR(r,t={}){return or(r,"GET","/v1/projects",t)}const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function WR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await JR(r);for(const n of t)try{if(tI(n))return}catch{}ni(r,"unauthorized-domain")}function tI(r){const t=Tm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!ZR.test(n))return!1;if($R.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const eI=new nu(3e4,6e4);function kv(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nI(r){return new Promise((t,n)=>{function s(){kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(Ii(r,"network-request-failed"))},timeout:eI.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=Gb("iframefcb");return Ci()[l]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},ST(`${Fb()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function iI(r){return Wc=Wc||nI(r),Wc}const rI=new nu(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ym(t,aI):`https://${r.config.authDomain}/${sI}`,s={apiKey:t.apiKey,appName:r.name,v:ho},l=lI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function cI(r){const t=await iI(r),n=Ci().gapi;return wt(n,r,"internal-error"),t.open({where:document.body,url:uI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ci().setTimeout(()=>{u(d)},rI.get());function y(){Ci().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{u(d)})}))}const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",pI="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(r,t,n,s=fI,l=dI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...hI,width:s.toString(),height:l.toString(),top:u,left:d},_=Ze().toLowerCase();n&&(p=pT(_)?mI:n),dT(_)&&(t=t||pI,y.scrollbars="yes");const T=Object.entries(y).reduce((C,[B,Z])=>`${C}${B}=${Z},`,"");if(Pb(_)&&p!=="_self")return yI(t||"",p),new Lv(null);const A=window.open(t||"",p,T);wt(A,r,"popup-blocked");try{A.focus()}catch{}return new Lv(A)}function yI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _I="__/auth/handler",vI="emulator/auth/handler",EI=encodeURIComponent("fac");async function zv(r,t,n,s,l,u){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:l};if(t instanceof bT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",e1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof ru){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),_=y?`#${EI}=${encodeURIComponent(y)}`:"";return`${TI(r)}?${eu(p).slice(1)}${_}`}function TI({config:r}){return r.emulator?Ym(r,vI):`https://${r.authDomain}/${_I}`}const lm="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=YR,this._overrideRedirectResult=HR}async _openPopup(t,n,s,l){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zv(t,n,s,Tm(),l);return gI(t,u,$m())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await zv(t,n,s,Tm(),l);return bR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await cI(t),s=new KR(t);return n.register("authEvent",l=>(wt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lm,{type:lm},l=>{const u=l?.[0]?.[lm];u!==void 0&&n(!!u),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ET()||mT()||Km()}}const AI=SI;var jv="@firebase/auth",Bv="1.12.0";class wI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(r){io(new Gs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;wt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(r)},_=new Bb(s,l,u,y);return $b(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),io(new Gs("auth-internal",t=>{const n=Zs(t.getProvider("auth").getImmediate());return(s=>new wI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(jv,Bv,bI(r)),$r(jv,Bv,"esm2020")}const II=300,CI=JE("authIdTokenMaxAge")||II;let qv=null;const NI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CI)return;const l=n?.token;qv!==l&&(qv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DI(r=nT()){const t=Fm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Jb(r,{popupRedirectResolver:AI,persistence:[MR,SR,xT]}),s=JE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=NI(u.toString());yR(n,d,()=>d(n.currentUser)),gR(n,p=>d(p))}}const l=KE("auth");return l&&Zb(n,`http://${l}`),n}function OI(){return document.getElementsByTagName("head")?.[0]??document}qb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ii("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",OI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,zT;(function(){var r;function t(N,b){function R(){}R.prototype=b.prototype,N.F=b.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,P){for(var w=Array(arguments.length-2),st=2;st<arguments.length;st++)w[st-2]=arguments[st];return b.prototype[O].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=N.g[0],R=N.g[1],O=N.g[2];let P=N.g[3],w;w=b+(P^R&(O^P))+V[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(O^b&(R^O))+V[1]+3905402710&4294967295,P=b+(w<<12&4294967295|w>>>20),w=O+(R^P&(b^R))+V[2]+606105819&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(b^O&(P^b))+V[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=b+(P^R&(O^P))+V[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(O^b&(R^O))+V[5]+1200080426&4294967295,P=b+(w<<12&4294967295|w>>>20),w=O+(R^P&(b^R))+V[6]+2821735955&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(b^O&(P^b))+V[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=b+(P^R&(O^P))+V[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(O^b&(R^O))+V[9]+2336552879&4294967295,P=b+(w<<12&4294967295|w>>>20),w=O+(R^P&(b^R))+V[10]+4294925233&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(b^O&(P^b))+V[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=b+(P^R&(O^P))+V[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(O^b&(R^O))+V[13]+4254626195&4294967295,P=b+(w<<12&4294967295|w>>>20),w=O+(R^P&(b^R))+V[14]+2792965006&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(b^O&(P^b))+V[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=b+(O^P&(R^O))+V[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(b^R))+V[6]+3225465664&4294967295,P=b+(w<<9&4294967295|w>>>23),w=O+(b^R&(P^b))+V[11]+643717713&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(O^P))+V[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=b+(O^P&(R^O))+V[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(b^R))+V[10]+38016083&4294967295,P=b+(w<<9&4294967295|w>>>23),w=O+(b^R&(P^b))+V[15]+3634488961&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(O^P))+V[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=b+(O^P&(R^O))+V[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(b^R))+V[14]+3275163606&4294967295,P=b+(w<<9&4294967295|w>>>23),w=O+(b^R&(P^b))+V[3]+4107603335&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(O^P))+V[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=b+(O^P&(R^O))+V[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(b^R))+V[2]+4243563512&4294967295,P=b+(w<<9&4294967295|w>>>23),w=O+(b^R&(P^b))+V[7]+1735328473&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(O^P))+V[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=b+(R^O^P)+V[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^O)+V[8]+2272392833&4294967295,P=b+(w<<11&4294967295|w>>>21),w=O+(P^b^R)+V[11]+1839030562&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^b)+V[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=b+(R^O^P)+V[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^O)+V[4]+1272893353&4294967295,P=b+(w<<11&4294967295|w>>>21),w=O+(P^b^R)+V[7]+4139469664&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^b)+V[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=b+(R^O^P)+V[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^O)+V[0]+3936430074&4294967295,P=b+(w<<11&4294967295|w>>>21),w=O+(P^b^R)+V[3]+3572445317&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^b)+V[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=b+(R^O^P)+V[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^O)+V[12]+3873151461&4294967295,P=b+(w<<11&4294967295|w>>>21),w=O+(P^b^R)+V[15]+530742520&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^b)+V[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=b+(O^(R|~P))+V[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~O))+V[7]+1126891415&4294967295,P=b+(w<<10&4294967295|w>>>22),w=O+(b^(P|~R))+V[14]+2878612391&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~b))+V[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=b+(O^(R|~P))+V[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~O))+V[3]+2399980690&4294967295,P=b+(w<<10&4294967295|w>>>22),w=O+(b^(P|~R))+V[10]+4293915773&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~b))+V[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=b+(O^(R|~P))+V[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~O))+V[15]+4264355552&4294967295,P=b+(w<<10&4294967295|w>>>22),w=O+(b^(P|~R))+V[6]+2734768916&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~b))+V[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=b+(O^(R|~P))+V[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~O))+V[11]+3174756917&4294967295,P=b+(w<<10&4294967295|w>>>22),w=O+(b^(P|~R))+V[2]+718787259&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~b))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const R=b-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<b;){if(O==0)for(;P<=R;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<b;)if(V[O++]=N.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<b;)if(V[O++]=N[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[b++]=this.g[R]>>>V&255;return N};function u(N,b){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=b(N)}function d(N,b){this.h=b;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const P=N[O]|0;V&&P==b||(R[O]=P,V=!1)}this.g=R}var p={};function y(N){return-128<=N&&N<128?u(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return W(_(-N));const b=[];let R=1;for(let V=0;N>=R;V++)b[V]=N/R|0,R*=4294967296;return new d(b,0)}function T(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(T(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(b,8));let V=A;for(let P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P);const w=parseInt(N.substring(P,P+O),b);O<8?(O=_(Math.pow(b,O)),V=V.j(O).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var A=y(0),C=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(tt(this))return-W(this).m();let N=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(tt(this))return"-"+W(this).toString(N);const b=_(Math.pow(N,6));var R=this;let V="";for(;;){const O=It(R,b).g;R=lt(R,O.j(b));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,Z(R))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=lt(this,N),tt(N)?-1:Z(N)?0:1};function W(N){const b=N.g.length,R=[];for(let V=0;V<b;V++)R[V]=~N.g[V];return new d(R,~N.h).add(C)}r.abs=function(){return tt(this)?W(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=b;O++){let P=V+(this.i(O)&65535)+(N.i(O)&65535),w=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=w>>>16,P&=65535,w&=65535,R[O]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function lt(N,b){return N.add(W(b))}r.j=function(N){if(Z(this)||Z(N))return A;if(tt(this))return tt(N)?W(this).j(W(N)):W(W(this).j(N));if(tt(N))return W(this.j(W(N)));if(this.l(B)<0&&N.l(B)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const P=this.i(V)>>>16,w=this.i(V)&65535,st=N.i(O)>>>16,St=N.i(O)&65535;R[2*V+2*O]+=w*St,vt(R,2*V+2*O),R[2*V+2*O+1]+=P*St,vt(R,2*V+2*O+1),R[2*V+2*O+1]+=w*st,vt(R,2*V+2*O+1),R[2*V+2*O+2]+=P*st,vt(R,2*V+2*O+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function vt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ft(N,b){this.g=N,this.h=b}function It(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new ft(A,A);if(tt(N))return b=It(W(N),b),new ft(W(b.g),W(b.h));if(tt(b))return b=It(N,W(b)),new ft(W(b.g),b.h);if(N.g.length>30){if(tt(N)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,V=b;V.l(N)<=0;)R=gt(R),V=gt(V);var O=Nt(R,1),P=Nt(V,1);for(V=Nt(V,2),R=Nt(R,2);!Z(V);){var w=P.add(V);w.l(N)<=0&&(O=O.add(R),P=w),V=Nt(V,1),R=Nt(R,1)}return b=lt(N,O.j(b)),new ft(O,b)}for(O=A;N.l(b)>=0;){for(R=Math.max(1,Math.floor(N.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=_(R),w=P.j(b);tt(w)||w.l(N)>0;)R-=V,P=_(R),w=P.j(b);Z(P)&&(P=C),O=O.add(P),N=lt(N,w)}return new ft(O,N)}r.B=function(N){return It(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function gt(N){const b=N.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function Nt(N,b){const R=b>>5;b%=32;const V=N.g.length-R,O=[];for(let P=0;P<V;P++)O[P]=b>0?N.i(P+R)>>>b|N.i(P+R+1)<<32-b:N.i(P+R);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Zr=d}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,Dl,BT,th,bm,qT,HT,FT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var nt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)nt[Dt-2]=arguments[Dt];return m.prototype[U].apply(S,nt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function Z(c,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=U[nt]}else c.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){d.setTimeout(()=>{throw c},0)}function lt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const S=ft.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ft=new tt(()=>new It,c=>c.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,Nt=!1,N=new vt,b=()=>{const c=Promise.resolve(void 0);gt=()=>{c.then(R)}};function R(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){W(v)}var m=ft;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function st(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(st,O),st.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),F=0;function G(c,m,v,S,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function it(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function at(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function bt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,m,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=yt(c,m,S,U);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new G(m,this.src,q,!!S,U),m.fa=v,c.push(m)),m};function dt(c,m){const v=m.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(it(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yt(c,m,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),ue={};function ae(c,m,v,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(c,m[q],v,S,U);return null}return v=So(v),c&&c[St]?c.J(m,v,p(S)?!!S.capture:!1,U):hs(c,m,v,!1,S,U)}function hs(c,m,v,S,U,q){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let Dt=fs(c);if(Dt||(c[Vt]=Dt=new ot(c)),v=Dt.add(m,v,S,nt,q),v.proxy)return v;if(S=ea(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(U=nt),U===void 0&&(U=!1),c.addEventListener(m.toString(),S,U);else if(c.attachEvent)c.attachEvent(ri(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function c(v){return m.call(c.src,c.listener,v)}const m=Eo;return c}function na(c,m,v,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)na(c,m[q],v,S,U);else S=p(S)?!!S.capture:!!S,v=So(v),c&&c[St]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=yt(m,v,S,U),v>-1&&(it(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=fs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=yt(m,v,S,U)),(v=c>-1?m[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[St])dt(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ri(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=fs(m))?(dt(v,c),v.h==0&&(v.src=null,m[Vt]=null)):it(c)}}}function ri(c){return c in ue?ue[c]:ue[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new st(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&ia(c),c=v.call(S,m)}return c}function fs(c){return c=c[Vt],c instanceof ot?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function Ee(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}A(Ee,V),Ee.prototype[St]=!0,Ee.prototype.removeEventListener=function(c,m,v,S){na(this,c,m,v,S)};function xe(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(S,c),et(m,U)}U=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],U=lr(q,S,!0,m)&&U;if(q=m.g=c,U=lr(q,S,!0,m)&&U,U=lr(q,S,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],U=lr(q,S,!1,m)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)it(v[S]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Ee.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function lr(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const Dt=nt.listener,pe=nt.ha||nt.src;nt.fa&&dt(c.i,nt),U=Dt.call(pe,S)!==!1&&U}}return U&&!S.defaultPrevented}function $h(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function du(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){V.call(this),this.h=c,this.g={}}A(ds,V);var Ao=[];function wo(c){at(c.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),wo(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Zh=d.JSON.parse,mu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pu(){}function gu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}A(je,O);function Rn(){O.call(this,"c")}A(Rn,O);var me={},yu=null;function ra(){return yu=yu||new Ee}me.Ia="serverreachability";function _u(c){O.call(this,me.Ia,c)}A(_u,O);function si(c){const m=ra();xe(m,new _u(m))}me.STAT_EVENT="statevent";function ms(c,m){O.call(this,me.STAT_EVENT,c),this.stat=m}A(ms,O);function Te(c){const m=ra();xe(m,new ms(m,c))}me.Ja="timingevent";function ai(c,m){O.call(this,me.Ja,c),this.size=m}A(ai,O);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Wh(c,m,v,S,U,q){c.info(function(){if(c.g)if(q){var nt="",Dt=q.split("&");for(let Yt=0;Yt<Dt.length;Yt++){var pe=Dt[Yt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const Dn=oe.split("_");nt=Dn.length>=2&&Dn[1]=="type"?nt+(oe+"="+pe+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function vu(c,m,v,S,U,q,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+nt})}function li(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+tf(c,v)+(S?" "+S:"")})}function ps(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function tf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return ur(q)}catch{return m}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ys(){}A(ys,pu),ys.prototype.g=function(){return new XMLHttpRequest},Ro=new ys;function Mi(c){return encodeURIComponent(String(c))}function Eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ui(c,m,v){c.M=1,c.A=_s(we(m)),c.u=v,c.R=!0,sa(c,null)}function sa(c,m){c.F=Date.now(),ci(c),c.B=we(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ua(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Pu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ao[0]=U.toString()),U=Ao);for(let q=0;q<U.length;q++){const nt=ae(v,U[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),si(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=Kn(this.g),pe=this.g.ya(),Yt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Dt!=4||pe==7||(pe==8||Yt<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var v=ef(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var q=S;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Te(12),mn(this),In(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Su(this,v),oe==Pe){Dt==4&&(this.m=4,Te(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,oe,null),fi(this,oe);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(nt),nt.P=!0,Te(11))}}else li(this.i,this.l,v,null),fi(this,v);Dt==4&&mn(this),this.o&&!this.K&&(Dt==4?Ou(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),mn(this),In(this)}}}catch{}};function ef(c){if(!Tu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const S=m.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),In(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Pe:(v=Number(m.substring(v,S)),isNaN(v)?Se:(S+=1,S+v>m.length?Pe:(m=m.slice(S,S+v),c.C=S+v,m)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(_(c.aa,c),m)}function hi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(si(),Te(17)),mn(this),this.m=2,In(this)):aa(this,this.T-c)};function In(c){c.j.I==0||c.K||Ou(c.j,c)}function mn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,wo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),yr(v);else break t;bs(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ma(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Yt=U[m];const oe=Yt[0];if(!(oe<=v.K))if(v.K=oe,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Dn=Yt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=Yt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=Yt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=c.g;if(Jn){const Rs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var q=S.h;q.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(No(q,q.h),q.h=null))}if(S.G){const pa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(S.wa=pa,Kt(S.J,S.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=c;if(S.na=Mu(S,S.L?S.ba:null,S.W),nt.L){Do(S.h,nt);var Dt=nt,pe=S.O;pe&&(Dt.H=pe),Dt.D&&(hi(Dt),ci(Dt)),S.g=nt}else Nu(S);v.i.length>0&&vi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ei(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ei(v,7):zo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}si(4)}catch{}}var Ae=class{constructor(c,m){this.g=c,this.map=m}};function Io(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function No(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,xo(this,Iu(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),cr(this,m[4]),this.h=pi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(vs(m,la,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vs(m,la,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?Vo:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,bu)),c.join("")},pn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)cr(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let nt=0;nt<U.length;){const Dt=U[nt++];Dt=="."?S&&nt==U.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==U.length&&q.push("")):(q.push(Dt),S=!0)}S=q.join("/")}else S=U}return v?m.h=S:v=c.i.toString()!=="",v?xo(m,Iu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new pn(c)}function Ue(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function xo(c,m,v){m instanceof fr?(c.i=m,ca(c.i,c.l)):(v||(m=vs(m,hr)),c.i=new fr(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function _s(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,wu=/[#\?:]/g,Vo=/[#\?]/g,hr=/[#\?@]/g,bu=/#/g;function fr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,m){on(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ru(c,m){on(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mo(c,m){return on(c),m=dr(c,m),c.g.has(m)}r.forEach=function(c,m){on(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(m,U,S,this)},this)},this)};function Po(c,m){on(c);let v=[];if(typeof m=="string")Mo(c,m)&&(v=v.concat(c.g.get(dr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return on(this),this.i=null,c=dr(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Po(this,c),c.length>0?String(c[0]):m):m};function ua(c,m,v){Ru(c,m),v.length>0&&(c.i=null,c.g.set(dr(c,m),B(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Mi(v);v=Po(this,v);for(let q=0;q<v.length;q++){let nt=U;v[q]!==""&&(nt+="="+Mi(v[q])),c.push(nt)}}return this.i=c.join("&")};function Iu(c){const m=new fr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ca(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Ru(this,S),ua(this,U,v))},c)),c.j=m}function Yn(c,m){const v=new Hn;if(d.Image){const S=new Image;S.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Cn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Uo(c,m){const v=new Hn,S=new AbortController,U=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,m)})}function Cn(c,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function mr(){this.g=new mu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(gi,pu),gi.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Es,Ee),r=Es.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?pr(this):Qn(this),this.readyState==3&&ha(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return at(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Ts(c,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Nn(v),typeof c=="string"?v!=null&&Mi(v):Kt(c,m,v))}function $t(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,Ee);var yi=/^https?$/i,ko=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ss(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ss(this,q)}};function Ss(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Pi(c)}function Lo(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},r.Xa=function(){As(this)};function As(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let nt=String(c.D).match(Au)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),S=!yi.test(nt?nt.toLowerCase():"")}v=S}if(v)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Lo(c)}}finally{Pi(c)}}}}function Pi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||xe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Zh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var v=Eu(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}bt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function gr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,S){Te(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),vi(this)};function zo(c){if(fa(c),c.I==3){var m=c.V++,v=we(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),ws(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=_s(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Vu(c)}function yr(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function fa(c){yr(c),c.v&&(d.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function vi(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;gt||b(),Nt||(gt(),Nt=!0),N.add(m,c),c.D=0}}function da(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(_(c.Ea,c,m),xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Cu(this,U,m),v=we(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),ws(this,v),q&&(this.R?m="headers="+Mi(Nn(q))+"&"+m:this.u&&Ts(v,this.u,q)),No(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,m),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,m){var v;m?v=m.l:v=c.V++;const S=we(c.J);Kt(S,"SID",c.M),Kt(S,"RID",v),Kt(S,"AID",c.K),ws(c,S),c.u&&c.o&&Ts(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),ui(v,S,m)}function ws(c,m){c.H&&at(c.H,function(v,S){Kt(m,S,v)}),c.l&&at({},function(v,S){Kt(m,S,v)})}function Cu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?_(c.l.Ka,c.l,c):null;t:{var U=c.i;let Dt=-1;for(;;){const pe=["count="+v];Dt==-1?v>0?(Dt=U[0].g,pe.push("ofs="+Dt)):Dt=0:pe.push("ofs="+Dt);let Yt=!0;for(let oe=0;oe<v;oe++){var q=U[oe].g;const Dn=U[oe].map;if(q-=Dt,q<0)Dt=Math.max(0,U[oe].g-100),Yt=!1;else try{q="req"+q+"_"||"";try{var nt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of nt){let Jn=Xn;p(Xn)&&(Jn=ur(Xn)),pe.push(q+Ti+"="+encodeURIComponent(Jn))}}catch(Ti){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(Dn)}}if(Yt){nt=pe.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function Nu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;gt||b(),Nt||(gt(),Nt=!0),N.add(m,c),c.A=0}}function bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(_(c.Da,c),xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),yr(this),Du(this))};function Bo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),ws(c,m),c.u&&c.o&&Ts(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(we(m)),v.u=null,v.R=!0,sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),bs(this),Te(19))};function ma(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ou(c,m){var v=null;if(c.g==m){ma(c),Bo(c),c.g=null;var S=2}else if(mi(c.h,m))v=m.G,Do(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;S=ra(),xe(S,new ai(S,v)),vi(c)}else Nu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&da(c,m)||S==2&&bs(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function xu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),S=c.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(S,"https"),_s(S),U?Yn(S.toString(),v):Uo(S.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Vu(c),fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Mu(c,m,v){var S=v instanceof pn?we(v):new pn(v);if(S.g!="")m&&(S.g=m+"."+S.g),cr(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);S&&Ue(q,S),m&&(q.g=m),U&&cr(q,U),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&Kt(S,v,m),Kt(S,"VER",c.ka),ws(c,S),S}function Pu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new gi({ab:v})):new $t(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){Ee.call(this),this.g=new gr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}A(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){zo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);m.i.push(new Ae(m.Ya++,c)),m.I==3&&vi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,tn.Z.N.call(this)};function ku(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(ku,je);function Lu(){Rn.call(this),this.status=1}A(Lu,Rn);function ki(c){this.g=c}A(ki,Uu),ki.prototype.ra=function(){xe(this.g,"a")},ki.prototype.qa=function(c){xe(this.g,new ku(c))},ki.prototype.pa=function(c){xe(this.g,new Lu)},ki.prototype.oa=function(){xe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,FT=function(){return new _r},HT=function(){return ra()},qT=me,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,th=gs,bo.COMPLETE="complete",BT=bo,gu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Dl=gu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,jT=$t}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let mo="12.9.0";function xI(r){mo=r}const Ks=new qm("@firebase/firestore");function Ga(){return Ks.logLevel}function ut(r,...t){if(Ks.logLevel<=Lt.DEBUG){const n=t.map(Wm);Ks.debug(`Firestore (${mo}): ${r}`,...n)}}function rr(r,...t){if(Ks.logLevel<=Lt.ERROR){const n=t.map(Wm);Ks.error(`Firestore (${mo}): ${r}`,...n)}}function Xs(r,...t){if(Ks.logLevel<=Lt.WARN){const n=t.map(Wm);Ks.warn(`Firestore (${mo}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,GT(r,s,n)}function GT(r,t,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||GT(t,l,s)}function Rt(r,t){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class YT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ni,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ni)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new YT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class UI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function Rm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return um(l)===um(u)?zt(l,u):um(l)?1:-1}return zt(r.length,t.length)}const jI=55296,BI=57343;function um(r){const t=r.charCodeAt(0);return t>=jI&&t<=BI}function so(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const Gv="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ri.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),l=Ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Rm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ri{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return qI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Qe([Gv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}function QT(r,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HI(r,t,n,s){if(t===!0&&s===!0)throw new rt(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!mt.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qv(r){if(mt.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function xi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function au(r,t){if(!KT(r))throw new rt(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt(Q.INVALID_ARGUMENT,n);return!0}const Kv=-62135596800,Xv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Xv);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kv)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function FI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new es(l,mt.empty(),t)}function GI(r){return new es(r.readTime,r.key,Gl)}class es{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new es(At.min(),mt.empty(),Gl)}static max(){return new es(At.max(),mt.empty(),Gl)}}function YI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:zt(r.largestBatchId,t.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==QI)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(y=>s(y)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next((T=>{d[_]=T,++p,p===u&&s(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function XI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(r){return r.name==="IndexedDbTransactionError"}class Mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const ep=-1;function ou(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function JI(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const XT="";function $I(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Jv(t)),t=ZI(r.get(n),t);return Jv(t)}function ZI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case XT:n+="";break;default:n+=u}}return n}function Jv(r){return r+XT+""}function $v(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function JT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ye(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(t){return new Zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class Zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Me(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $T("Invalid base64 string: "+u):u}})(t);return new Ke(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=WI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const ZT="server_timestamp",WT="__type__",t0="__previous_value__",e0="__local_write_time__";function np(r){return(r?.mapValue?.fields||{})[WT]?.stringValue===ZT}function Ph(r){const t=r.mapValue.fields[t0];return np(t)?Ph(t):t}function Yl(r){const t=ns(r.mapValue.fields[e0].timestampValue);return new se(t.seconds,t.nanos)}class tC{constructor(t,n,s,l,u,d,p,y,_,T,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=A}}const gh="(default)";class Ql{constructor(t,n){this.projectId=t,this.database=n||gh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===gh}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}function eC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(r.options.projectId,t)}const n0="__type__",nC="__max__",Gc={mapValue:{}},i0="__vector__",yh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?np(r)?4:rC(r)?9007199254740991:iC(r)?10:11:Et(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const n=rs(r);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Yl(r).isEqual(Yl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ns(l.timestampValue),p=ns(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return is(l.bytesValue).isEqual(is(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return _e(l.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _e(l.integerValue)===_e(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=_e(l.doubleValue),p=_e(u.doubleValue);return d===p?ph(d)===ph(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if($v(d)!==$v(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Vi(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Kl(r,t){return(r.values||[]).find((n=>Vi(n,t)))!==void 0}function ao(r,t){if(r===t)return 0;const n=rs(r),s=rs(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=_e(u.integerValue||u.doubleValue),y=_e(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Wv(r.timestampValue,t.timestampValue);case 4:return Wv(Yl(r),Yl(t));case 5:return Rm(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=is(u),y=is(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=zt(p[_],y[_]);if(T!==0)return T}return zt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=zt(_e(u.latitude),_e(d.latitude));return p!==0?p:zt(_e(u.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return tE(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},_=p[yh]?.arrayValue,T=y[yh]?.arrayValue,A=zt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:tE(_,T)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Gc.mapValue&&d===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const C=Rm(y[A],T[A]);if(C!==0)return C;const B=ao(p[y[A]],_[T[A]]);if(B!==0)return B}return zt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const n=ns(r),s=ns(t),l=zt(n.seconds,s.seconds);return l!==0?l:zt(n.nanos,s.nanos)}function tE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=ao(n[l],s[l]);if(u)return u}return zt(n.length,s.length)}function oo(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return is(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Im(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Im(n.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function eh(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ph(r);return t?16+eh(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ls(s.fields,((u,d)=>{l+=u.length+eh(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function eE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Cm(r){return!!r&&"integerValue"in r}function ip(r){return!!r&&"arrayValue"in r}function nE(r){return!!r&&"nullValue"in r}function iE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function iC(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===i0}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ll(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return t}return{...r}}function rC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(n)}setAll(t){let n=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Ll(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ls(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new rn(Ll(this.value))}}function r0(r){const t=[];return ls(r.fields,((n,s)=>{const l=new Qe([n]);if(nh(s)){const u=r0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new wn(t)}class ze{constructor(t,n,s,l,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new ze(t,0,At.min(),At.min(),At.min(),rn.empty(),0)}static newFoundDocument(t,n,s,l){return new ze(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new ze(t,2,n,At.min(),At.min(),rn.empty(),0)}static newUnknownDocument(t,n){return new ze(t,3,n,At.min(),At.min(),rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,n){this.position=t,this.inclusive=n}}function rE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),n.key):s=ao(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],t.position[n]))return!1;return!0}class Xl{constructor(t,n="asc"){this.field=t,this.dir=n}}function sC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class s0{}class De extends s0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new oC(t,n,s):n==="array-contains"?new cC(t,s):n==="in"?new hC(t,s):n==="not-in"?new fC(t,s):n==="array-contains-any"?new dC(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new lC(t,s):new uC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends s0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return a0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a0(r){return r.op==="and"}function o0(r){return aC(r)&&a0(r)}function aC(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function Nm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(o0(r))return r.filters.map((t=>Nm(t))).join(",");{const t=r.filters.map((n=>Nm(n))).join(",");return`${r.op}(${t})`}}function l0(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Vi(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&l0(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function u0(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(u0).join(" ,")+"}"})(r):"Filter"}class oC extends De{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class lC extends De{constructor(t,n){super(t,"in",n),this.keys=c0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class uC extends De{constructor(t,n){super(t,"not-in",n),this.keys=c0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function c0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class cC extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ip(n)&&Kl(n.arrayValue,this.value)}}class hC extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class fC extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class dC extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class mC{constructor(t,n=null,s=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function aE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new mC(r,t,n,s,l,u,d)}function rp(r){const t=Rt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Nm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ou(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=n}return t.Te}function sp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!l0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!sE(r.startAt,t.startAt)&&sE(r.endAt,t.endAt)}function Dm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yo{constructor(t,n=null,s=[],l=[],u=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pC(r,t,n,s,l,u,d,p){return new yo(r,t,n,s,l,u,d,p)}function ap(r){return new yo(r)}function oE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gC(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function h0(r){return r.collectionGroup!==null}function zl(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Xl(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Xl(Qe.keyField(),s))}return t.Ie}function Di(r){const t=Rt(r);return t.Ee||(t.Ee=yC(t,zl(r))),t.Ee}function yC(r,t){if(r.limitType==="F")return aE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Xl(l.field,u)}));const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return aE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Om(r,t){const n=r.filters.concat([t]);return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _C(r,t){const n=r.explicitOrderBy.concat([t]);return new yo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function vh(r,t,n){return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Uh(r,t){return sp(Di(r),Di(t))&&r.limitType===t.limitType}function f0(r){return`${rp(Di(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>u0(l))).join(", ")}]`),ou(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>oo(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>oo(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function kh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of zl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=rE(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,zl(s),l)||s.endAt&&!(function(d,p,y){const _=rE(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,zl(s),l))})(r,t)}function vC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function d0(r){return(t,n)=>{let s=!1;for(const l of zl(r)){const u=EC(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function EC(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,d,p){const y=d.data.field(u),_=p.data.field(u);return y!==null&&_!==null?ao(y,_):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class Ws{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}const TC=new ce(mt.comparator);function sr(){return TC}const m0=new ce(mt.comparator);function Ol(...r){let t=m0;for(const n of r)t=t.insert(n.key,n);return t}function p0(r){let t=m0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Hs(){return jl()}function g0(){return jl()}function jl(){return new Ws((r=>r.toString()),((r,t)=>r.isEqual(t)))}const SC=new ce(mt.comparator),AC=new Me(mt.comparator);function jt(...r){let t=AC;for(const n of r)t=t.add(n);return t}const wC=new Me(zt);function bC(){return wC}function op(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function y0(r){return{integerValue:""+r}}function RC(r,t){return JI(t)?y0(t):op(r,t)}class Lh{constructor(){this._=void 0}}function IC(r,t,n){return r instanceof Jl?(function(l,u){const d={fields:{[WT]:{stringValue:ZT},[e0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&np(u)&&(u=Ph(u)),u&&(d.fields[t0]=u),{mapValue:d}})(n,t):r instanceof $l?v0(r,t):r instanceof Zl?E0(r,t):(function(l,u){const d=_0(l,u),p=lE(d)+lE(l.Ae);return Cm(d)&&Cm(l.Ae)?y0(p):op(l.serializer,p)})(r,t)}function CC(r,t,n){return r instanceof $l?v0(r,t):r instanceof Zl?E0(r,t):n}function _0(r,t){return r instanceof Eh?(function(s){return Cm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Jl extends Lh{}class $l extends Lh{constructor(t){super(),this.elements=t}}function v0(r,t){const n=T0(t);for(const s of r.elements)n.some((l=>Vi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Zl extends Lh{constructor(t){super(),this.elements=t}}function E0(r,t){let n=T0(t);for(const s of r.elements)n=n.filter((l=>!Vi(l,s)));return{arrayValue:{values:n}}}class Eh extends Lh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lE(r){return _e(r.integerValue||r.doubleValue)}function T0(r){return ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class NC{constructor(t,n){this.field=t,this.transform=n}}function DC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof $l&&l instanceof $l||s instanceof Zl&&l instanceof Zl?so(s.elements,l.elements,Vi):s instanceof Eh&&l instanceof Eh?Vi(s.Ae,l.Ae):s instanceof Jl&&l instanceof Jl})(r.transform,t.transform)}class OC{constructor(t,n){this.version=t,this.transformResults=n}}class sn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ih(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class zh{}function S0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lp(r.key,sn.none()):new lu(r.key,r.data,sn.none());{const n=r.data,s=rn.empty();let l=new Me(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new us(r.key,s,new wn(l.toArray()),sn.none())}}function xC(r,t,n){r instanceof lu?(function(l,u,d){const p=l.value.clone(),y=cE(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof us?(function(l,u,d){if(!ih(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=cE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(A0(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Bl(r,t,n,s){return r instanceof lu?(function(u,d,p,y){if(!ih(u.precondition,d))return p;const _=u.value.clone(),T=hE(u.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof us?(function(u,d,p,y){if(!ih(u.precondition,d))return p;const _=hE(u.fieldTransforms,y,d),T=d.data;return T.setAll(A0(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,d,p){return ih(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function VC(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=_0(s.transform,l||null);u!=null&&(n===null&&(n=rn.empty()),n.set(s.field,u))}return n||null}function uE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&so(s,l,((u,d)=>DC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class lu extends zh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class us extends zh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function A0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function cE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=t.data.field(u.field);s.set(u.field,CC(d,p,n[l]))}return s}function hE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,IC(u,d,t))}return s}class lp extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MC{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&xC(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Bl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Bl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=g0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const y=S0(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((n,s)=>uE(n,s)))&&so(this.baseMutations,t.baseMutations,((n,s)=>uE(n,s)))}}class up{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return SC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new up(t,n,s,l)}}class PC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,qt;function b0(r){switch(r){case Q.OK:return Et(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function R0(r){if(r===void 0)return rr("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Ne.OK:return Q.OK;case Ne.CANCELLED:return Q.CANCELLED;case Ne.UNKNOWN:return Q.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Q.INTERNAL;case Ne.UNAVAILABLE:return Q.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Q.NOT_FOUND;case Ne.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ne.ABORTED:return Q.ABORTED;case Ne.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ne.DATA_LOSS:return Q.DATA_LOSS;default:return Et(39323,{code:r})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function kC(){return new TextEncoder}const LC=new Zr([4294967295,4294967295],0);function fE(r){const t=kC().encode(r),n=new zT;return n.update(t),new Uint8Array(n.digest())}function dE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([l,u],0)]}class cp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Zr.fromNumber(s)));return l.compare(LC)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fE(t),[s,l]=dE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new cp(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=fE(t),[s,l]=dE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.be(d)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new jh(At.min(),l,new ce(zt),sr(),jt())}}class uu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new uu(s,n,jt(),jt(),jt())}}class rh{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class I0{constructor(t,n){this.targetId=t,this.Ce=n}}class C0{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:u})}})),new uu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=pE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zC{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.He=Yc(),this.Je=Yc(),this.Ze=new ce(zt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Dm(u))if(s===0){const d=new mt(u.path);this.et(n,d,ze.newNoDocument(d,At.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=is(s).toUint8Array()}catch(y){if(y instanceof $T)return Xs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new cp(d,l,u)}catch(y){return Xs(y instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Dm(p.target)){const y=new mt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,ze.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=jt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new jh(t,n,this.Ze,this.je,s);return this.je=sr(),this.He=Yc(),this.Je=Yc(),this.Ze=new ce(zt),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new mE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Me(zt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Me(zt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yc(){return new ce(mt.comparator)}function pE(){return new ce(mt.comparator)}const jC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class HC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xm(r,t){return r.useProto3Json||ou(t)?t:{value:t}}function Th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function FC(r,t){return Th(r,t.toTimestamp())}function bn(r){return Ht(!!r,49232),At.fromTimestamp((function(n){const s=ns(n);return new se(s.seconds,s.nanos)})(r))}function hp(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function D0(r){const t=ee.fromString(r);return Ht(U0(t),10190,{key:t.toString()}),t}function Sh(r,t){return hp(r.databaseId,t.path)}function ql(r,t){const n=D0(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(x0(n))}function O0(r,t){return hp(r.databaseId,t)}function GC(r){const t=D0(r);return t.length===4?ee.emptyPath():x0(t)}function Mm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gE(r,t,n){return{name:Sh(r,t),fields:n.value.mapValue.fields}}function YC(r,t){return"found"in t?(function(s,l){Ht(!!l.found,43571),l.found.name,l.found.updateTime;const u=ql(s,l.found.name),d=bn(l.found.updateTime),p=l.found.createTime?bn(l.found.createTime):At.min(),y=new rn({mapValue:{fields:l.found.fields}});return ze.newFoundDocument(u,d,p,y)})(r,t):"missing"in t?(function(s,l){Ht(!!l.missing,3894),Ht(!!l.readTime,22933);const u=ql(s,l.missing),d=bn(l.readTime);return ze.newNoDocument(u,d)})(r,t):Et(7234,{result:t})}function QC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?Q.UNKNOWN:R0(_.code);return new rt(T,_.message||"")})(d);n=new C0(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=ql(r,s.document.name),u=bn(s.document.updateTime),d=s.document.createTime?bn(s.document.createTime):At.min(),p=new rn({mapValue:{fields:s.document.fields}}),y=ze.newFoundDocument(l,u,d,p),_=s.targetIds||[],T=s.removedTargetIds||[];n=new rh(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=ql(r,s.document),u=s.readTime?bn(s.readTime):At.min(),d=ze.newNoDocument(l,u),p=s.removedTargetIds||[];n=new rh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=ql(r,s.document),u=s.removedTargetIds||[];n=new rh([],u,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new UC(l,u),p=s.targetId;n=new I0(p,d)}}return n}function V0(r,t){let n;if(t instanceof lu)n={update:gE(r,t.key,t.value)};else if(t instanceof lp)n={delete:Sh(r,t.key)};else if(t instanceof us)n={update:gE(r,t.key,t.data),updateMask:n2(t.fieldMask)};else{if(!(t instanceof w0))return Et(16599,{dt:t.type});n={verify:Sh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:FC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function KC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?bn(l.updateTime):bn(u);return d.isEqual(At.min())&&(d=bn(u)),new OC(d,l.transformResults||[])})(n,t)))):[]}function XC(r,t){return{documents:[O0(r,t.path)]}}function JC(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=O0(r,l);const u=(function(_){if(_.length!==0)return P0(ii.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(C){return{field:Qa(C.field),direction:WC(C.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=xm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function $C(r){let t=GC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const C=M0(A);return C instanceof ii&&o0(C)?C.getFilters():[C]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((C=>(function(Z){return new Xl(Ka(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let C;return C=typeof A=="object"?A.value:A,ou(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(A){const C=!!A.before,B=A.values||[];return new _h(B,C)})(n.startAt));let _=null;return n.endAt&&(_=(function(A){const C=!A.before,B=A.values||[];return new _h(B,C)})(n.endAt)),pC(t,l,d,u,p,"F",y,_)}function ZC(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function M0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create(Ka(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>M0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function WC(r){return jC[r]}function t2(r){return BC[r]}function e2(r){return qC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Qe.fromServerFormat(r.fieldPath)}function P0(r){return r instanceof De?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:t2(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((l=>P0(l)));return s.length===1?s[0]:{compositeFilter:{op:e2(n.op),filters:s}}})(r):Et(54877,{filter:r})}function n2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function U0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function k0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,n,s,l,u=At.min(),d=At.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class i2{constructor(t){this.yt=t}}function r2(r){const t=$C({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vh(t,t.limit,"L"):t}class s2{constructor(){this.Sn=new a2}addToCollectionParentIndex(t,n){return this.Sn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(es.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class a2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Me(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(L0,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const _E="LruGarbageCollector",o2=1048576;function vE([r,t],[n,s]){const l=zt(r,n);return l===0?zt(t,s):l}class l2{constructor(t){this.Pr=t,this.buffer=new Me(vE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ut(_E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?ut(_E,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Ar(3e5)}))}}class c2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Mh.ce);const s=new l2(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(yE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,u,d,p,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ga()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function h2(r,t){return new c2(r,t)}class f2{constructor(){this.changes=new Ws((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class d2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class m2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Bl(s.mutation,l,wn.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const l=Hs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Ol();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Hs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let u=sr();const d=jl(),p=(function(){return jl()})();return n.forEach(((y,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof us)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Bl(T.mutation,_,T.mutation.getFieldMask(),se.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>p.set(_,new d2(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=jl();let l=new ce(((d,p)=>d-p)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=s.get(y)||wn.empty();T=p.applyToLocalView(_,T),s.set(y,T);const A=(l.get(p.batchId)||jt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,A=g0();T.forEach((C=>{if(!u.has(C)){const B=S0(n.get(C),s.get(C));B!==null&&A.set(C,B),u=u.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return gC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):h0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(Hs());let p=Gl,y=u;return d.next((_=>$.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((C=>{y=y.insert(T,C)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,y,_,jt()))).next((T=>({batchId:p,changes:p0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let l=Ol();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(y=>{const _=(function(A,C){return new yo(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((T=>{T.forEach(((A,C)=>{d=d.insert(A,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,ze.newInvalidDocument(T)))}));let p=Ol();return d.forEach(((y,_)=>{const T=u.get(y);T!==void 0&&Bl(T.mutation,_,wn.empty(),se.now()),kh(n,_)&&(p=p.insert(y,_))})),p}))}}class p2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:bn(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:r2(l.bundledQuery),readTime:bn(l.readTime)}})(n)),$.resolve()}}class g2{constructor(){this.overlays=new ce(mt.comparator),this.Lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Hs();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.bt(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Hs(),u=n.length+1,d=new mt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ce(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Hs(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Hs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return $.resolve(p)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new PC(n,s));let u=this.Lr.get(n);u===void 0&&(u=jt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class y2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class fp{constructor(){this.kr=new Me(Le.Kr),this.qr=new Me(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Le(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new ee([])),s=new Le(n,t),l=new Le(n,t+1),u=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new ee([])),s=new Le(n,t),l=new Le(n,t+1);let u=jt();return this.qr.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Le(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||zt(t.Hr,n.Hr)}static Ur(t,n){return zt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class _2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Le.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MC(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ep:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),l=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(zt);return n.forEach((l=>{const u=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const d=new Le(new mt(u),0);let p=new Me(zt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(n.mutations,(l=>{const u=new Le(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Le(n,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class v2{constructor(t){this.ti=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(t,n){let s=sr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():ze.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=sr();const d=n.path,p=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||YI(GI(T),s)<=0||(l.has(T.key)||kh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}ni(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new E2(this)}getSize(t){return $.resolve(this.size)}}class E2 extends f2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class T2{constructor(t){this.persistence=t,this.ri=new Ws((n=>rp(n)),sp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new fp,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),$.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.lr(n),$.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.si.containsKey(n))}}class z0{constructor(t,n){this._i={},this.overlays={},this.ai=new Mh(0),this.ui=!1,this.ui=!0,this.ci=new y2,this.referenceDelegate=t(this),this.li=new T2(this),this.indexManager=new s2,this.remoteDocumentCache=(function(l){return new v2(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new i2(n),this.Pi=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new g2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new _2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const l=new S2(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class S2 extends KI{constructor(t){super(),this.currentSequenceNumber=t}}class dp{constructor(t){this.persistence=t,this.Ri=new fp,this.Ai=null}static Vi(t){return new dp(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=mt.fromPath(s);return this.mi(t,l).next((u=>{u||n.removeEntry(l,At.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ah{constructor(t,n){this.persistence=t,this.fi=new Ws((s=>$I(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=h2(this,n)}static Vi(t,n){return new Ah(t,n)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return $.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(s++,u.removeEntry(d,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=eh(t.data.value)),n}wr(t,n,s){return $.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=jt(),l=jt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new mp(t,n.fromCache,s,l)}}class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class w2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Xw()?8:XI(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new A2;return this.ys(t,n,d).next((p=>{if(u.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>u.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Ga()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ga()<=Lt.DEBUG&&ut("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ga()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):$.resolve())}gs(t,n){if(oE(n))return $.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=vh(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=jt(...u);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.bs(n,p);return this.Ss(n,_,d,y.readTime)?this.gs(t,vh(n,null,"F")):this.Ds(t,_,n,y)}))))})))))}ps(t,n,s,l){return oE(n)||l.isEqual(At.min())?$.resolve(null):this.fs.getDocuments(t,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,l)?$.resolve(null):(Ga()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(n)),this.Ds(t,d,n,FI(l,Gl)).next((p=>p)))}))}bs(t,n){let s=new Me(d0(t));return n.forEach(((l,u)=>{kh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,s){return Ga()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(t,n,es.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const pp="LocalStore",b2=3e8;class R2{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ce(zt),this.Fs=new Ws((u=>rp(u)),sp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new m2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function I2(r,t,n,s){return new R2(r,t,n,s)}async function j0(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let y=jt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function C2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const A=_.batch,C=A.keys();let B=$.resolve();return C.forEach((Z=>{B=B.next((()=>T.getEntry(y,Z))).next((tt=>{const W=_.docVersions.get(Z);Ht(W!==null,48541),tt.version.compareTo(W)<0&&(A.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function B0(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function N2(r,t){const n=Rt(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((T,A)=>{const C=l.get(A);if(!C)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,A))));let B=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),l=l.insert(A,B),(function(tt,W,lt){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=b2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(C,B,T)&&p.push(n.li.updateTargetData(u,B))}));let y=sr(),_=jt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(D2(u,d,t.documentUpdates).next((T=>{y=T.Bs,_=T.Ls}))),!s.isEqual(At.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.vs=l,u)))}function D2(r,t,n){let s=jt(),l=jt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=sr();return n.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ut(pp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function O2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function x2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.li.allocateTargetId(s).next((d=>(l=new Kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Pm(r,t,n){const s=Rt(r),l=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;ut(pp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function EE(r,t,n){const s=Rt(r);let l=At.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=Rt(y),C=A.Fs.get(T);return C!==void 0?$.resolve(A.vs.get(C)):A.li.getTargetData(_,T)})(s,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?u:jt()))).next((p=>(V2(s,vC(t),p),{documents:p,ks:u})))))}function V2(r,t,n){let s=r.Ms.get(t)||At.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class TE{constructor(){this.activeTargetIds=bC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M2{constructor(){this.vo=new TE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new TE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class P2{Mo(t){}shutdown(){}}const SE="ConnectivityMonitor";class AE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(SE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ut(SE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Um(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const cm="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class k2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,u){const d=Um(),p=this.Qo(t,n.toUriEncodedString());ut(cm,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:_}=new URL(p),T=co(_);return this.zo(t,p,y,s,T).then((A=>(ut(cm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Xs(cm,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}jo(t,n,s,l,u,d){return this.Wo(t,n,s,l,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const s=U2[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class L2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",Rl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class to extends k2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!to.c_){const t=HT();Rl(t,qT.STAT_EVENT,(n=>{n.stat===bm.PROXY?ut(Je,"STAT_EVENT: detected buffering proxy"):n.stat===bm.NOPROXY&&ut(Je,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(t,n,s,l,u){const d=Um();return new Promise(((p,y)=>{const _=new jT;_.setWithCredentials(!0),_.listenOnce(BT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case th.NO_ERROR:const A=_.getResponseJson();ut(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case th.TIMEOUT:ut(Je,`RPC '${t}' ${d} timed out`),y(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const C=_.getStatus();if(ut(Je,`RPC '${t}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const tt=(function(lt){const vt=lt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(vt)>=0?vt:Q.UNKNOWN})(Z.status);y(new rt(tt,Z.message))}else y(new rt(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ut(Je,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=Um(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ut(Je,`Creating RPC '${t}' stream ${l}: ${_}`,p);const T=d.createWebChannel(_,p);this.I_(T);let A=!1,C=!1;const B=new L2({Ho:Z=>{C?ut(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(ut(Je,`Opening RPC '${t}' stream ${l} transport.`),T.open(),A=!0),ut(Je,`RPC '${t}' stream ${l} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return Rl(T,Dl.EventType.OPEN,(()=>{C||(ut(Je,`RPC '${t}' stream ${l} transport opened.`),B.i_())})),Rl(T,Dl.EventType.CLOSE,(()=>{C||(C=!0,ut(Je,`RPC '${t}' stream ${l} transport closed`),B.o_(),this.E_(T))})),Rl(T,Dl.EventType.ERROR,(Z=>{C||(C=!0,Xs(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),B.o_(new rt(Q.UNAVAILABLE,"The operation could not be completed")))})),Rl(T,Dl.EventType.MESSAGE,(Z=>{if(!C){const tt=Z.data[0];Ht(!!tt,16349);const W=tt,lt=W?.error||W[0]?.error;if(lt){ut(Je,`RPC '${t}' stream ${l} received error:`,lt);const vt=lt.status;let ft=(function(Nt){const N=Ne[Nt];if(N!==void 0)return R0(N)})(vt),It=lt.message;vt==="NOT_FOUND"&&It.includes("database")&&It.includes("does not exist")&&It.includes(this.databaseId.database)&&Xs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ft===void 0&&(ft=Q.INTERNAL,It="Unknown error status: "+vt+" with message "+lt.message),C=!0,B.o_(new rt(ft,It)),T.close()}else ut(Je,`RPC '${t}' stream ${l} received:`,tt),B.__(tt)}})),to.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FT()}}function z2(r){return new to(r)}function hm(){return typeof document<"u"?document:null}function Bh(r){return new HC(r,!0)}to.c_=!1;class gp{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const wE="PersistentStream";class q0{constructor(t,n,s,l,u,d,p,y){this.Ci=t,this.b_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(wE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ut(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j2 extends q0{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=QC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?bn(d.readTime):At.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,d){let p;const y=d.target;if(p=Dm(y)?{documents:XC(u,y)}:{query:JC(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=N0(u,d.resumeToken);const _=xm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Th(u,d.snapshotVersion.toTimestamp());const _=xm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=ZC(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Mm(this.serializer),n.removeTarget=t,this.K_(n)}}class B2 extends q0{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=KC(t.writeResults,t.commitTime),s=bn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Mm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>V0(this.serializer,s)))};this.K_(n)}}class q2{}class H2 extends q2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,Vm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Q.UNKNOWN,u.toString())}))}jo(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Vm(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function F2(r,t,n,s){return new H2(r,t,n,s)}class G2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class Y2{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ta(this)&&(ut(Js,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await cu(_),_.Va.set("Unknown"),_.Ea.delete(4),await qh(_)})(this))}))})),this.Va=new G2(s,l)}}async function qh(r){if(ta(r))for(const t of r.Ra)await t(!0)}async function cu(r){for(const t of r.Ra)await t(!1)}function H0(r,t){const n=Rt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ep(n)?vp(n):_o(n).O_()&&_p(n,t))}function yp(r,t){const n=Rt(r),s=_o(n);n.Ia.delete(t),s.O_()&&F0(n,t),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Va.set("Unknown"))}function _p(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(r).Z_(t)}function F0(r,t){r.da.$e(t),_o(r).X_(t)}function vp(r){r.da=new zC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Va.ua()}function Ep(r){return ta(r)&&!_o(r).x_()&&r.Ia.size>0}function ta(r){return Rt(r).Ea.size===0}function G0(r){r.da=void 0}async function Q2(r){r.Va.set("Online")}async function K2(r){r.Ia.forEach(((t,n)=>{_p(r,t)}))}async function X2(r,t){G0(r),Ep(r)?(r.Va.ha(t),vp(r)):r.Va.set("Unknown")}async function J2(r,t,n){if(r.Va.set("Online"),t instanceof C0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){ut(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wh(r,s)}else if(t instanceof rh?r.da.Xe(t):t instanceof I0?r.da.st(t):r.da.tt(t),!n.isEqual(At.min()))try{const s=await B0(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),F0(u,y);const A=new Kr(T.target,y,_,T.sequenceNumber);_p(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ut(Js,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,t,n){if(!go(t))throw t;r.Ea.add(1),await cu(r),r.Va.set("Offline"),n||(n=()=>B0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await qh(r)}))}function Y0(r,t){return t().catch((n=>wh(r,n,t)))}async function Hh(r){const t=Rt(r),n=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ep;for(;$2(t);)try{const l=await O2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,Z2(t,l)}catch(l){await wh(t,l)}Q0(t)&&K0(t)}function $2(r){return ta(r)&&r.Ta.length<10}function Z2(r,t){r.Ta.push(t);const n=ss(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function Q0(r){return ta(r)&&!ss(r).x_()&&r.Ta.length>0}function K0(r){ss(r).start()}async function W2(r){ss(r).ra()}async function tN(r){const t=ss(r);for(const n of r.Ta)t.ea(n.mutations)}async function eN(r,t,n){const s=r.Ta.shift(),l=up.from(s,t,n);await Y0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Hh(r)}async function nN(r,t){t&&ss(r).Y_&&await(async function(s,l){if((function(d){return b0(d)&&d!==Q.ABORTED})(l.code)){const u=s.Ta.shift();ss(s).B_(),await Y0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Hh(s)}})(r,t),Q0(r)&&K0(r)}async function bE(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ut(Js,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await cu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qh(n)}async function iN(r,t){const n=Rt(r);t?(n.Ea.delete(2),await qh(n)):t||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,l){const u=Rt(n);return u.sa(),new j2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:Q2.bind(null,r),Yo:K2.bind(null,r),t_:X2.bind(null,r),J_:J2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Ep(r)?vp(r):r.Va.set("Unknown")):(await r.ma.stop(),G0(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(n,s,l){const u=Rt(n);return u.sa(),new B2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:W2.bind(null,r),t_:nN.bind(null,r),ta:tN.bind(null,r),na:eN.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tp{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,p=new Tp(t,n,d,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),go(r))return new rt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class RE{constructor(){this.ga=new ce(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class uo{constructor(t,n,s,l,u,d,p,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,n,eo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class rN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class sN{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Rt(n),u=l.queries;l.queries=IE(),u.forEach(((d,p)=>{for(const y of p.ba)y.onError(s)}))})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function IE(){return new Ws((r=>f0(r)),Uh)}async function X0(r,t){const n=Rt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(s=2):(u=new rN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Sp(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Ap(n)}async function J0(r,t){const n=Rt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aN(r,t){const n=Rt(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&Ap(n)}function oN(r,t,n){const s=Rt(r),l=s.queries.get(t);if(l)for(const u of l.ba)u.onError(n);s.queries.delete(t)}function Ap(r){r.Ca.forEach((t=>{t.next()}))}var km,CE;(CE=km||(km={})).Ma="default",CE.Cache="cache";class $0{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==km.Cache}}class Z0{constructor(t){this.key=t}}class W0{constructor(t){this.key=t}}class lN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=d0(t),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new RE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const C=l.get(T),B=kh(this.query,A)?A:null,Z=!!C&&this.mutatedKeys.has(C.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;C&&B?C.data.isEqual(B.data)?Z!==tt&&(s.track({type:3,doc:B}),W=!0):this.su(C,B)||(s.track({type:2,doc:B}),W=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!C&&B?(s.track({type:0,doc:B}),W=!0):C&&!B&&(s.track({type:1,doc:C}),W=!0,(y||_)&&(p=!0)),W&&(B?(d=d.add(B),u=tt?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(B,Z){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:W})}};return tt(B)-tt(Z)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new uo(this.query,t.tu,u,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new W0(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new Z0(s))})),n}cu(t){this.Za=t.ks,this.Ya=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wp="SyncEngine";class uN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class cN{constructor(t){this.key=t,this.hu=!1}}class hN{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ws((p=>f0(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(mt.comparator),this.Au=new Map,this.Vu=new fp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(r,t,n=!0){const s=sS(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await tS(s,t,n,!0),l}async function dN(r,t){const n=sS(r);await tS(n,t,!0,!1)}async function tS(r,t,n,s){const l=await x2(r.localStore,Di(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await mN(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&H0(r.remoteStore,l),p}async function mN(r,t,n,s,l){r.pu=(A,C,B)=>(async function(tt,W,lt,vt){let ft=W.view.ru(lt);ft.Ss&&(ft=await EE(tt.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,ft))));const It=vt&&vt.targetChanges.get(W.targetId),gt=vt&&vt.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(ft,tt.isPrimaryClient,It,gt);return DE(tt,W.targetId,Nt.au),Nt.snapshot})(r,A,C,B);const u=await EE(r.localStore,t,!0),d=new lN(t,u.ks),p=d.ru(u.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);DE(r,n,_.au);const T=new uN(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function pN(r,t,n){const s=Rt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Uh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Pm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&yp(s.remoteStore,l.targetId),Lm(s,l.targetId)})).catch(po)):(Lm(s,l.targetId),await Pm(s.localStore,l.targetId,!0))}async function gN(r,t){const n=Rt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),yp(n.remoteStore,s.targetId))}async function yN(r,t,n){const s=wN(r);try{const l=await(function(d,p){const y=Rt(d),_=se.now(),T=p.reduce(((B,Z)=>B.add(Z.key)),jt());let A,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=sr(),tt=jt();return y.xs.getEntries(B,T).next((W=>{Z=W,Z.forEach(((lt,vt)=>{vt.isValidDocument()||(tt=tt.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,Z))).next((W=>{A=W;const lt=[];for(const vt of p){const ft=VC(vt,A.get(vt.key).overlayedDocument);ft!=null&&lt.push(new us(vt.key,ft,r0(ft.value.mapValue),sn.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,lt,p)})).next((W=>{C=W;const lt=W.applyToLocalDocumentSet(A,tt);return y.documentOverlayCache.saveOverlays(B,W.batchId,lt)}))})).then((()=>({batchId:C.batchId,changes:p0(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ce(zt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(s,l.batchId,n),await hu(s,l.changes),await Hh(s.remoteStore)}catch(l){const u=Sp(l,"Failed to persist write");n.reject(u)}}async function eS(r,t){const n=Rt(r);try{const s=await N2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await hu(n,s,t)}catch(s){await po(s)}}function NE(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,A)=>{for(const C of A.ba)C.va(p)&&(_=!0)})),_&&Ap(y)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _N(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new ce(mt.comparator);d=d.insert(u,ze.newNoDocument(u,At.min()));const p=jt().add(u),y=new jh(At.min(),new Map,new ce(zt),d,p);await eS(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(t),bp(s)}else await Pm(s.localStore,t,!1).then((()=>Lm(s,t,n))).catch(po)}async function vN(r,t){const n=Rt(r),s=t.batch.batchId;try{const l=await C2(n.localStore,t);iS(n,s,null),nS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,l)}catch(l){await po(l)}}async function EN(r,t,n){const s=Rt(r);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ht(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(s.localStore,t);iS(s,t,n),nS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await hu(s,l)}catch(l){await po(l)}}function nS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function iS(r,t,n){const s=Rt(r);let l=s.du[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Lm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||rS(r,s)}))}function rS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(yp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),bp(r))}function DE(r,t,n){for(const s of n)s instanceof Z0?(r.Vu.addReference(s.key,t),TN(r,s)):s instanceof W0?(ut(wp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||rS(r,s.key)):Et(19791,{wu:s})}function TN(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ut(wp,"New document in limbo: "+n),r.Eu.add(s),bp(r))}function bp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new cN(n)),r.Ru=r.Ru.insert(n,s),H0(r.remoteStore,new Kr(Di(ap(n.path)),s,"TargetPurposeLimboResolution",Mh.ce))}}async function hu(r,t,n){const s=Rt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,n).then((_=>{if((_||n)&&s.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=mp.Es(y.targetId,_);u.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(y,_){const T=Rt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(C=>$.forEach(C.Ts,(B=>T.persistence.referenceDelegate.addReference(A,C.targetId,B))).next((()=>$.forEach(C.Is,(B=>T.persistence.referenceDelegate.removeReference(A,C.targetId,B)))))))))}catch(A){if(!go(A))throw A;ut(pp,"Failed to update sequence numbers: "+A)}for(const A of _){const C=A.targetId;if(!A.fromCache){const B=T.vs.get(C),Z=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(C,tt)}}})(s.localStore,u))}async function SN(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ut(wp,"User change. New user:",t.toKey());const s=await j0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new rt(Q.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ns)}}function AN(r,t){const n=Rt(r),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let l=jt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function sS(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_N.bind(null,t),t.Pu.J_=aN.bind(null,t.eventManager),t.Pu.yu=oN.bind(null,t.eventManager),t}function wN(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,t),t}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return I2(this.persistence,new w2,t.initialUser,this.serializer)}Cu(t){return new z0(dp.Vi,this.serializer)}Du(t){return new M2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class bN extends bh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new u2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new z0((s=>Ah.Vi(s,n)),this.serializer)}}class zm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sN})()}createDatastore(t){const n=Bh(t.databaseInfo.databaseId),s=z2(t.databaseInfo);return F2(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,p){return new Y2(s,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return AE.v()?new AE:new P2})())}createSyncEngine(t,n){return(function(l,u,d,p,y,_,T){const A=new hN(l,u,d,p,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ut(Js,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class aS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}let RN=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new rt(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(l,u){const d=Rt(l),p={documents:u.map((A=>Sh(d.serializer,A)))},y=await d.jo("BatchGetDocuments",d.serializer.databaseId,ee.emptyPath(),p,u.length),_=new Map;y.forEach((A=>{const C=YC(d.serializer,A);_.set(C.key.toString(),C)}));const T=[];return u.forEach((A=>{const C=_.get(A.toString());Ht(!!C,55234,{key:A}),T.push(C)})),T})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new lp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const l=mt.fromPath(s);this.mutations.push(new w0(l,this.precondition(l)))})),await(async function(s,l){const u=Rt(s),d={writes:l.map((p=>V0(u.serializer,p)))};await u.Wo("Commit",u.serializer.databaseId,ee.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Et(50498,{Gu:t.constructor.name});n=At.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new rt(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(At.min())?sn.exists(!1):sn.updateTime(n):sn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(At.min()))throw new rt(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class IN{constructor(t,n,s,l,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.zu=s.maxAttempts,this.M_=new gp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new RN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((l=>{this.Zu(l)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!b0(n)}return!1}}const as="FirestoreClient";class CN{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ut(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Sp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function fm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(as,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await j0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function OE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await NN(r);ut(as,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>bE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>bE(t.remoteStore,l))),r._onlineComponents=t}async function NN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(as,"Using user provided OfflineComponentProvider");try{await fm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await fm(r,new bh)}}else ut(as,"Using default OfflineComponentProvider"),await fm(r,new bN(void 0));return r._offlineComponents}async function Rp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(as,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(ut(as,"Using default OnlineComponentProvider"),await OE(r,new zm))),r._onlineComponents}function DN(r){return Rp(r).then((t=>t.syncEngine))}function ON(r){return Rp(r).then((t=>t.datastore))}async function oS(r){const t=await Rp(r),n=t.eventManager;return n.onListen=fN.bind(null,t.syncEngine),n.onUnlisten=pN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gN.bind(null,t.syncEngine),n}function xN(r,t,n={}){const s=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,_){const T=new aS({next:C=>{T.Nu(),d.enqueueAndForget((()=>J0(u,A)));const B=C.docs.has(p);!B&&C.fromCache?_.reject(new rt(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&C.fromCache&&y&&y.source==="server"?_.reject(new rt(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),A=new $0(ap(p.path),T,{includeMetadataChanges:!0,Ka:!0});return X0(u,A)})(await oS(r),r.asyncQueue,t,n,s))),s.promise}function VN(r,t,n={}){const s=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,_){const T=new aS({next:C=>{T.Nu(),d.enqueueAndForget((()=>J0(u,A))),C.fromCache&&y.source==="server"?_.reject(new rt(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),A=new $0(p,T,{includeMetadataChanges:!0,Ka:!0});return X0(u,A)})(await oS(r),r.asyncQueue,t,n,s))),s.promise}function MN(r,t){const n=new Ni;return r.asyncQueue.enqueueAndForget((async()=>yN(await DN(r),t,n))),n.promise}function PN(r,t,n){const s=new Ni;return r.asyncQueue.enqueueAndForget((async()=>{const l=await ON(r);new IN(r.asyncQueue,l,n,t,s).ju()})),s.promise}function lS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const UN="ComponentProvider",xE=new Map;function kN(r,t,n,s,l){return new tC(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const uS="firestore.googleapis.com",VE=!0;class ME{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=VE}else this.host=t.host,this.ssl=t.ssl??VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<o2)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xE.get(n);s&&(ut(UN,"Removing Datastore"),xE.delete(n),s.terminate())})(this),Promise.resolve()}}function LN(r,t,n,s={}){r=xi(r,Fh);const l=co(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&($E(`https://${p}`),ZE("Firestore",!0)),u.host!==uS&&u.host!==p&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:s};if(!Fs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=$e.MOCK_USER;else{_=jw(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(A)}r._authCredentials=new MI(new YT(_,T))}}class cs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class de{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(au(n,de._jsonSchema))return new de(t,s||null,new mt(ee.fromString(n.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:Oe("string",de._jsonSchemaVersion),referencePath:Oe("string")};class Wr extends cs{constructor(t,n,s){super(t,n,ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new mt(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function Kc(r,t,...n){if(r=ve(r),QT("collection","path",t),r instanceof Fh){const s=ee.fromString(t,...n);return Qv(s),new Wr(r,null,s)}{if(!(r instanceof de||r instanceof Wr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Qv(s),new Wr(r.firestore,null,s)}}function Hr(r,t,...n){if(r=ve(r),arguments.length===1&&(t=tp.newId()),QT("doc","path",t),r instanceof Fh){const s=ee.fromString(t,...n);return Yv(s),new de(r,null,new mt(s))}{if(!(r instanceof de||r instanceof Wr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Yv(s),new de(r.firestore,r instanceof Wr?r.converter:null,new mt(s))}}const PE="AsyncQueue";class UE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gp(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&ut(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ni;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;ut(PE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",kE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Tp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function kE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class vo extends Fh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new UE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UE(t),this._firestoreClient=void 0,await t}}}function zN(r,t){const n=typeof r=="object"?r:nT(),s=typeof r=="string"?r:gh,l=Fm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Lw("firestore");u&&LN(l,...u)}return l}function Gh(r){if(r._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jN(r),r._firestoreClient}function jN(r){const t=r._freezeSettings(),n=kN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new CN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class An{constructor(t){this._byteString=t}static fromBase64String(t){try{return new An(Ke.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new An(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,An._jsonSchema))return An.fromBase64String(t.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:Oe("string",An._jsonSchemaVersion),bytes:Oe("string")};class Yh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qh{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(au(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ei{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ei(t.vectorValues);throw new rt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Oe("string",ei._jsonSchemaVersion),vectorValues:Oe("object")};const BN=/^__.*__$/;class qN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new us(t,this.data,this.fieldMask,n,this.fieldTransforms):new lu(t,this.data,n,this.fieldTransforms)}}class cS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new us(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function hS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:r})}}class Ip{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ip({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Rh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(hS(this.dataSource)&&BN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class HN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Bh(t)}createContext(t,n,s,l=!1){return new Ip({dataSource:t,methodName:n,targetDoc:s,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(r){const t=r._freezeSettings(),n=Bh(r._databaseId);return new HN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fS(r,t,n,s,l,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,t,n,l);Np("Data must be an object, but it was:",d,s);const p=pS(s,d);let y,_;if(u.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const C=$s(t,A,n);if(!d.contains(C))throw new rt(Q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);_S(T,C)||T.push(C)}y=new wn(T),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new qN(new rn(p),y,_)}class Xh extends Qh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}class Cp extends Qh{_toFieldTransform(t){return new NC(t.path,new Jl)}isEqual(t){return t instanceof Cp}}function dS(r,t,n,s){const l=r.createContext(1,t,n);Np("Data must be an object, but it was:",l,s);const u=[],d=rn.empty();ls(s,((y,_)=>{const T=yS(t,y,n);_=ve(_);const A=l.childContextForFieldPath(T);if(_ instanceof Xh)u.push(T);else{const C=fu(_,A);C!=null&&(u.push(T),d.set(T,C))}}));const p=new wn(u);return new cS(d,p,l.fieldTransforms)}function mS(r,t,n,s,l,u){const d=r.createContext(1,t,n),p=[$s(t,s,n)],y=[l];if(u.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push($s(t,u[C])),y.push(u[C+1]);const _=[],T=rn.empty();for(let C=p.length-1;C>=0;--C)if(!_S(_,p[C])){const B=p[C];let Z=y[C];Z=ve(Z);const tt=d.childContextForFieldPath(B);if(Z instanceof Xh)_.push(B);else{const W=fu(Z,tt);W!=null&&(_.push(B),T.set(B,W))}}const A=new wn(_);return new cS(T,A,d.fieldTransforms)}function FN(r,t,n,s=!1){return fu(n,r.createContext(s?4:3,t))}function fu(r,t){if(gS(r=ve(r)))return Np("Unsupported field value:",t,r),pS(r,t);if(r instanceof Qh)return(function(s,l){if(!hS(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let y=fu(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:Th(l.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(l.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof An)return{bytesValue:N0(l.serializer,s._byteString)};if(s instanceof de){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(d,p){const y=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[n0]:{stringValue:i0},[yh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return op(p.serializer,T)}))}}}}}})(s,l);if(k0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vh(s)}`)})(r,t)}function pS(r,t){const n={};return JT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(r,((s,l)=>{const u=fu(l,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function gS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Oi||r instanceof An||r instanceof de||r instanceof Qh||r instanceof ei||k0(r))}function Np(r,t,n){if(!gS(n)||!KT(n)){const s=Vh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function $s(r,t,n){if((t=ve(t))instanceof Yh)return t._internalPath;if(typeof t=="string")return yS(r,t);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const GN=new RegExp("[~\\*/\\[\\]]");function yS(r,t,n){if(t.search(GN)>=0)throw Rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yh(...t.split("."))._internalPath}catch{throw Rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new rt(Q.INVALID_ARGUMENT,p+r+y)}function _S(r,t){return r.some((n=>n.isEqual(t)))}class vS{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ls(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[yh].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new ei(n)}convertGeoPoint(t){return new Oi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ph(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(t));default:return null}}convertTimestamp(t){const n=ns(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(U0(s),9688,{name:t});const l=new Ql(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return l.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Dp extends vS{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,n)}}function Vl(){return new Cp("serverTimestamp")}const LE="@firebase/firestore",zE="4.11.0";class Ih{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field($s("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YN extends Ih{data(){return super.data()}}function QN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Op{}class xp extends Op{}function dm(r,t,...n){let s=[];t instanceof Op&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((y=>y instanceof Vp)).length,p=u.filter((y=>y instanceof Jh)).length;if(d>1||d>0&&p>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Jh extends xp{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Jh(t,n,s)}_apply(t){const n=this._parse(t);return ES(t._query,n),new cs(t.firestore,t.converter,Om(t._query,n))}_parse(t){const n=Kh(t.firestore);return(function(u,d,p,y,_,T,A){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){qE(A,T);const Z=[];for(const tt of A)Z.push(BE(y,u,tt));C={arrayValue:{values:Z}}}else C=BE(y,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||qE(A,T),C=FN(p,d,A,T==="in"||T==="not-in");return De.create(_,T,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function mm(r,t,n){const s=t,l=$s("where",r);return Jh._create(l,s,n)}class Vp extends Op{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Vp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const y of p)ES(d,y),d=Om(d,y)})(t._query,n),new cs(t.firestore,t.converter,Om(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mp extends xp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Mp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(u,d)})(t._query,this._field,this._direction);return new cs(t.firestore,t.converter,_C(t._query,n))}}function KN(r,t="asc"){const n=t,s=$s("orderBy",r);return Mp._create(s,n)}class Pp extends xp{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Pp(t,n,s)}_apply(t){return new cs(t.firestore,t.converter,vh(t._query,this._limit,this._limitType))}}function jE(r){return Pp._create("limit",r,"F")}function BE(r,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h0(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!mt.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(r,new mt(s))}if(n instanceof de)return eE(r,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function qE(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ES(r,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function TS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class XN extends vS{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,n)}}class Ja{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ts extends Ih{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($s("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Oe("string",ts._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class sh extends ts{data(t={}){return super.data(t)}}class no{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ja(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Ja(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:JN(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Oe("string",no._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};const $N={maxAttempts:5};function Ml(r,t){if((r=ve(r)).firestore!==t)throw new rt(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ZN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Kh(t)}get(t){const n=Ml(t,this._firestore),s=new XN(this._firestore);return this._transaction.lookup([n._key]).then((l=>{if(!l||l.length!==1)return Et(24041);const u=l[0];if(u.isFoundDocument())return new Ih(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Ih(this._firestore,s,n._key,null,n.converter);throw Et(18433,{doc:u})}))}set(t,n,s){const l=Ml(t,this._firestore),u=TS(l.converter,n,s),d=fS(this._dataReader,"Transaction.set",l._key,u,l.converter!==null,s);return this._transaction.set(l._key,d),this}update(t,n,s,...l){const u=Ml(t,this._firestore);let d;return d=typeof(n=ve(n))=="string"||n instanceof Yh?mS(this._dataReader,"Transaction.update",u._key,n,s,l):dS(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,d),this}delete(t){const n=Ml(t,this._firestore);return this._transaction.delete(n._key),this}}class WN extends ZN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ml(t,this._firestore),s=new Dp(this._firestore);return super.get(t).then((l=>new ts(this._firestore,s,n._key,l._document,new Ja(!1,!1),n.converter)))}}function tD(r,t,n){r=xi(r,vo);const s={...$N,...n};(function(d){if(d.maxAttempts<1)throw new rt(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const l=Gh(r);return PN(l,(u=>t(new WN(r,u))),s)}function eD(r){r=xi(r,de);const t=xi(r.firestore,vo),n=Gh(t);return xN(n,r._key).then((s=>iD(t,r,s)))}function pm(r){r=xi(r,cs);const t=xi(r.firestore,vo),n=Gh(t),s=new Dp(t);return QN(r._query),VN(n,r._query).then((l=>new no(t,s,r,l)))}function ah(r,t,n){r=xi(r,de);const s=xi(r.firestore,vo),l=TS(r.converter,t,n),u=Kh(s);return SS(s,[fS(u,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,sn.none())])}function nD(r,t,n,...s){r=xi(r,de);const l=xi(r.firestore,vo),u=Kh(l);let d;return d=typeof(t=ve(t))=="string"||t instanceof Yh?mS(u,"updateDoc",r._key,t,n,s):dS(u,"updateDoc",r._key,t),SS(l,[d.toMutation(r._key,sn.exists(!0))])}function SS(r,t){const n=Gh(r);return MN(n,t)}function iD(r,t,n){const s=n.docs.get(t._key),l=new Dp(r);return new ts(r,l,t._key,s,new Ja(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){xI(ho),io(new Gs("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new vo(new PI(s.getProvider("auth-internal")),new LI(d,s.getProvider("app-check-internal")),eC(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),$r(LE,zE,t),$r(LE,zE,"esm2020")})();const Pl={apiKey:"AIzaSyCZjegGhnr8FXTBDetqCOmmme5M7_IdUms",authDomain:"comics-a8a20.firebaseapp.com",projectId:"comics-a8a20",storageBucket:"comics-a8a20.firebasestorage.app",messagingSenderId:"273958580614",appId:"1:273958580614:web:92f1e677c77578529afc07"},Wl=!!(Pl.apiKey&&Pl.authDomain&&Pl.projectId&&Pl.appId),Ch=Wl?eT(Pl):null,qr=Ch?DI(Ch):null,zn=Ch?zN(Ch):null;function rD({track:r,onPlay:t}){const{isReady:n,error:s}=Bm(),l=r.page_start&&r.page_end?`Pages ${r.page_start}-${r.page_end}`:"Pages TBD";return j.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-white/5 bg-ink-800/70 px-4 py-3",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-semibold",children:r.title}),j.jsx("p",{className:"text-xs text-white/60",children:l})]}),j.jsx(nn,{onClick:()=>{if(!n||s){window.open(r.youtube_url,"_blank","noopener,noreferrer");return}t(r)},className:"px-3 py-1.5 text-xs",disabled:!n&&!s,children:n&&!s?"Play":s?"Open":"Loading player..."}),!n&&s?j.jsx("p",{className:"text-xs text-red-200",children:"Player blocked. Disable adblock or open in YouTube."}):null]})}function sD({soundtrack:r,onPlay:t,onVote:n,onEdit:s,currentUserId:l}){const u=r.currentUserVote===1,d=r.currentUserVote===-1,p=!!(l&&r.user_id===l),[y,_]=_t.useState(!1),[T,A]=_t.useState(!1),C=B=>{B===1?(_(!0),setTimeout(()=>_(!1),220)):(A(!0),setTimeout(()=>A(!1),220))};return j.jsxs(jn,{className:"flex flex-col gap-4 p-5",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-base font-semibold",children:r.title}),j.jsxs("p",{className:"text-xs text-white/60",children:["by ",r.user_name]})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[p?j.jsx(nn,{onClick:()=>s(r),className:"px-3 py-1.5 text-xs",children:"Edit"}):null,j.jsxs(nn,{onClick:()=>{n(r,1),C(1)},className:`px-3 py-1.5 text-xs transition-transform ${u?"border-emerald-400/60 bg-emerald-500/20 text-emerald-100":""} ${y?"scale-110":""}`,children:[" ",r.upvotes]}),j.jsxs(nn,{onClick:()=>{n(r,-1),C(-1)},className:`px-3 py-1.5 text-xs transition-transform ${d?"border-red-400/60 bg-red-500/20 text-red-100":""} ${T?"scale-110":""}`,children:[" ",r.downvotes]})]})]}),j.jsx("div",{className:"flex flex-col gap-3",children:r.tracks.length>0?r.tracks.map(B=>j.jsx(rD,{track:B,onPlay:t},B.id)):j.jsx("p",{className:"text-sm text-white/50",children:"No tracks yet for this soundtrack."})})]})}const AS=_t.createContext(null);function aD({children:r}){const[t,n]=_t.useState(null),[s,l]=_t.useState(!1);_t.useEffect(()=>{if(!Wl||!qr){l(!0);return}const _=_R(qr,T=>{n(T?{id:T.uid,email:T.email,name:T.displayName??T.email?.split("@")[0]??null}:null),l(!0)});return()=>_()},[]);const u=async(_,T,A)=>{if(!qr||!zn)throw new Error("Firebase is not configured.");const C=await fR(qr,_,T);await pR(C.user,{displayName:A}),await ah(Hr(zn,"users",C.user.uid),{email:_,name:A,created_at:Vl()})},d=async(_,T)=>{if(!qr)throw new Error("Firebase is not configured.");await dR(qr,_,T)},p=async()=>{qr&&await vR(qr)},y=_t.useMemo(()=>({user:t,isReady:s,signIn:d,signUp:u,signOutUser:p}),[t,s]);return j.jsx(AS.Provider,{value:y,children:r})}function wS(){const r=_t.useContext(AS);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function oD({issue:r,onBack:t}){const[n,s]=_t.useState(!0),[l,u]=_t.useState(null),[d,p]=_t.useState([]),[y,_]=_t.useState(!1),[T,A]=_t.useState(""),[C,B]=_t.useState([{title:"",youtube_url:"",page_start:"",page_end:""}]),[Z,tt]=_t.useState(!1),[W,lt]=_t.useState(0),[vt,ft]=_t.useState(null),{playQueue:It}=Bm(),{user:gt}=wS();_t.useEffect(()=>{let w=!0;return(async()=>{try{if(s(!0),u(null),!Wl||!zn)throw new Error("Missing Firebase configuration.");const St=zn,F=Kc(St,"issues"),G=dm(F,mm("comicvine_issue_id","==",String(r.id)),jE(1)),it=await pm(G);let at;if(it.empty){const dt=Hr(F);await ah(dt,{comicvine_issue_id:String(r.id),title:`${r.volume?.name??"Untitled"} #${r.issue_number}`,cover_url:r.image?.super_url??r.image?.small_url??null,created_at:Vl()}),at=dt.id}else at=it.docs[0].id;const bt=Kc(St,"soundtracks"),D=dm(bt,mm("issue_id","==",at),KN("votes_count","desc")),et=(await pm(D)).docs.map(dt=>{const yt=dt.data();return{id:dt.id,title:yt.title??"Untitled soundtrack",created_at:yt.created_at??"",tracks:(yt.tracks??[]).sort((Vt,ue)=>(Vt.order_index??0)-(ue.order_index??0)),votes:yt.votes_count??0,upvotes:yt.upvotes??0,downvotes:yt.downvotes??0,user_id:yt.user_id??"unknown",user_name:yt.user_name??"Anonymous",currentUserVote:0}}),ot=await Promise.all(et.map(async dt=>{if(!gt)return dt;const yt=Hr(St,"soundtracks",dt.id,"votes",gt.id),Vt=await eD(yt),ue=Vt.exists()?Vt.data().value??0:0;return{...dt,currentUserVote:ue}}));ot.sort((dt,yt)=>yt.votes-dt.votes),w&&p(ot)}catch(St){w&&u(St instanceof Error?St.message:"Failed to load data.")}finally{w&&s(!1)}})(),()=>{w=!1}},[r,W,gt]);const Nt=(w,st)=>{It(st,w)},N=()=>{B(w=>[...w,{title:"",youtube_url:"",page_start:"",page_end:""}])},b=w=>{B(st=>st.filter((St,F)=>F!==w))},R=(w,st,St)=>{B(F=>F.map((G,it)=>it===w?{...G,[st]:St}:G))},V=async()=>{if(!zn||!Wl||!gt){u("You must be signed in to add a playlist.");return}const w=C.map((st,St)=>({id:`${Date.now()}-${St}`,title:st.title.trim(),youtube_url:st.youtube_url.trim(),page_start:st.page_start?Number(st.page_start):null,page_end:st.page_end?Number(st.page_end):null,order_index:St})).filter(st=>st.title&&st.youtube_url);if(!T.trim()){u("Please enter a playlist title.");return}if(w.length===0){u("Please add at least one track with a YouTube URL.");return}tt(!0),u(null);try{const st=Kc(zn,"issues"),St=dm(st,mm("comicvine_issue_id","==",String(r.id)),jE(1)),F=await pm(St),G=F.empty?await(async()=>{const at=Hr(st);return await ah(at,{comicvine_issue_id:String(r.id),title:`${r.volume?.name??"Untitled"} #${r.issue_number}`,cover_url:r.image?.super_url??r.image?.small_url??null,created_at:Vl()}),at.id})():F.docs[0].id,it=Kc(zn,"soundtracks");vt?await nD(Hr(zn,"soundtracks",vt),{title:T.trim(),tracks:w,updated_at:Vl()}):await ah(Hr(it),{issue_id:G,title:T.trim(),tracks:w,created_at:Vl(),user_id:gt.id,user_name:gt.name??gt.email??"User",votes_count:0,upvotes:0,downvotes:0}),A(""),B([{title:"",youtube_url:"",page_start:"",page_end:""}]),_(!1),ft(null),lt(at=>at+1)}catch(st){u(st instanceof Error?st.message:"Failed to save playlist.")}finally{tt(!1)}},O=async(w,st)=>{if(!zn||!gt){u("Please sign in to vote.");return}const St=Hr(zn,"soundtracks",w.id,"votes",gt.id),F=Hr(zn,"soundtracks",w.id);await tD(zn,async G=>{const it=await G.get(St),at=await G.get(F);if(!at.exists())throw new Error("Soundtrack not found.");const bt=at.data();let D=bt.votes_count??0,K=bt.upvotes??0,et=bt.downvotes??0;it.exists()?it.data().value===st?(G.delete(St),D-=st,st===1&&(K-=1),st===-1&&(et-=1)):(G.set(St,{value:st}),D+=st*2,st===1?(K+=1,et-=1):(et+=1,K-=1)):(G.set(St,{value:st}),D+=st,st===1&&(K+=1),st===-1&&(et+=1)),G.update(F,{votes_count:D,upvotes:K,downvotes:et})}),lt(G=>G+1)},P=w=>{!gt||w.user_id!==gt.id||(ft(w.id),A(w.title),B(w.tracks.map(st=>({title:st.title,youtube_url:st.youtube_url,page_start:st.page_start?String(st.page_start):"",page_end:st.page_end?String(st.page_end):""}))),_(!0))};return j.jsxs("div",{className:"flex flex-col gap-8",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-sm text-white/60",children:"Issue details"}),j.jsxs("h2",{className:"text-2xl font-semibold",children:[r.volume?.name??"Untitled"," #",r.issue_number]})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[gt?j.jsx(nn,{onClick:()=>_(w=>!w),children:y?"Close":"+ Add playlist"}):j.jsx("p",{className:"text-sm text-white/50",children:"Sign in to add a playlist."}),j.jsx(nn,{onClick:t,children:"Back to results"})]})]}),j.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_2fr]",children:[j.jsxs(jn,{className:"flex flex-col gap-4 p-4",children:[r.image?.super_url?j.jsx("img",{src:r.image.super_url,alt:r.name??"Issue cover",className:"h-80 w-full rounded-xl object-cover",loading:"lazy"}):j.jsx("div",{className:"flex h-80 items-center justify-center rounded-xl bg-ink-800 text-sm text-white/40",children:"No cover"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-lg font-semibold",children:r.name??"Unnamed Issue"}),j.jsxs("p",{className:"text-sm text-white/60",children:["Cover date: ",r.cover_date??"Unknown"]})]})]}),j.jsxs("div",{className:"flex flex-col gap-4",children:[l?j.jsx(jn,{className:"border-red-500/30 bg-red-500/10 p-4 text-sm text-red-200",children:l}):null,y?j.jsxs(jn,{className:"flex flex-col gap-4 p-5",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-semibold",children:vt?"Edit playlist":"New playlist"}),j.jsx("p",{className:"text-xs text-white/60",children:"Add tracks with page ranges and YouTube links."})]}),j.jsxs("div",{className:"flex flex-col gap-3",children:[j.jsx("label",{className:"text-xs text-white/60",children:"Playlist title"}),j.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-4 py-3 text-sm text-white placeholder:text-white/40 shadow-sm focus:border-white/30 focus:outline-none",value:T,onChange:w=>A(w.target.value),placeholder:"e.g. Noir city vibes"})]}),j.jsxs("div",{className:"flex flex-col gap-4",children:[C.map((w,st)=>j.jsxs("div",{className:"grid gap-3 rounded-xl border border-white/10 bg-ink-950/60 p-4 md:grid-cols-2",children:[j.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:w.title,onChange:St=>R(st,"title",St.target.value),placeholder:"Track title"}),j.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:w.youtube_url,onChange:St=>R(st,"youtube_url",St.target.value),placeholder:"YouTube URL"}),j.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:w.page_start,onChange:St=>R(st,"page_start",St.target.value),placeholder:"Page start (optional)"}),j.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:w.page_end,onChange:St=>R(st,"page_end",St.target.value),placeholder:"Page end (optional)"}),j.jsx("div",{className:"flex items-center justify-end md:col-span-2",children:j.jsx(nn,{onClick:()=>b(st),className:"px-3 py-1.5 text-xs",children:"Remove track"})})]},st)),j.jsx(nn,{onClick:N,className:"self-start",children:"+ Add another track"})]}),j.jsx("div",{className:"flex items-center justify-end gap-3",children:j.jsx(nn,{onClick:V,disabled:Z,className:"px-4 py-2",children:Z?"Saving...":vt?"Save changes":"Publish playlist"})})]}):null,n?j.jsx(jn,{className:"p-6 text-sm text-white/60",children:"Loading community soundtracks..."}):d.length>0?d.map(w=>j.jsx(sD,{soundtrack:w,onPlay:st=>Nt(st,w.tracks),onVote:O,onEdit:P,currentUserId:gt?.id},w.id)):j.jsx(jn,{className:"p-6 text-sm text-white/60",children:"No soundtracks yet. Be the first to add one."})]})]})]})}function lD(){const{user:r,signIn:t,signUp:n,signOutUser:s}=wS(),[l,u]=_t.useState(!1),[d,p]=_t.useState(""),[y,_]=_t.useState(""),[T,A]=_t.useState(""),[C,B]=_t.useState(null),[Z,tt]=_t.useState(!1),W=async()=>{B(null),tt(!0);try{if(l){if(!T.trim())throw new Error("Please enter a display name.");await n(d.trim(),y,T.trim())}else await t(d.trim(),y)}catch(lt){B(lt instanceof Error?lt.message:"Authentication failed.")}finally{tt(!1)}};return r?j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsxs("div",{className:"text-right",children:[j.jsx("p",{className:"text-sm font-semibold",children:r.name??"User"}),j.jsx("p",{className:"text-xs text-white/50",children:r.email})]}),j.jsx(nn,{onClick:s,children:"Sign out"})]}):Wl?j.jsxs(jn,{className:"flex w-full flex-col gap-3 p-4 md:w-96",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("p",{className:"text-sm font-semibold",children:l?"Create an account":"Sign in"}),j.jsx("button",{className:"text-xs text-white/60 hover:text-white",onClick:()=>u(lt=>!lt),children:l?"Have an account?":"New here?"})]}),l?j.jsx(Xc,{value:T,onChange:lt=>A(lt.target.value),placeholder:"Display name"}):null,j.jsx(Xc,{type:"email",value:d,onChange:lt=>p(lt.target.value),placeholder:"Email"}),j.jsx(Xc,{type:"password",value:y,onChange:lt=>_(lt.target.value),placeholder:"Password"}),C?j.jsx("p",{className:"text-xs text-red-200",children:C}):null,j.jsx(nn,{onClick:W,disabled:Z,children:Z?"Please wait...":l?"Create account":"Sign in"})]}):j.jsx(jn,{className:"flex w-full flex-col gap-2 p-4 text-xs text-white/60 md:w-96",children:"Firebase is not configured. Add your Firebase keys in `.env.local`."})}function uD(){const[r,t]=_t.useState(""),[n,s]=_t.useState([]),[l,u]=_t.useState(!1),[d,p]=_t.useState(null),[y,_]=_t.useState(null),[T,A]=_t.useState([]),[C,B]=_t.useState([]),[Z,tt]=_t.useState(!1),W=_t.useRef(null);_t.useEffect(()=>{const ft=window.localStorage.getItem("comictracks:recent-searches");if(ft)try{const It=JSON.parse(ft);A(It)}catch{A([])}},[]);const lt=_t.useMemo(()=>{if(!r.trim())return T.slice(0,6);const ft=r.toLowerCase();return T.filter(It=>It.toLowerCase().includes(ft)).slice(0,6)},[r,T]);_t.useEffect(()=>{if(!r.trim()){B(lt);return}if(r.trim().length<2){B(lt);return}W.current&&window.clearTimeout(W.current),W.current=window.setTimeout(async()=>{try{tt(!0);const It=(await Aw(r.trim())).map(gt=>`${gt.volume?.name??"Untitled"} #${gt.issue_number}`);B(It)}catch{B(lt)}finally{tt(!1)}},350)},[r,lt]);const vt=async ft=>{const It=(ft??r).trim();if(!It){p("Please enter a search query.");return}try{u(!0),p(null);const gt=await Sw(It);s(gt);const Nt=[It,...T.filter(N=>N!==It)].slice(0,8);A(Nt),window.localStorage.setItem("comictracks:recent-searches",JSON.stringify(Nt))}catch(gt){p(gt instanceof Error?gt.message:"Unable to search Comic Vine.")}finally{u(!1)}};return j.jsxs("div",{className:"min-h-screen bg-ink-950 text-white",children:[j.jsxs("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col gap-10 px-6 py-10 pb-28",children:[j.jsxs("header",{className:"flex flex-col gap-6",children:[j.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-ink-800 text-lg font-semibold",children:"C"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-lg font-semibold",children:"Comictracks"}),j.jsx("p",{className:"text-sm text-white/60",children:"Community soundtracks for comic issues"})]})]}),j.jsx(lD,{})]}),j.jsx("div",{className:"w-full md:max-w-xl",children:j.jsx(dw,{value:r,onChange:t,onSubmit:()=>vt(),isLoading:l,suggestions:C,isSuggesting:Z,onSelectSuggestion:ft=>{t(ft),p(null),vt(ft)}})})]}),y?j.jsx(oD,{issue:y,onBack:()=>_(null)}):j.jsxs("section",{className:"flex flex-col gap-6",children:[d?j.jsx(jn,{className:"border-red-500/30 bg-red-500/10 p-4 text-sm text-red-200",children:d}):null,n.length>0?j.jsx(fw,{issues:n,onSelect:_}):j.jsx(jn,{className:"p-6 text-sm text-white/60",children:"Search for a comic issue to see community soundtracks."})]})]}),j.jsx(Nw,{})]})}const bS=document.querySelector("#root");if(!bS)throw new Error("Root element not found");hw.createRoot(bS).render(j.jsx(_t.StrictMode,{children:j.jsx(aD,{children:j.jsx(Cw,{children:j.jsx(uD,{})})})}));
