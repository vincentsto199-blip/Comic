(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Xd={exports:{}},wl={};var tv;function WA(){if(tv)return wl;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var ev;function tw(){return ev||(ev=1,Xd.exports=WA()),Xd.exports}var X=tw(),Jd={exports:{}},At={};var nv;function ew(){if(nv)return At;nv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,et={};function at(O,G,nt){this.props=O,this.context=G,this.refs=et,this.updater=nt||$}at.prototype.isReactComponent={},at.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=at.prototype;function ht(O,G,nt){this.props=O,this.context=G,this.refs=et,this.updater=nt||$}var mt=ht.prototype=new _t;mt.constructor=ht,tt(mt,at.prototype),mt.isPureReactComponent=!0;var qt=Array.isArray;function Dt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,G,nt){var it=nt.ref;return{$$typeof:s,type:O,key:G,ref:it!==void 0?it:null,props:nt}}function x(O,G){return C(O.type,G,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function N(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return G[nt]})}var A=/\/+/g;function gt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):G.toString(36)}function Ht(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,G,nt,it,ct){var Tt=typeof O;(Tt==="undefined"||Tt==="boolean")&&(O=null);var Ct=!1;if(O===null)Ct=!0;else switch(Tt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(O.$$typeof){case s:case t:Ct=!0;break;case T:return Ct=O._init,B(Ct(O._payload),G,nt,it,ct)}}if(Ct)return ct=ct(O),Ct=it===""?"."+gt(O,0):it,qt(ct)?(nt="",Ct!=null&&(nt=Ct.replace(A,"$&/")+"/"),B(ct,G,nt,"",function(hr){return hr})):ct!=null&&(M(ct)&&(ct=x(ct,nt+(ct.key==null||O&&O.key===ct.key?"":(""+ct.key).replace(A,"$&/")+"/")+Ct)),G.push(ct)),1;Ct=0;var Oe=it===""?".":it+":";if(qt(O))for(var ae=0;ae<O.length;ae++)it=O[ae],Tt=Oe+gt(it,ae),Ct+=B(it,G,nt,Tt,ct);else if(ae=H(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(it=O.next()).done;)it=it.value,Tt=Oe+gt(it,ae++),Ct+=B(it,G,nt,Tt,ct);else if(Tt==="object"){if(typeof O.then=="function")return B(Ht(O),G,nt,it,ct);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function Z(O,G,nt){if(O==null)return O;var it=[],ct=0;return B(O,it,"","",function(Tt){return G.call(nt,Tt,ct++)}),it}function ot(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var It=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Mt={map:Z,forEach:function(O,G,nt){Z(O,function(){G.apply(this,arguments)},nt)},count:function(O){var G=0;return Z(O,function(){G++}),G},toArray:function(O){return Z(O,function(G){return G})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=w,At.Children=Mt,At.Component=at,At.Fragment=n,At.Profiler=l,At.PureComponent=ht,At.StrictMode=r,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,G,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=tt({},O.props),ct=O.key;if(G!=null)for(Tt in G.key!==void 0&&(ct=""+G.key),G)!b.call(G,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&G.ref===void 0||(it[Tt]=G[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=nt;else if(1<Tt){for(var Ct=Array(Tt),Oe=0;Oe<Tt;Oe++)Ct[Oe]=arguments[Oe+2];it.children=Ct}return C(O.type,ct,it)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,G,nt){var it,ct={},Tt=null;if(G!=null)for(it in G.key!==void 0&&(Tt=""+G.key),G)b.call(G,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ct[it]=G[it]);var Ct=arguments.length-2;if(Ct===1)ct.children=nt;else if(1<Ct){for(var Oe=Array(Ct),ae=0;ae<Ct;ae++)Oe[ae]=arguments[ae+2];ct.children=Oe}if(O&&O.defaultProps)for(it in Ct=O.defaultProps,Ct)ct[it]===void 0&&(ct[it]=Ct[it]);return C(O,Tt,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=M,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ot}},At.memo=function(O,G){return{$$typeof:_,type:O,compare:G===void 0?null:G}},At.startTransition=function(O){var G=I.T,nt={};I.T=nt;try{var it=O(),ct=I.S;ct!==null&&ct(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Dt,It)}catch(Tt){It(Tt)}finally{G!==null&&nt.types!==null&&(G.types=nt.types),I.T=G}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(O){return I.H.use(O)},At.useActionState=function(O,G,nt){return I.H.useActionState(O,G,nt)},At.useCallback=function(O,G){return I.H.useCallback(O,G)},At.useContext=function(O){return I.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,G){return I.H.useDeferredValue(O,G)},At.useEffect=function(O,G){return I.H.useEffect(O,G)},At.useEffectEvent=function(O){return I.H.useEffectEvent(O)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(O,G,nt){return I.H.useImperativeHandle(O,G,nt)},At.useInsertionEffect=function(O,G){return I.H.useInsertionEffect(O,G)},At.useLayoutEffect=function(O,G){return I.H.useLayoutEffect(O,G)},At.useMemo=function(O,G){return I.H.useMemo(O,G)},At.useOptimistic=function(O,G){return I.H.useOptimistic(O,G)},At.useReducer=function(O,G,nt){return I.H.useReducer(O,G,nt)},At.useRef=function(O){return I.H.useRef(O)},At.useState=function(O){return I.H.useState(O)},At.useSyncExternalStore=function(O,G,nt){return I.H.useSyncExternalStore(O,G,nt)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.4",At}var iv;function zm(){return iv||(iv=1,Jd.exports=ew()),Jd.exports}var Vt=zm(),$d={exports:{}},bl={},Zd={exports:{}},Wd={};var sv;function nw(){return sv||(sv=1,(function(s){function t(B,Z){var ot=B.length;B.push(Z);t:for(;0<ot;){var It=ot-1>>>1,Mt=B[It];if(0<l(Mt,Z))B[It]=Z,B[ot]=Mt,ot=It;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],ot=B.pop();if(ot!==Z){B[0]=ot;t:for(var It=0,Mt=B.length,O=Mt>>>1;It<O;){var G=2*(It+1)-1,nt=B[G],it=G+1,ct=B[it];if(0>l(nt,ot))it<Mt&&0>l(ct,nt)?(B[It]=ct,B[it]=ot,It=it):(B[It]=nt,B[G]=ot,It=G);else if(it<Mt&&0>l(ct,ot))B[It]=ct,B[it]=ot,It=it;else break t}}return Z}function l(B,Z){var ot=B.sortIndex-Z.sortIndex;return ot!==0?ot:B.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,w=null,D=3,H=!1,$=!1,tt=!1,et=!1,at=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function mt(B){for(var Z=n(_);Z!==null;){if(Z.callback===null)r(_);else if(Z.startTime<=B)r(_),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=n(_)}}function qt(B){if(tt=!1,mt(B),!$)if(n(y)!==null)$=!0,Dt||(Dt=!0,N());else{var Z=n(_);Z!==null&&Ht(qt,Z.startTime-B)}}var Dt=!1,I=-1,b=5,C=-1;function x(){return et?!0:!(s.unstable_now()-C<b)}function M(){if(et=!1,Dt){var B=s.unstable_now();C=B;var Z=!0;try{t:{$=!1,tt&&(tt=!1,_t(I),I=-1),H=!0;var ot=D;try{e:{for(mt(B),w=n(y);w!==null&&!(w.expirationTime>B&&x());){var It=w.callback;if(typeof It=="function"){w.callback=null,D=w.priorityLevel;var Mt=It(w.expirationTime<=B);if(B=s.unstable_now(),typeof Mt=="function"){w.callback=Mt,mt(B),Z=!0;break e}w===n(y)&&r(y),mt(B)}else r(y);w=n(y)}if(w!==null)Z=!0;else{var O=n(_);O!==null&&Ht(qt,O.startTime-B),Z=!1}}break t}finally{w=null,D=ot,H=!1}Z=void 0}}finally{Z?N():Dt=!1}}}var N;if(typeof ht=="function")N=function(){ht(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,gt=A.port2;A.port1.onmessage=M,N=function(){gt.postMessage(null)}}else N=function(){at(M,0)};function Ht(B,Z){I=at(function(){B(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(B){switch(D){case 1:case 2:case 3:var Z=3;break;default:Z=D}var ot=D;D=Z;try{return B()}finally{D=ot}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ot=D;D=B;try{return Z()}finally{D=ot}},s.unstable_scheduleCallback=function(B,Z,ot){var It=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?It+ot:It):ot=It,B){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ot+Mt,B={id:T++,callback:Z,priorityLevel:B,startTime:ot,expirationTime:Mt,sortIndex:-1},ot>It?(B.sortIndex=ot,t(_,B),n(y)===null&&B===n(_)&&(tt?(_t(I),I=-1):tt=!0,Ht(qt,ot-It))):(B.sortIndex=Mt,t(y,B),$||H||($=!0,Dt||(Dt=!0,N()))),B},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(B){var Z=D;return function(){var ot=D;D=Z;try{return B.apply(this,arguments)}finally{D=ot}}}})(Wd)),Wd}var rv;function iw(){return rv||(rv=1,Zd.exports=nw()),Zd.exports}var tm={exports:{}},Xe={};var av;function sw(){if(av)return Xe;av=1;var s=zm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,T)},Xe.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=p(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:H}):T==="script"&&r.d.X(y,{crossOrigin:w,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=p(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Xe.requestFormReset=function(y){r.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var ov;function rw(){if(ov)return tm.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),tm.exports=sw(),tm.exports}var lv;function aw(){if(lv)return bl;lv=1;var s=iw(),t=zm(),n=rw();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var A=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case at:return"Profiler";case et:return"StrictMode";case qt:return"Suspense";case Dt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:gt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return gt(e(i))}catch{}}return null}var Ht=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},It=[],Mt=-1;function O(e){return{current:e}}function G(e){0>Mt||(e.current=It[Mt],It[Mt]=null,Mt--)}function nt(e,i){Mt++,It[Mt]=e.current,e.current=i}var it=O(null),ct=O(null),Tt=O(null),Ct=O(null);function Oe(e,i){switch(nt(Tt,i),nt(ct,e),nt(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=A_(i),e=w_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(it),nt(it,e)}function ae(){G(it),G(ct),G(Tt)}function hr(e){e.memoizedState!==null&&nt(Ct,e);var i=it.current,a=w_(i,e.type);i!==a&&(nt(ct,e),nt(it,a))}function ea(e){ct.current===e&&(G(it),G(ct)),Ct.current===e&&(G(Ct),El._currentValue=ot)}var na,ia;function si(e){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var Eo=!1;function fr(e,i){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return si("Activity");default:return""}}function So(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Jh=s.unstable_shouldYield,fu=s.unstable_requestPaint,We=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,Ao=s.unstable_ImmediatePriority,wo=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,$h=s.unstable_LowPriority,du=s.unstable_IdlePriority,mu=s.log,pu=s.unstable_setDisableYieldValue,qn=null,je=null;function bn(e){if(typeof mu=="function"&&pu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var de=Math.clz32?Math.clz32:yu,gu=Math.log,sa=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(gu(e)/sa|0)|0}var ri=256,mr=262144,Ee=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(g&=E,g!==0?h=ai(g):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):g!==0?h=ai(g):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wh(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var F=31-de(a),Y=1<<F;E[F]=0,R[F]=-1;var z=k[F];if(z!==null)for(k[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function gr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-de(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-de(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:yr(a),(a&(e.suspendedLanes|i))!==0?0:a}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function Fn(e,i){var a=Z.p;try{return Z.p=e,i()}finally{Z.p=a}}var Gn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gn,Ue="__reactProps$"+Gn,ui="__reactContainer$"+Gn,ra="__reactEvents$"+Gn,tf="__reactListeners$"+Gn,Eu="__reactHandles$"+Gn,Tu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function aa(e){delete e[Te],delete e[Ue],delete e[ra],delete e[tf],delete e[Eu]}function hi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=O_(e);e!==null;){if(a=e[Te])return a;e=O_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Te]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[Tu];return i||(i=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[ci]=!0}var Io=new Set,Co={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Oo={};function Su(e){return ve.call(Oo,e)?!0:ve.call(No,e)?!1:Do.test(e)?Oo[e]=!0:(No[e]=!0,!1)}function oa(e,i,a){if(Su(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=cs(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function _r(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function rn(e){return e.replace(vr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?Mo(e,g,Pe(i)):a!=null?Mo(e,g,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function Au(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Mo(e,i,a){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hs(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function wu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function fs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ht(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function an(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&xo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&xo(e,f,i[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Po=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,gi=null;function Er(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(la(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(r(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&_r(o)}break t;case"textarea":wu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hs(e,!!a.multiple,i,!1)}}}var ha=!1;function ps(e,i,a){if(ha)return e(i,a);ha=!0;try{var o=e(i);return o}finally{if(ha=!1,(ms!==null||gi!==null)&&(vc(),ms&&(i=ms,e=gi,gi=ms=null,Er(i),e)))for(i=0;i<e.length;i++)Er(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Tr=!1}var yi=null,Lo=null,Sr=null;function ko(){if(Sr)return Sr;var e,i=Lo,a=i.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Yn(){return!1}function Be(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Yn,this.isPropagationStopped=Yn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(Pi),gs=w({},Pi,{view:0,detail:0}),zo=Be(gs),ys,fa,vi,da=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ys=e.screenX-vi.screenX,fa=e.screenY-vi.screenY):fa=ys=0,vi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),jo=Be(da),wr=w({},da,{dataTransfer:0}),Iu=Be(wr),Cu=w({},gs,{relatedTarget:0}),br=Be(Cu),Bo=w({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Be(Bo),ma=w({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Be(ma),Ou=w({},Pi,{data:0}),Ei=Be(Ou),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=xu[e])?!!i[e]:!1}function _s(){return Uu}var tn=w({},gs,{key:function(e){if(e.key){var i=Vu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pu=Be(tn),Lu=w({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(Lu),u=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Be(u),v=w({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),P=w({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(P),W=w({},Pi,{newState:0,oldState:0}),wt=Be(W),me=[9,13,27,32],Qt=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!oe,Ti=Cn&&(!Qt||oe&&8<oe&&11>=oe),Xn=" ",Jn=!1;function Rr(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function AS(e,i){switch(e){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return e=i.data,e===Xn&&Jn?null:e;default:return null}}function wS(e,i){if(ga)return e==="compositionend"||!Qt&&Rr(e,i)?(e=ko(),Sr=Lo=yi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bS[e.type]:i==="textarea"}function Up(e,i,a,o){ms?gi?gi.push(o):gi=[o]:ms=o,i=Rc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function RS(e){y_(e,0)}function ku(e){var i=dn(e);if(_r(i))return e}function Pp(e,i){if(e==="change")return i}var Lp=!1;if(Cn){var ef;if(Cn){var nf="oninput"in document;if(!nf){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),nf=typeof kp.oninput=="function"}ef=nf}else ef=!1;Lp=ef&&(!document.documentMode||9<document.documentMode)}function zp(){qo&&(qo.detachEvent("onpropertychange",jp),Ho=qo=null)}function jp(e){if(e.propertyName==="value"&&ku(Ho)){var i=[];Up(i,Ho,e,In(e)),ps(RS,i)}}function IS(e,i,a){e==="focusin"?(zp(),qo=i,Ho=a,qo.attachEvent("onpropertychange",jp)):e==="focusout"&&zp()}function CS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(Ho)}function DS(e,i){if(e==="click")return ku(i)}function NS(e,i){if(e==="input"||e==="change")return ku(i)}function OS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:OS;function Fo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,i){var a=Bp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Hp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pi(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VS=Cn&&"documentMode"in document&&11>=document.documentMode,ya=null,rf=null,Go=null,af=!1;function Gp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ya==null||ya!==pi(o)||(o=ya,"selectionStart"in o&&sf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=Rc(rf,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ya)))}function Ir(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var _a={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},of={},Qp={};Cn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Cr(e){if(of[e])return of[e];if(!_a[e])return e;var i=_a[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return of[e]=i[a];return e}var Kp=Cr("animationend"),Yp=Cr("animationiteration"),Xp=Cr("animationstart"),MS=Cr("transitionrun"),xS=Cr("transitionstart"),US=Cr("transitioncancel"),Jp=Cr("transitionend"),$p=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function $n(e,i){$p.set(e,i),di(i,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],va=0,uf=0;function ju(){for(var e=va,i=uf=va=0;i<e;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var f=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function Bu(e,i,a,o){Nn[va++]=e,Nn[va++]=i,Nn[va++]=a,Nn[va++]=o,uf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function cf(e,i,a,o){return Bu(e,i,a,o),qu(e)}function Dr(e,i){return Bu(e,null,null,i),qu(e)}function Zp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-de(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function qu(e){if(50<dl)throw dl=0,vd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ea={};function PS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new PS(e,i,a,o)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Hu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")hf(e)&&(g=1);else if(typeof e=="string")g=BA(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,i,h),e.elementType=C,e.lanes=f,e;case tt:return Nr(a.children,h,f,i);case et:g=8,h|=24;break;case at:return e=gn(12,a,i,h|2),e.elementType=at,e.lanes=f,e;case qt:return e=gn(13,a,i,h),e.elementType=qt,e.lanes=f,e;case Dt:return e=gn(19,a,i,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case _t:g=9;break t;case mt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=gn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Nr(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function ff(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function tg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function df(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var eg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:So(i)},eg.set(e,i),i)}return{value:e,source:i,stack:So(i)}}var Ta=[],Sa=0,Fu=null,Qo=0,Vn=[],Mn=0,vs=null,Si=1,Ai="";function zi(e,i){Ta[Sa++]=Qo,Ta[Sa++]=Fu,Fu=e,Qo=i}function ng(e,i,a){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=vs,vs=e;var o=Si;e=Ai;var h=32-de(o)-1;o&=~(1<<h),a+=1;var f=32-de(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Si=1<<32-de(i)+h|a<<h|o,Ai=f+e}else Si=1<<f|a<<h|o,Ai=e}function mf(e){e.return!==null&&(zi(e,1),ng(e,1,0))}function pf(e){for(;e===Fu;)Fu=Ta[--Sa],Ta[Sa]=null,Qo=Ta[--Sa],Ta[Sa]=null;for(;e===vs;)vs=Vn[--Mn],Vn[Mn]=null,Ai=Vn[--Mn],Vn[Mn]=null,Si=Vn[--Mn],Vn[Mn]=null}function ig(e,i){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=vs,Si=i.id,Ai=i.overflow,vs=e}var qe=null,ie=null,zt=!1,Es=null,xn=!1,gf=Error(r(519));function Ts(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(On(i,e)),gf}function sg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[Ue]=o,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Ot(pl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Au(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),fs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||T_(i.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Ts(e,!0)}function rg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!zt)return rg(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xd(e.type,e.memoizedProps)),a=!a),a&&ie&&Ts(e),rg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=N_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=N_(e)}else i===27?(i=ie,Us(e.type)?(e=zd,zd=null,ie=e):ie=i):ie=qe?Pn(e.stateNode.nextSibling):null;return!0}function Or(){ie=qe=null,zt=!1}function yf(){var e=Es;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Es=null),e}function Ko(e){Es===null?Es=[e]:Es.push(e)}var _f=O(null),Vr=null,ji=null;function Ss(e,i,a){nt(_f,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=_f.current,G(_f)}function vf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Ef(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),vf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),vf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&Ef(i,e,a,o),i.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Vr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return ag(Vr,e)}function Qu(e,i){return Vr===null&&Mr(e),ag(e,i)}function ag(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(r(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var LS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},kS=s.unstable_scheduleCallback,zS=s.unstable_NormalPriority,we={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new LS,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&kS(zS,function(){e.controller.abort()})}var Xo=null,Sf=0,ba=0,Ra=null;function jS(e,i){if(Xo===null){var a=Xo=[];Sf=0,ba=bd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Sf++,i.then(og,og),i}function og(){if(--Sf===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Xo;Xo=null,ba=0,Ra=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function BS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=B.S;B.S=function(e,i){Gy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(e,i),lg!==null&&lg(e,i)};var xr=O(null);function Af(){var e=xr.current;return e!==null?e:ne.pooledCache}function Ku(e,i){i===null?nt(xr,xr.current):nt(xr,i.pool)}function ug(){var e=Af();return e===null?null:{parent:we._currentValue,pool:e}}var Ia=Error(r(460)),wf=Error(r(474)),Yu=Error(r(542)),Xu={then:function(){}};function cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e}throw Pr=i,Ia}}function Ur(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,Ia):a}}var Pr=null;function fg(){if(Pr===null)throw Error(r(459));var e=Pr;return Pr=null,e}function dg(e){if(e===Ia||e===Yu)throw Error(r(483))}var Ca=null,Jo=0;function Ju(e){var i=Jo;return Jo+=1,Ca===null&&(Ca=[]),hg(Ca,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function mg(e){function i(U,V){if(e){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=ki(U,V),U.index=0,U.sibling=null,U}function f(U,V,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=67108866,V):L):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,L,K){return V===null||V.tag!==6?(V=ff(L,U.mode,K),V.return=U,V):(V=h(V,L),V.return=U,V)}function R(U,V,L,K){var dt=L.type;return dt===tt?F(U,V,L.props.children,K,L.key):V!==null&&(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Ur(dt)===V.type)?(V=h(V,L.props),$o(V,L),V.return=U,V):(V=Hu(L.type,L.key,L.props,null,U.mode,K),$o(V,L),V.return=U,V)}function k(U,V,L,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=df(L,U.mode,K),V.return=U,V):(V=h(V,L.children||[]),V.return=U,V)}function F(U,V,L,K,dt){return V===null||V.tag!==7?(V=Nr(L,U.mode,K,dt),V.return=U,V):(V=h(V,L),V.return=U,V)}function Y(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ff(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return L=Hu(V.type,V.key,V.props,null,U.mode,L),$o(L,V),L.return=U,L;case $:return V=df(V,U.mode,L),V.return=U,V;case b:return V=Ur(V),Y(U,V,L)}if(Ht(V)||N(V))return V=Nr(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Ju(V),L);if(V.$$typeof===ht)return Y(U,Qu(U,V),L);$u(U,V)}return null}function z(U,V,L,K){var dt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:E(U,V,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===dt?R(U,V,L,K):null;case $:return L.key===dt?k(U,V,L,K):null;case b:return L=Ur(L),z(U,V,L,K)}if(Ht(L)||N(L))return dt!==null?null:F(U,V,L,K,null);if(typeof L.then=="function")return z(U,V,Ju(L),K);if(L.$$typeof===ht)return z(U,V,Qu(U,L),K);$u(U,L)}return null}function q(U,V,L,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(L)||null,E(V,U,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return U=U.get(K.key===null?L:K.key)||null,R(V,U,K,dt);case $:return U=U.get(K.key===null?L:K.key)||null,k(V,U,K,dt);case b:return K=Ur(K),q(U,V,L,K,dt)}if(Ht(K)||N(K))return U=U.get(L)||null,F(V,U,K,dt,null);if(typeof K.then=="function")return q(U,V,L,Ju(K),dt);if(K.$$typeof===ht)return q(U,V,L,Qu(V,K),dt);$u(V,K)}return null}function lt(U,V,L,K){for(var dt=null,Ft=null,ut=V,Rt=V=0,Ut=null;ut!==null&&Rt<L.length;Rt++){ut.index>Rt?(Ut=ut,ut=null):Ut=ut.sibling;var Gt=z(U,ut,L[Rt],K);if(Gt===null){ut===null&&(ut=Ut);break}e&&ut&&Gt.alternate===null&&i(U,ut),V=f(Gt,V,Rt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt,ut=Ut}if(Rt===L.length)return a(U,ut),zt&&zi(U,Rt),dt;if(ut===null){for(;Rt<L.length;Rt++)ut=Y(U,L[Rt],K),ut!==null&&(V=f(ut,V,Rt),Ft===null?dt=ut:Ft.sibling=ut,Ft=ut);return zt&&zi(U,Rt),dt}for(ut=o(ut);Rt<L.length;Rt++)Ut=q(ut,U,Rt,L[Rt],K),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Rt:Ut.key),V=f(Ut,V,Rt),Ft===null?dt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&ut.forEach(function(js){return i(U,js)}),zt&&zi(U,Rt),dt}function yt(U,V,L,K){if(L==null)throw Error(r(151));for(var dt=null,Ft=null,ut=V,Rt=V=0,Ut=null,Gt=L.next();ut!==null&&!Gt.done;Rt++,Gt=L.next()){ut.index>Rt?(Ut=ut,ut=null):Ut=ut.sibling;var js=z(U,ut,Gt.value,K);if(js===null){ut===null&&(ut=Ut);break}e&&ut&&js.alternate===null&&i(U,ut),V=f(js,V,Rt),Ft===null?dt=js:Ft.sibling=js,Ft=js,ut=Ut}if(Gt.done)return a(U,ut),zt&&zi(U,Rt),dt;if(ut===null){for(;!Gt.done;Rt++,Gt=L.next())Gt=Y(U,Gt.value,K),Gt!==null&&(V=f(Gt,V,Rt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return zt&&zi(U,Rt),dt}for(ut=o(ut);!Gt.done;Rt++,Gt=L.next())Gt=q(ut,U,Rt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ut.delete(Gt.key===null?Rt:Gt.key),V=f(Gt,V,Rt),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ut.forEach(function(ZA){return i(U,ZA)}),zt&&zi(U,Rt),dt}function te(U,V,L,K){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var dt=L.key;V!==null;){if(V.key===dt){if(dt=L.type,dt===tt){if(V.tag===7){a(U,V.sibling),K=h(V,L.props.children),K.return=U,U=K;break t}}else if(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Ur(dt)===V.type){a(U,V.sibling),K=h(V,L.props),$o(K,L),K.return=U,U=K;break t}a(U,V);break}else i(U,V);V=V.sibling}L.type===tt?(K=Nr(L.props.children,U.mode,K,L.key),K.return=U,U=K):(K=Hu(L.type,L.key,L.props,null,U.mode,K),$o(K,L),K.return=U,U=K)}return g(U);case $:t:{for(dt=L.key;V!==null;){if(V.key===dt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(U,V.sibling),K=h(V,L.children||[]),K.return=U,U=K;break t}else{a(U,V);break}else i(U,V);V=V.sibling}K=df(L,U.mode,K),K.return=U,U=K}return g(U);case b:return L=Ur(L),te(U,V,L,K)}if(Ht(L))return lt(U,V,L,K);if(N(L)){if(dt=N(L),typeof dt!="function")throw Error(r(150));return L=dt.call(L),yt(U,V,L,K)}if(typeof L.then=="function")return te(U,V,Ju(L),K);if(L.$$typeof===ht)return te(U,V,Qu(U,L),K);$u(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(U,V.sibling),K=h(V,L),K.return=U,U=K):(a(U,V),K=ff(L,U.mode,K),K.return=U,U=K),g(U)):a(U,V)}return function(U,V,L,K){try{Jo=0;var dt=te(U,V,L,K);return Ca=null,dt}catch(ut){if(ut===Ia||ut===Yu)throw ut;var Ft=gn(29,ut,null,U.mode);return Ft.lanes=K,Ft.return=U,Ft}}}var Lr=mg(!0),pg=mg(!1),As=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=qu(e),Zp(e,null,a),i}return Bu(e,o,i,a),qu(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function If(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Cf=!1;function Wo(){if(Cf){var e=Ra;if(e!==null)throw e}}function tl(e,i,a,o){Cf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=k:E.next=k,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(xt&z)===z:(o&z)===z){z!==0&&z===ba&&(Cf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;z=i;var te=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(te,Y,z);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,z=typeof lt=="function"?lt.call(te,Y,z):lt,z==null)break t;Y=w({},Y,z);break t;case 2:As=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(k=F=q,R=Y):F=F.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ns|=g,e.lanes=g,e.memoizedState=Y}}function gg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function yg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gg(a[e],i)}var Da=O(null),Zu=O(0);function _g(e,i){e=Ji,nt(Zu,e),nt(Da,i),Ji=e|i.baseLanes}function Df(){nt(Zu,Ji),nt(Da,Da.current)}function Nf(){Ji=Zu.current,G(Da),G(Zu)}var yn=O(null),Un=null;function Rs(e){var i=e.alternate;nt(pe,pe.current&1),nt(yn,e),Un===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Un=e)}function Of(e){nt(pe,pe.current),nt(yn,e),Un===null&&(Un=e)}function vg(e){e.tag===22?(nt(pe,pe.current),nt(yn,e),Un===null&&(Un=e)):Is()}function Is(){nt(pe,pe.current),nt(yn,yn.current)}function _n(e){G(yn),Un===e&&(Un=null),G(pe)}var pe=O(0);function Wu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,bt=null,Zt=null,be=null,tc=!1,Na=!1,kr=!1,ec=0,el=0,Oa=null,qS=0;function ce(){throw Error(r(321))}function Vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,o,h,f){return qi=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?ny:Yf,kr=!1,f=a(o,h),kr=!1,Na&&(f=Tg(i,a,o,h)),Eg(e),f}function Eg(e){B.H=sl;var i=Zt!==null&&Zt.next!==null;if(qi=0,be=Zt=bt=null,tc=!1,el=0,Oa=null,i)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&Gu(e)&&(Re=!0))}function Tg(e,i,a,o){bt=e;var h=0;do{if(Na&&(Oa=null),el=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,be=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=iy,f=i(a,o)}while(Na);return f}function HS(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),i}function xf(){var e=ec!==0;return ec=0,e}function Uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Pf(e){if(tc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}tc=!1}qi=0,be=Zt=bt=null,Na=!1,el=ec=0,Oa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function ge(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=be===null?bt.memoizedState:be.next;if(i!==null)be=i,Zt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Oa===null&&(Oa=[]),e=hg(Oa,e,i),i=bt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?ny:Yf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===ht)return He(e)}throw Error(r(438,String(e)))}function Lf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=ge();return kf(i,Zt,e)}function kf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,R=null,k=i,F=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(xt&Y)===Y:(qi&Y)===Y){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===ba&&(F=!0);else if((qi&z)===z){k=k.next,z===ba&&(F=!0);continue}else Y={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,bt.lanes|=z,Ns|=z;Y=k.action,kr&&a(f,Y),f=k.hasEagerState?k.eagerState:a(f,Y)}else z={lane:Y,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,bt.lanes|=Y,Ns|=Y;k=k.next}while(k!==null&&k!==i);if(R===null?g=f:R.next=E,!pn(f,e.memoizedState)&&(Re=!0,F&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function zf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,i.memoizedState)||(Re=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Sg(e,i,a){var o=bt,h=ge(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!pn((Zt||h).memoizedState,a);if(g&&(h.memoizedState=a,Re=!0),h=h.queue,qf(bg.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},wg.bind(null,o,h,a,i),null),ne===null)throw Error(r(349));f||(qi&127)!==0||Ag(o,i,a)}return a}function Ag(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=nc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function wg(e,i,a,o){i.value=a,i.getSnapshot=o,Rg(i)&&Ig(e)}function bg(e,i,a){return a(function(){Rg(i)&&Ig(e)})}function Rg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Ig(e){var i=Dr(e,2);i!==null&&hn(i,e,2)}function jf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),kr){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Cg(e,i,a,o){return e.baseState=a,kf(e,Zt,typeof o=="function"?o:Hi)}function FS(e,i,a,o,h){if(oc(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Dg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Dg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=B.T,g={};B.T=g;try{var E=a(h,o),R=B.S;R!==null&&R(g,E),Ng(e,i,E)}catch(k){Bf(e,i,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=a(h,o),Ng(e,i,f)}catch(k){Bf(e,i,k)}}function Ng(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Og(e,i,o)},function(o){return Bf(e,i,o)}):Og(e,i,a)}function Og(e,i,a){i.status="fulfilled",i.value=a,Vg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dg(e,a)))}function Bf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Vg(i),i=i.next;while(i!==o)}e.action=null}function Vg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Mg(e,i){return i}function xg(e,i){if(zt){var a=ne.formState;if(a!==null){t:{var o=bt;if(zt){if(ie){e:{for(var h=ie,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Pn(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=o,a=Wg.bind(null,bt,o),o.dispatch=a,o=jf(!1),f=Kf.bind(null,bt,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=FS.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Ug(e){var i=ge();return Pg(i,Zt,e)}function Pg(e,i,a){if(i=kf(e,i,Mg)[0],e=sc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(g){throw g===Ia?Yu:g}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Va(9,{destroy:void 0},GS.bind(null,h,a),null)),[o,f,e]}function GS(e,i){e.action=i}function Lg(e){var i=ge(),a=Zt;if(a!==null)return Pg(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=nc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function kg(){return ge().memoizedState}function rc(e,i,a,o){var h=en();bt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,o===void 0?null:o)}function ac(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&Vf(o,Zt.memoizedState.deps)?h.memoizedState=Va(i,f,a,o):(bt.flags|=e,h.memoizedState=Va(1|i,f,a,o))}function zg(e,i){rc(8390656,8,e,i)}function qf(e,i){ac(2048,8,e,i)}function QS(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=nc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function jg(e){var i=ge().memoizedState;return QS({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Bg(e,i){return ac(4,2,e,i)}function qg(e,i){return ac(4,4,e,i)}function Hg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fg(e,i,a){a=a!=null?a.concat([e]):null,ac(4,4,Hg.bind(null,i,e),a)}function Hf(){}function Gg(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Vf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Qg(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Vf(i,o[1]))return o[0];if(o=e(),kr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function Ff(e,i,a){return a===void 0||(qi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Ky(),bt.lanes|=e,Ns|=e,a)}function Kg(e,i,a,o){return pn(a,i)?a:Da.current!==null?(e=Ff(e,a,o),pn(e,i)||(Re=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(xt&261930)===0?(Re=!0,e.memoizedState=a):(e=Ky(),bt.lanes|=e,Ns|=e,i)}function Yg(e,i,a,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,Kf(e,!1,i,a);try{var R=h(),k=B.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=BS(R,o);il(e,i,F,Tn(e))}else il(e,i,o,Tn(e))}catch(Y){il(e,i,{then:function(){},status:"rejected",reason:Y},Tn())}finally{Z.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function KS(){}function Gf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Xg(e).queue;Yg(e,h,i,ot,a===null?KS:function(){return Jg(e),a(o)})}function Xg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Jg(e){var i=Xg(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Tn())}function Qf(){return He(El)}function $g(){return ge().memoizedState}function Zg(){return ge().memoizedState}function YS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=ws(a);var o=bs(i,e,a);o!==null&&(hn(o,i,a),Zo(o,i,a)),i={cache:Tf()},e.payload=i;return}i=i.return}}function XS(e,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?ty(i,a):(a=cf(e,i,a,o),a!==null&&(hn(a,e,o),ey(a,i,o)))}function Wg(e,i,a){var o=Tn();il(e,i,a,o)}function il(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))ty(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return Bu(e,i,h,0),ne===null&&ju(),!1}catch{}if(a=cf(e,i,h,o),a!==null)return hn(a,e,o),ey(a,i,o),!0}return!1}function Kf(e,i,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(i)throw Error(r(479))}else i=cf(e,a,o,2),i!==null&&hn(i,e,2)}function oc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function ty(e,i){Na=tc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ey(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var sl={readContext:He,use:ic,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};sl.useEffectEvent=ce;var ny={readContext:He,use:ic,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Hg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return rc(4194308,4,e,i)},useInsertionEffect:function(e,i){rc(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(kr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(kr){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=XS.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=jf(e);var i=e.queue,a=Wg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=en();return Ff(a,e,i)},useTransition:function(){var e=jf(!1);return e=Yg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=en();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(xt&127)!==0||Ag(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(bg.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},wg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=ne.identifierPrefix;if(zt){var a=Ai,o=Si;a=(o&~(1<<32-de(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:xg,useActionState:xg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Lf,useCacheRefresh:function(){return en().memoizedState=YS.bind(null,bt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:He,use:ic,useCallback:Gg,useContext:He,useEffect:qf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:sc,useRef:kg,useState:function(){return sc(Hi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ge();return Kg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=sc(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Sg,useId:$g,useHostTransitionStatus:Qf,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,i){var a=ge();return Cg(a,Zt,e,i)},useMemoCache:Lf,useCacheRefresh:Zg};Yf.useEffectEvent=jg;var iy={readContext:He,use:ic,useCallback:Gg,useContext:He,useEffect:qf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:zf,useRef:kg,useState:function(){return zf(Hi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ge();return Zt===null?Ff(a,e,i):Kg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=zf(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Sg,useId:$g,useHostTransitionStatus:Qf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,i){var a=ge();return Zt!==null?Cg(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:Zg};iy.useEffectEvent=jg;function Xf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=ws(o);h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,o),i!==null&&(hn(i,e,o),Zo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=ws(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,o),i!==null&&(hn(i,e,o),Zo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=ws(a);o.tag=2,i!=null&&(o.callback=i),i=bs(e,o,a),i!==null&&(hn(i,e,a),Zo(i,e,a))}};function sy(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function ry(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Jf.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ay(e){zu(e)}function oy(e){console.error(e)}function ly(e){zu(e)}function lc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function uy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,i)},a}function cy(e){return e=ws(e),e.tag=3,e}function hy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){uy(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){uy(i,a,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function JS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ec():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Sd(e,o,h)),!1}throw Error(r(435,a.tag))}return Sd(e,o,h),Ec(),!1}if(zt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==gf&&(e=Error(r(422),{cause:o}),Ko(On(e,a)))):(o!==gf&&(i=Error(r(423),{cause:o}),Ko(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=$f(e.stateNode,o,h),If(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=On(f,a),fl===null?fl=[f]:fl.push(f),he!==4&&(he=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,o,e),If(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,e,a,o),If(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Re=!1;function Fe(e,i,a,o){i.child=e===null?pg(i,null,a,o):Lr(i,e.child,a,o)}function fy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Mr(i),o=Mf(e,i,a,g,f,h),E=xf(),e!==null&&!Re?(Uf(e,i,h),Fi(e,i,h)):(zt&&E&&mf(i),i.flags|=1,Fe(e,i,o,h),i.child)}function dy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!hf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,my(e,i,f,o,h)):(e=Hu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!ad(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(g,o)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=ki(f,o),e.ref=i.ref,e.return=i,i.child=e}function my(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===i.ref)if(Re=!1,i.pendingProps=o=f,ad(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return Wf(e,i,a,o,h)}function py(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return gy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(i,f!==null?f.cachePool:null),f!==null?_g(i,f):Df(),vg(i);else return o=i.lanes=536870912,gy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(i,f.cachePool),_g(i,f),Is(),i.memoizedState=null):(e!==null&&Ku(i,null),Df(),Is());return Fe(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gy(e,i,a,o,h){var f=Af();return f=f===null?null:{parent:we._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ku(i,null),Df(),vg(i),e!==null&&wa(e,i,o,!0),i.childLanes=h,null}function uc(e,i){return i=hc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function yy(e,i,a){return Lr(i,e.child,null,a),e=uc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function $S(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=uc(i,o),i.lanes=536870912,rl(null,e);if(Of(i),(e=ie)?(e=D_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Ts(i);return i.lanes=536870912,null}return uc(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=yy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Re||wa(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(o=ne,o!==null&&(g=Ro(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),hn(o,e,g),Zf;Ec(),i=yy(e,i,a)}else e=f.treeContext,ie=Pn(g.nextSibling),qe=i,zt=!0,Es=null,xn=!1,e!==null&&ig(i,e),i=uc(i,o),i.flags|=4096;return i}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function cc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Wf(e,i,a,o,h){return Mr(i),a=Mf(e,i,a,o,void 0,h),o=xf(),e!==null&&!Re?(Uf(e,i,h),Fi(e,i,h)):(zt&&o&&mf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function _y(e,i,a,o,h,f){return Mr(i),i.updateQueue=null,a=Tg(i,o,a,h),Eg(e),o=xf(),e!==null&&!Re?(Uf(e,i,f),Fi(e,i,f)):(zt&&o&&mf(i),i.flags|=1,Fe(e,i,a,f),i.child)}function vy(e,i,a,o,h){if(Mr(i),i.stateNode===null){var f=Ea,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},bf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):Ea,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Xf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Jf.enqueueReplaceState(f,f.state,null),tl(i,o,f,h),Wo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=zr(a,E);f.props=R;var k=f.context,F=a.contextType;g=Ea,typeof F=="object"&&F!==null&&(g=He(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&ry(i,f,o,g),As=!1;var z=i.memoizedState;f.state=z,tl(i,o,f,h),Wo(),k=i.memoizedState,E||z!==k||As?(typeof Y=="function"&&(Xf(i,a,Y,o),k=i.memoizedState),(R=As||sy(i,a,R,o,z,k,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Rf(e,i),g=i.memoizedProps,F=zr(a,g),f.props=F,Y=i.pendingProps,z=f.context,k=a.contextType,R=Ea,typeof k=="object"&&k!==null&&(R=He(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==R)&&ry(i,f,o,R),As=!1,z=i.memoizedState,f.state=z,tl(i,o,f,h),Wo();var q=i.memoizedState;g!==Y||z!==q||As||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(Xf(i,a,E,o),q=i.memoizedState),(F=As||sy(i,a,F,o,z,q,R)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,cc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Lr(i,e.child,null,h),i.child=Lr(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Fi(e,i,h),e}function Ey(e,i,a,o){return Or(),i.flags|=256,Fe(e,i,a,o),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:ug()}}function nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Ty(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Rs(i):Is(),(e=ie)?(e=D_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Ts(i);return kd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Is(),h=i.mode,E=hc({mode:"hidden",children:E},h),o=Nr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=ed(a),o.childLanes=nd(e,g,a),i.memoizedState=td,rl(null,o)):(Rs(i),id(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(Rs(i),i.flags&=-257,i=sd(e,i,a)):i.memoizedState!==null?(Is(),i.child=e.child,i.flags|=128,i=null):(Is(),E=o.fallback,h=i.mode,o=hc({mode:"visible",children:o.children},h),E=Nr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Lr(i,e.child,null,a),o=i.child,o.memoizedState=ed(a),o.childLanes=nd(e,g,a),i.memoizedState=td,i=rl(null,o));else if(Rs(i),kd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(r(419)),o.stack="",o.digest=g,Ko({value:o,source:null,stack:null}),i=sd(e,i,a)}else if(Re||wa(e,i,a,!1),g=(a&e.childLanes)!==0,Re||g){if(g=ne,g!==null&&(o=Ro(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Dr(e,o),hn(g,e,o),Zf;Ld(E)||Ec(),i=sd(e,i,a)}else Ld(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ie=Pn(E.nextSibling),qe=i,zt=!0,Es=null,xn=!1,e!==null&&ig(i,e),i=id(i,o.children),i.flags|=4096);return i}return h?(Is(),E=o.fallback,h=i.mode,R=e.child,k=R.sibling,o=ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=ki(k,E):(E=Nr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,rl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=ed(a):(h=E.cachePool,h!==null?(R=we._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=nd(e,g,a),i.memoizedState=td,rl(e.child,o)):(Rs(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function id(e,i){return i=hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function sd(e,i,a){return Lr(i,e.child,null,a),e=id(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),vf(e.return,i,a)}function rd(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ay(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,nt(pe,g),Fe(e,i,o,a),o=zt?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,i);else if(e.tag===19)Sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(i,!0,a,null,f,o);break;case"together":rd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ns|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function ZS(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ss(i,we,e.memoizedState.cache),Or();break;case 27:case 5:hr(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ss(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ty(e,i,a):(Rs(i),e=Fi(e,i,a),e!==null?e.sibling:null);Rs(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),o)break;return null;case 22:return i.lanes=0,py(e,i,a,i.pendingProps);case 24:Ss(i,we,e.memoizedState.cache)}return Fi(e,i,a)}function wy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!ad(e,a)&&(i.flags&128)===0)return Re=!1,ZS(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,zt&&(i.flags&1048576)!==0&&ng(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ur(i.elementType),i.type=e,typeof e=="function")hf(e)?(o=zr(e,o),i.tag=1,i=vy(null,i,e,o,a)):(i.tag=0,i=Wf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===mt){i.tag=11,i=fy(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=dy(null,i,e,o,a);break t}}throw i=gt(e)||e,Error(r(306,i,""))}}return i;case 0:return Wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=zr(o,i.pendingProps),vy(e,i,o,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Rf(e,i),tl(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Ss(i,we,o),o!==f.cache&&Ef(i,[we],a,!0),Wo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ey(e,i,o,a);break t}else if(o!==h){h=On(Error(r(424)),i),Ko(h),i=Ey(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Pn(e.firstChild),qe=i,zt=!0,Es=null,xn=!0,a=pg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Or(),o===h){i=Fi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return cc(e,i),e===null?(a=U_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,o=Ic(Tt.current).createElement(a),o[Te]=i,o[Ue]=e,Ge(o,a,e),Se(o),i.stateNode=o):i.memoizedState=U_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hr(i),e===null&&zt&&(o=i.stateNode=V_(i.type,i.pendingProps,Tt.current),qe=i,xn=!0,h=ie,Us(i.type)?(zd=h,ie=Pn(o.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),cc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=o=ie)&&(o=CA(o,i.type,i.pendingProps,xn),o!==null?(i.stateNode=o,qe=i,ie=Pn(o.firstChild),xn=!1,h=!0):h=!1),h||Ts(i)),hr(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,xd(h,f)?o=null:g!==null&&xd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,HS,null,null,a),El._currentValue=h),cc(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&zt&&((e=a=ie)&&(a=DA(a,i.pendingProps,xn),a!==null?(i.stateNode=a,qe=i,ie=null,e=!0):e=!1),e||Ts(i)),null;case 13:return Ty(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Lr(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return fy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ss(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Mr(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return dy(e,i,i.type,i.pendingProps,a);case 15:return my(e,i,i.type,i.pendingProps,a);case 19:return Ay(e,i,a);case 31:return $S(e,i,a);case 22:return py(e,i,a,i.pendingProps);case 24:return Mr(i),o=He(we),e===null?(h=Af(),h===null&&(h=ne,f=Tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},bf(i),Ss(i,we,h)):((e.lanes&a)!==0&&(Rf(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ss(i,we,o)):(o=f.cache,Ss(i,we,o),o!==h.cache&&Ef(i,[we],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Gi(e){e.flags|=4}function od(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw Pr=Xu,wf}else e.flags&=-16777217}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j_(i))if($y())e.flags|=8192;else throw Pr=Xu,wf}function fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_u():536870912,e.lanes|=i,Pa|=i)}function al(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function WS(e,i,a){var o=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(we),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),se(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Gi(i),f!==null?(se(i),by(i,f)):(se(i),od(i,h,null,o,a))):f?f!==e.memoizedState?(Gi(i),se(i),by(i,f)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(i),se(i),od(i,h,e,o,a)),null;case 27:if(ea(i),a=Tt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=it.current,Aa(i)?sg(i):(e=V_(h,o,a),i.stateNode=e,Gi(i))}return se(i),null;case 5:if(ea(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(f=it.current,Aa(i))sg(i);else{var g=Ic(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Te]=i,f[Ue]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(i)}}return se(i),od(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Tt.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T_(e.nodeValue,a)),e||Ts(i,!0)}else e=Ic(e).createTextNode(o),e[Te]=i,i.stateNode=e}return se(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),se(i),null);case 4:return ae(),e===null&&Dd(i.stateNode.containerInfo),se(i),null;case 10:return Bi(i.type),se(i),null;case 19:if(G(pe),o=i.memoizedState,o===null)return se(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Wu(e),f!==null){for(i.flags|=128,al(o,!1),e=f.updateQueue,i.updateQueue=e,fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Wp(a,e),a=a.sibling;return nt(pe,pe.current&1|2),zt&&zi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>yc&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(e=Wu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,fc(i,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return se(i),null}else 2*We()-o.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=pe.current,nt(pe,h?a&1|2:a&1),zt&&zi(i,o.treeForkCount),e):(se(i),null);case 22:case 23:return _n(i),Nf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&G(xr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(we),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tA(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(we),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(pe),null;case 4:return ae(),null;case 10:return Bi(i.type),null;case 22:case 23:return _n(i),Nf(),e!==null&&G(xr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(we),null;case 25:return null;default:return null}}function Ry(e,i){switch(pf(i),i.tag){case 3:Bi(we),ae();break;case 26:case 27:case 5:ea(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:G(pe);break;case 10:Bi(i.type);break;case 22:case 23:_n(i),Nf(),e!==null&&G(xr);break;case 24:Bi(we)}}function ol(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function Cs(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var R=a,k=E;try{k()}catch(F){Jt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Jt(i,i.return,F)}}function Iy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{yg(i,a)}catch(o){Jt(e,e.return,o)}}}function Cy(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,i,o)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function Dy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function ld(e,i,a){try{var o=e.stateNode;SA(o,e.type,a,i),o[Ue]=i}catch(h){Jt(e,e.return,h)}}function Ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(cd(e,i,a),e=e.sibling;e!==null;)cd(e,i,a),e=e.sibling}function dc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,i,a),e=e.sibling;e!==null;)dc(e,i,a),e=e.sibling}function Oy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Te]=e,i[Ue]=a}catch(f){Jt(e,e.return,f)}}var Qi=!1,Ie=!1,hd=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function eA(e,i){if(e=e.containerInfo,Vd=xc,e=Fp(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,F=0,Y=e,z=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},xc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=zr(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Jt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function My(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&ol(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}o&64&&Iy(a),o&512&&ll(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(e,i)}catch(g){Jt(a,a.return,g)}}break;case 27:i===null&&o&4&&Oy(a);case 26:case 5:Yi(e,a),i===null&&o&4&&Dy(a),o&512&&ll(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&Py(e,a);break;case 13:Yi(e,a),o&4&&Ly(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cA.bind(null,a),NA(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||Ie,h=Qi;var f=Ie;Qi=o,(Ie=i)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Qi=h,Ie=f}break;case 30:break;default:Yi(e,a)}}function xy(e){var i=e.alternate;i!==null&&(e.alternate=null,xy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&aa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Ki(e,i,a){for(a=a.child;a!==null;)Uy(e,i,a),a=a.sibling}function Uy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||wi(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||wi(a,i);var o=le,h=on;Us(a.type)&&(le=a.stateNode,on=!1),Ki(e,i,a),yl(a.stateNode),le=o,on=h;break;case 5:Ie||wi(a,i);case 6:if(o=le,h=on,le=null,Ki(e,i,a),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Jt(a,i,f)}else try{le.removeChild(a.stateNode)}catch(f){Jt(a,i,f)}break;case 18:le!==null&&(on?(e=le,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):I_(le,a.stateNode));break;case 4:o=le,h=on,le=a.stateNode.containerInfo,on=!0,Ki(e,i,a),le=o,on=h;break;case 0:case 11:case 14:case 15:Cs(2,a,i),Ie||Cs(4,a,i),Ki(e,i,a);break;case 1:Ie||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,i,o)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,Ki(e,i,a),Ie=o;break;default:Ki(e,i,a)}}function Py(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){Jt(i,i.return,a)}}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){Jt(i,i.return,a)}}function nA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Vy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Vy),i;default:throw Error(r(435,e.tag))}}function mc(e,i){var a=nA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=hA.bind(null,e,o);o.then(h,h)}})}function ln(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(r(160));Uy(f,g,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ky(i,e),i=i.sibling}var Zn=null;function ky(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),o&4&&(Cs(3,e,e.return),ol(3,e),Cs(5,e,e.return));break;case 1:ln(i,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(ln(i,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Te]=e,Se(f),o=f;break t;case"link":var g=k_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(g=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Te]=e,Se(f),o=f}e.stateNode=o}else z_(h,e.type,e.stateNode);else e.stateNode=L_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z_(h,e.type,e.stateNode):L_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),a!==null&&o&4&&ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(lt){Jt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ld(e,h,a!==null?a.memoizedProps:h)),o&1024&&(hd=!0);break;case 6:if(ln(i,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Jt(e,e.return,lt)}}break;case 3:if(Nc=null,h=Zn,Zn=Cc(i.containerInfo),ln(i,e),Zn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(lt){Jt(e,e.return,lt)}hd&&(hd=!1,zy(e));break;case 4:o=Zn,Zn=Cc(e.stateNode.containerInfo),ln(i,e),un(e),Zn=o;break;case 12:ln(i,e),un(e);break;case 31:ln(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Qi,F=Ie;if(Qi=k||h,Ie=F||R,ln(i,e),Ie=F,Qi=k,un(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Qi||Ie||jr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Jt(R,R.return,lt)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Jt(R,R.return,lt)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?C_(q,!0):C_(R.stateNode,!1)}catch(lt){Jt(R,R.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(e,a))));break;case 19:ln(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Ny(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ud(e);dc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=ud(e);dc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=ud(e);cd(e,k,R);break;default:throw Error(r(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Yi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(e,i.alternate,i),i=i.sibling}function jr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cs(4,i,i.return),jr(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),jr(i);break;case 27:yl(i.stateNode);case 26:case 5:wi(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),ol(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Jt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],E)}catch(k){Jt(o,o.return,k)}}a&&g&64&&Iy(f),ll(f,f.return);break;case 27:Oy(f);case 26:case 5:Xi(h,f,a),a&&o===null&&g&4&&Dy(f),ll(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&g&4&&Py(h,f);break;case 13:Xi(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),ll(f,f.return);break;case 30:break;default:Xi(h,f,a)}i=i.sibling}}function fd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(e,i,a,o),i=i.sibling}function jy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&ol(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(i,i.return,R)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?Wn(e,i,a,o):ul(e,i):f._visibility&2?Wn(e,i,a,o):(f._visibility|=2,Ma(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(g,i);break;case 24:Wn(e,i,a,o),h&2048&&dd(i.alternate,i);break;default:Wn(e,i,a,o)}}function Ma(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Ma(f,g,E,R,h),ol(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ma(f,g,E,R,h):ul(f,g):(F._visibility|=2,Ma(f,g,E,R,h)),h&&k&2048&&fd(g.alternate,g);break;case 24:Ma(f,g,E,R,h),h&&k&2048&&dd(g.alternate,g);break;default:Ma(f,g,E,R,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&fd(o.alternate,o);break;case 24:ul(a,o),h&2048&&dd(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function xa(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)By(e,i,a),e=e.sibling}function By(e,i,a){switch(e.tag){case 26:xa(e,i,a),e.flags&cl&&e.memoizedState!==null&&qA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,i,a);break;case 3:case 4:var o=Zn;Zn=Cc(e.stateNode.containerInfo),xa(e,i,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,xa(e,i,a),cl=o):xa(e,i,a));break;default:xa(e,i,a)}}function qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Fy(o,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pc(e)):hl(e);break;default:hl(e)}}function pc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Fy(o,e)}qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cs(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}e=e.sibling}}function Fy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(xy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var iA={getCacheForType:function(e){var i=He(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},sA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Nt=null,xt=0,Xt=0,vn=null,Ds=!1,Ua=!1,md=!1,Ji=0,he=0,Ns=0,Br=0,pd=0,En=0,Pa=0,fl=null,cn=null,gd=!1,gc=0,Gy=0,yc=1/0,_c=null,Os=null,Me=0,Vs=null,La=null,$i=0,yd=0,_d=null,Qy=null,dl=0,vd=null;function Tn(){return(Kt&2)!==0&&xt!==0?xt&-xt:B.T!==null?bd():vu()}function Ky(){if(En===0)if((xt&536870912)===0||zt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Ms(e,xt,En,!1)),pr(e,a),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(Br|=a),he===4&&Ms(e,xt,En,!1)),bi(e))}function Yy(e,i,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?oA(e,i):Td(e,i,!0),f=o;do{if(h===0){Ua&&!o&&Ms(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!rA(a)){h=Td(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=fl;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=Td(E,g,!1),g!==2){if(md&&!R){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Ms(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ms(o,i,En,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=gc+300-We(),10<h)){if(Ms(o,i,En,!Ds),oi(o,0,!0)!==0)break t;$i=i,o.timeoutHandle=b_(Xy.bind(null,o,a,cn,_c,gd,i,En,Br,Pa,Ds,f,"Throttled",-0,0),h);break t}Xy(o,a,cn,_c,gd,i,En,Br,Pa,Ds,f,null,-0,0)}}break}while(!0);bi(e)}function Xy(e,i,a,o,h,f,g,E,R,k,F,Y,z,q){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},By(i,f,Y);var lt=(f&62914560)===f?gc-We():(f&4194048)===f?Gy-We():0;if(lt=HA(Y,lt),lt!==null){$i=f,e.cancelPendingCommit=lt(i_.bind(null,e,i,f,a,o,h,g,E,R,F,Y,null,z,q)),Ms(e,f,g,!k);return}}i_(e,i,f,a,o,h,g,E,R)}function rA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(e,i,a,o){i&=~pd,i&=~Br,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&gr(e,a,i)}function vc(){return(Kt&6)===0?(ml(0),!1):!0}function Ed(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,ji=Vr=null,Pf(e),Ca=null,Jo=0,e=Nt;for(;e!==null;)Ry(e.alternate,e),e=e.return;Nt=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,Ed(),ne=e,Nt=a=ki(e.current,null),xt=i,Xt=0,vn=null,Ds=!1,Ua=Hn(e,i),md=!1,Pa=En=pd=Br=Ns=he=0,cn=fl=null,gd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-de(o),f=1<<h;i|=e[h],o&=~f}return Ji=i,ju(),a}function Jy(e,i){bt=null,B.H=sl,i===Ia||i===Yu?(i=fg(),Xt=3):i===wf?(i=fg(),Xt=4):Xt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Nt===null&&(he=1,lc(e,On(i,e.current)))}function $y(){var e=yn.current;return e===null?!0:(xt&4194048)===xt?Un===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Un:!1}function Zy(){var e=B.H;return B.H=sl,e===null?sl:e}function Wy(){var e=B.A;return B.A=iA,e}function Ec(){he=4,Ds||(xt&4194048)!==xt&&yn.current!==null||(Ua=!0),(Ns&134217727)===0&&(Br&134217727)===0||ne===null||Ms(ne,xt,En,!1)}function Td(e,i,a){var o=Kt;Kt|=2;var h=Zy(),f=Wy();(ne!==e||xt!==i)&&(_c=null,ka(e,i)),i=!1;var g=he;t:do try{if(Xt!==0&&Nt!==null){var E=Nt,R=vn;switch(Xt){case 8:Ed(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var k=Xt;if(Xt=0,vn=null,za(e,E,R,k),a&&Ua){g=0;break t}break;default:k=Xt,Xt=0,vn=null,za(e,E,R,k)}}aA(),g=he;break}catch(F){Jy(e,F)}while(!0);return i&&e.shellSuspendCounter++,ji=Vr=null,Kt=o,B.H=h,B.A=f,Nt===null&&(ne=null,xt=0,ju()),g}function aA(){for(;Nt!==null;)t_(Nt)}function oA(e,i){var a=Kt;Kt|=2;var o=Zy(),h=Wy();ne!==e||xt!==i?(_c=null,yc=We()+500,ka(e,i)):Ua=Hn(e,i);t:do try{if(Xt!==0&&Nt!==null){i=Nt;var f=vn;e:switch(Xt){case 1:Xt=0,vn=null,za(e,i,f,1);break;case 2:case 9:if(cg(f)){Xt=0,vn=null,e_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),bi(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:cg(f)?(Xt=0,vn=null,e_(i)):(Xt=0,vn=null,za(e,i,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?j_(g):E.stateNode.complete){Xt=0,vn=null;var R=E.sibling;if(R!==null)Nt=R;else{var k=E.return;k!==null?(Nt=k,Tc(k)):Nt=null}break e}}Xt=0,vn=null,za(e,i,f,5);break;case 6:Xt=0,vn=null,za(e,i,f,6);break;case 8:Ed(),he=6;break t;default:throw Error(r(462))}}lA();break}catch(F){Jy(e,F)}while(!0);return ji=Vr=null,B.H=o,B.A=h,Kt=a,Nt!==null?0:(ne=null,xt=0,ju(),he)}function lA(){for(;Nt!==null&&!Jh();)t_(Nt)}function t_(e){var i=wy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?Tc(e):Nt=i}function e_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=_y(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=_y(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Pf(i);default:Ry(a,i),i=Nt=Wp(i,Ji),i=wy(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?Tc(e):Nt=i}function za(e,i,a,o){ji=Vr=null,Pf(i),Ca=null,Jo=0;var h=i.return;try{if(JS(e,h,i,a,xt)){he=1,lc(e,On(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;he=1,lc(e,On(a,e.current)),Nt=null;return}i.flags&32768?(zt||o===1?e=!0:Ua||(xt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),n_(i,e)):Tc(i)}function Tc(e){var i=e;do{if((i.flags&32768)!==0){n_(i,Ds);return}e=i.return;var a=WS(i.alternate,i,Ji);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);he===0&&(he=5)}function n_(e,i){do{var a=tA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);he=6,Nt=null}function i_(e,i,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do Sc();while(Me!==0);if((Kt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=uf,Wh(e,a,f,g,E,R),e===ne&&(Nt=ne=null,xt=0),La=i,Vs=e,$i=a,yd=f,_d=h,Qy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fA(us,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=Z.p,Z.p=2,g=Kt,Kt|=4;try{eA(e,i,a)}finally{Kt=g,Z.p=h,B.T=o}}Me=1,s_(),r_(),a_()}}function s_(){if(Me===1){Me=0;var e=Vs,i=La,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=Z.p;Z.p=2;var h=Kt;Kt|=4;try{ky(i,e);var f=Md,g=Fp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(R!==null&&sf(E)){var k=R.start,F=R.end;if(F===void 0&&(F=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=E.textContent.length,yt=Math.min(R.start,lt),te=R.end===void 0?yt:Math.min(R.end,lt);!q.extend&&yt>te&&(g=te,te=yt,yt=g);var U=qp(E,yt),V=qp(E,te);if(U&&V&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),yt>te?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xc=!!Vd,Md=Vd=null}finally{Kt=h,Z.p=o,B.T=a}}e.current=i,Me=2}}function r_(){if(Me===2){Me=0;var e=Vs,i=La,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=Z.p;Z.p=2;var h=Kt;Kt|=4;try{My(e,i.alternate,i)}finally{Kt=h,Z.p=o,B.T=a}}Me=3}}function a_(){if(Me===4||Me===3){Me=0,fu();var e=Vs,i=La,a=$i,o=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,La=Vs=null,o_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),xi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=B.T,h=Z.p,Z.p=2,B.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{B.T=i,Z.p=h}}($i&3)!==0&&Sc(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===vd?dl++:(dl=0,vd=e):dl=0,ml(0)}}function o_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function Sc(){return s_(),r_(),a_(),l_()}function l_(){if(Me!==5)return!1;var e=Vs,i=yd;yd=0;var a=xi($i),o=B.T,h=Z.p;try{Z.p=32>a?32:a,B.T=null,a=_d,_d=null;var f=Vs,g=$i;if(Me=0,La=Vs=null,$i=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,Hy(f.current),jy(f,f.current,g,a),Kt=E,ml(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{Z.p=h,B.T=o,o_(e,i)}}function u_(e,i,a){i=On(a,i),i=$f(e.stateNode,i,2),e=bs(e,i,2),e!==null&&(pr(e,2),bi(e))}function Jt(e,i,a){if(e.tag===3)u_(e,e,a);else for(;i!==null;){if(i.tag===3){u_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){e=On(a,e),a=cy(2),o=bs(i,a,2),o!==null&&(hy(a,o,i,e),pr(o,2),bi(o));break}}i=i.return}}function Sd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new sA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(md=!0,h.add(a),e=uA.bind(null,e,i,a),i.then(e,e))}function uA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(xt&a)===a&&(he===4||he===3&&(xt&62914560)===xt&&300>We()-gc?(Kt&2)===0&&ka(e,0):pd|=a,Pa===xt&&(Pa=0)),bi(e)}function c_(e,i){i===0&&(i=_u()),e=Dr(e,i),e!==null&&(pr(e,i),bi(e))}function cA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(e,a)}function hA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),c_(e,a)}function fA(e,i){return Ve(e,i)}var Ac=null,ja=null,Ad=!1,wc=!1,wd=!1,xs=0;function bi(e){e!==ja&&e.next===null&&(ja===null?Ac=ja=e:ja=ja.next=e),wc=!0,Ad||(Ad=!0,mA())}function ml(e,i){if(!wd&&wc){wd=!0;do for(var a=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m_(o,f))}else f=xt,f=oi(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,m_(o,f));o=o.next}while(a);wd=!1}}function dA(){h_()}function h_(){wc=Ad=!1;var e=0;xs!==0&&wA()&&(e=xs);for(var i=We(),a=null,o=Ac;o!==null;){var h=o.next,f=f_(o,i);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(ja=a)):(a=o,(e!==0||(f&3)!==0)&&(wc=!0)),o=h}Me!==0&&Me!==5||ml(e),xs!==0&&(xs=0)}function f_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Zh(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=ne,a=xt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ls(o),xi(a)){case 2:case 8:a=wo;break;case 32:a=us;break;case 268435456:a=du;break;default:a=us}return o=d_.bind(null,e),a=Ve(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function d_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var o=xt;return o=oi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,i),f_(e,We()),e.callbackNode!=null&&e.callbackNode===a?d_.bind(null,e):null)}function m_(e,i){if(Sc())return null;Yy(e,i,!0)}function mA(){RA(function(){(Kt&6)!==0?Ve(Ao,dA):h_()})}function bd(){if(xs===0){var e=ba;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),xs=e}return xs}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function g_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function pA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=p_((h[Ue]||null).action),g=o.submitter;g&&(i=(i=g[Ue]||null)?p_(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var R=g?g_(h,g):new FormData(h);Gf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?g_(h,g):new FormData(h),Gf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Id=lf[Rd],gA=Id.toLowerCase(),yA=Id[0].toUpperCase()+Id.slice(1);$n(gA,"on"+yA)}$n(Kp,"onAnimationEnd"),$n(Yp,"onAnimationIteration"),$n(Xp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(MS,"onTransitionRun"),$n(xS,"onTransitionStart"),$n(US,"onTransitionCancel"),$n(Jp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function y_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(F){zu(F)}h.currentTarget=null,f=R}}}}function Ot(e,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var o=e+"__bubble";a.has(o)||(__(i,e,2,!1),a.add(o))}function Cd(e,i,a){var o=0;i&&(o|=4),__(a,e,o,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[bc]){e[bc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(_A.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[bc]||(i[bc]=!0,Cd("selectionchange",!1,i))}}function __(e,i,a,o){switch(K_(i)){case 2:var h=QA;break;case 8:h=KA;break;default:h=Fd}a=h.bind(null,i,a,e),h=void 0,!Tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ps(function(){var k=f,F=In(a),Y=[];t:{var z=$p.get(e);if(z!==void 0){var q=_i,lt=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":q=Pu;break;case"focusin":lt="focus",q=br;break;case"focusout":lt="blur",q=br;break;case"beforeblur":case"afterblur":q=br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Kp:case Yp:case Xp:q=Du;break;case Jp:q=S;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Li;break;case"toggle":case"beforetoggle":q=wt}var yt=(i&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),U=yt?z!==null?z+"Capture":null:z;yt=[];for(var V=k,L;V!==null;){var K=V;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||U===null||(K=Kn(V,U),K!=null&&yt.push(gl(V,K,L))),te)break;V=V.return}0<yt.length&&(z=new q(z,lt,null,a,F),Y.push({event:z,listeners:yt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Po&&(lt=a.relatedTarget||a.fromElement)&&(hi(lt)||lt[ui]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=k,lt=lt?hi(lt):null,lt!==null&&(te=c(lt),yt=lt.tag,lt!==te||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(q=null,lt=k),q!==lt)){if(yt=jo,K="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Li,K="onPointerLeave",U="onPointerEnter",V="pointer"),te=q==null?z:dn(q),L=lt==null?z:dn(lt),z=new yt(K,V+"leave",q,a,F),z.target=te,z.relatedTarget=L,K=null,hi(F)===k&&(yt=new yt(U,V+"enter",lt,a,F),yt.target=L,yt.relatedTarget=te,K=yt),te=K,q&&lt)e:{for(yt=vA,U=q,V=lt,L=0,K=U;K;K=yt(K))L++;K=0;for(var dt=V;dt;dt=yt(dt))K++;for(;0<L-K;)U=yt(U),L--;for(;0<K-L;)V=yt(V),K--;for(;L--;){if(U===V||V!==null&&U===V.alternate){yt=U;break e}U=yt(U),V=yt(V)}yt=null}else yt=null;q!==null&&v_(Y,z,q,yt,!1),lt!==null&&te!==null&&v_(Y,te,lt,yt,!0)}}t:{if(z=k?dn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ft=Pp;else if(xp(z))if(Lp)Ft=NS;else{Ft=CS;var ut=IS}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ua(k.elementType)&&(Ft=Pp):Ft=DS;if(Ft&&(Ft=Ft(e,k))){Up(Y,Ft,a,F);break t}ut&&ut(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Mo(z,"number",z.value)}switch(ut=k?dn(k):window,e){case"focusin":(xp(ut)||ut.contentEditable==="true")&&(ya=ut,rf=k,Go=null);break;case"focusout":Go=rf=ya=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Gp(Y,a,F);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Gp(Y,a,F)}var Rt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ga?Rr(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ti&&a.locale!=="ko"&&(ga||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ga&&(Rt=ko()):(yi=F,Lo="value"in yi?yi.value:yi.textContent,ga=!0)),ut=Rc(k,Ut),0<ut.length&&(Ut=new Ei(Ut,e,null,a,F),Y.push({event:Ut,listeners:ut}),Rt?Ut.data=Rt:(Rt=pa(a),Rt!==null&&(Ut.data=Rt)))),(Rt=Dn?AS(e,a):wS(e,a))&&(Ut=Rc(k,"onBeforeInput"),0<Ut.length&&(ut=new Ei("onBeforeInput","beforeinput",null,a,F),Y.push({event:ut,listeners:Ut}),ut.data=Rt)),pA(Y,e,k,a,F)}y_(Y,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(gl(e,h,f)),h=Kn(e,i),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function vA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Kn(a,f),k!=null&&g.unshift(gl(a,k,R))):h||(k=Kn(a,f),k!=null&&g.push(gl(a,k,R)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function T_(e,i){return i=E_(i),E_(e)===i}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Uo(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,oa(e,a,o))}}function Od(e,i,a,o,h,f){switch(a){case"style":Uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):oa(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,f,g,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":k=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:Wt(e,i,o,F,a,null)}}Au(e,f,E,R,k,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?hs(e,!!o,i,!1):a!=null&&hs(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(e,i,g,E,a,null)}fs(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,i,R,o,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)Ot(pl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,k,o,a,null)}return;default:if(ua(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Od(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function SA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Wt(e,i,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Y&&Wt(e,i,z,q,o,Y)}}la(e,g,E,R,k,F,f,h);return;case"select":q=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Wt(e,i,h,f,o,R)}i=E,a=g,o=q,z!=null?hs(e,!!a,z,!1):!!o!=!!a&&(i!=null?hs(e,!!a,i,!0):hs(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Wt(e,i,g,h,o,f)}wu(e,z,q);return;case"option":for(var lt in a)z=a[lt],a.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,i,lt,null,o,z));for(R in o)z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Wt(e,i,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&Wt(e,i,yt,null,o,z);for(k in o)if(z=o[k],q=a[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Wt(e,i,k,z,o,q)}return;default:if(ua(i)){for(var te in a)z=a[te],a.hasOwnProperty(te)&&z!==void 0&&!o.hasOwnProperty(te)&&Od(e,i,te,void 0,o,z);for(F in o)z=o[F],q=a[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||Od(e,i,F,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Wt(e,i,U,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||Wt(e,i,Y,z,o,q)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&S_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var F=R.transferSize,Y=R.initiatorType;F&&S_(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-k)/(R-k)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vd=null,Md=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function wA(){var e=window.event;return e&&e.type==="popstate"?e===Ud?!1:(Ud=e,!0):(Ud=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(IA)}:b_;function IA(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function I_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Fa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Fa(i)}function C_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function CA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function DA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function D_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var zd=null;function N_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function O_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function V_(e,i,a){switch(i=Ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);aa(e)}var Ln=new Map,M_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=Z.d;Z.d={f:OA,r:VA,D:MA,C:xA,L:UA,m:PA,X:kA,S:LA,M:zA};function OA(){var e=Zi.f(),i=vc();return e||i}function VA(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?Jg(i):Zi.r(e)}var Ba=typeof document>"u"?null:document;function x_(e,i,a){var o=Ba;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function MA(e){Zi.D(e),x_("dns-prefetch",e,null)}function xA(e,i){Zi.C(e,i),x_("preconnect",e,i)}function UA(e,i,a){Zi.L(e,i,a);var o=Ba;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=qa(e);break;case"script":f=Ha(e)}Ln.has(f)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(f))||i==="script"&&o.querySelector(vl(f))||(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function PA(e,i){Zi.m(e,i);var a=Ba;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Ln.has(f)&&(e=w({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Se(o),a.head.appendChild(o)}}}function LA(e,i,a){Zi.S(e,i,a);var o=Ba;if(o&&e){var h=fi(o).hoistableStyles,f=qa(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(_l(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&jd(e,a);var R=g=o.createElement("link");Se(R),Ge(R,"link",e),R._p=new Promise(function(k,F){R.onload=k,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Dc(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function kA(e,i){Zi.X(e,i);var a=Ba;if(a&&e){var o=fi(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=w({src:e,async:!0},i),(i=Ln.get(h))&&Bd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zA(e,i){Zi.M(e,i);var a=Ba;if(a&&e){var o=fi(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=w({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Bd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function U_(e,i,a,o){var h=(h=Tt.current)?Cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(_l(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||jA(h,e,a,g.state))),i&&o===null)throw Error(r(528,""));return g}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qa(e){return'href="'+rn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function jA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Se(i),e.head.appendChild(i))}function Ha(e){return'[src="'+rn(e)+'"]'}function vl(e){return"script[async]"+e}function L_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ge(o,"style",h),Dc(o,a.precedence,e),i.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(_l(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;o=P_(a),(h=Ln.get(h))&&jd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),i.state.loading|=4,Dc(f,a.precedence,e),i.instance=f;case"script":return f=Ha(a.src),(h=e.querySelector(vl(f)))?(i.instance=h,Se(h),h):(o=a,(h=Ln.get(f))&&(o=w({},a),Bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dc(o,a.precedence,e));return i.instance}function Dc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function k_(e,i,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function z_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function BA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function j_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=i.querySelector(_l(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Oc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Se(f);return}f=i.ownerDocument||i,o=P_(o),(h=Ln.get(h))&&jd(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var qd=0;function HA(e,i){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&qd===0&&(qd=62500*AA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,i.forEach(FA,e),Vc=null,Oc.call(e))}function FA(e,i){if(!(i.state.loading&4)){var a=Vc.get(e);if(a)var o=a.get(null);else{a=new Map,Vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function GA(e,i,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function B_(e,i,a,o,h,f,g,E,R,k,F,Y){return e=new GA(e,i,a,g,R,k,F,Y,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=Tf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},bf(f),e}function q_(e){return e?(e=Ea,e):Ea}function H_(e,i,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=bs(e,o,i),a!==null&&(hn(a,e,i),Zo(a,e,i))}function F_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Hd(e,i){F_(e,i),(e=e.alternate)&&F_(e,i)}function G_(e){if(e.tag===13||e.tag===31){var i=Dr(e,67108864);i!==null&&hn(i,e,67108864),Hd(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var i=Tn();i=yr(i);var a=Dr(e,i);a!==null&&hn(a,e,i),Hd(e,i)}}var xc=!0;function QA(e,i,a,o){var h=B.T;B.T=null;var f=Z.p;try{Z.p=2,Fd(e,i,a,o)}finally{Z.p=f,B.T=h}}function KA(e,i,a,o){var h=B.T;B.T=null;var f=Z.p;try{Z.p=8,Fd(e,i,a,o)}finally{Z.p=f,B.T=h}}function Fd(e,i,a,o){if(xc){var h=Gd(o);if(h===null)Nd(e,i,o,Uc,a),Y_(e,o);else if(XA(h,e,i,a,o))o.stopPropagation();else if(Y_(e,o),i&4&&-1<YA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-de(g);E.entanglements[1]|=R,g&=~R}bi(f),(Kt&6)===0&&(yc=We()+500,ml(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&hn(E,f,2),vc(),Hd(f,2)}if(f=Gd(o),f===null&&Nd(e,i,o,Uc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Nd(e,i,o,null,a)}}function Gd(e){return e=In(e),Qd(e)}var Uc=null;function Qd(e){if(Uc=null,e=hi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ao:return 2;case wo:return 8;case us:case $h:return 32;case du:return 268435456;default:return 32}default:return 32}}var Kd=!1,Ps=null,Ls=null,ks=null,Tl=new Map,Sl=new Map,zs=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,i){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function Al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&G_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function XA(e,i,a,o,h){switch(i){case"focusin":return Ps=Al(Ps,e,i,a,o,h),!0;case"dragenter":return Ls=Al(Ls,e,i,a,o,h),!0;case"mouseover":return ks=Al(ks,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Al(Tl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,e,i,a,o,h)),!0}return!1}function X_(e){var i=hi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){Q_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){Q_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Po=o,a.target.dispatchEvent(o),Po=null}else return i=Rn(a),i!==null&&G_(i),e.blockedOn=a,!1;i.shift()}return!0}function J_(e,i,a){Pc(e)&&a.delete(i)}function JA(){Kd=!1,Ps!==null&&Pc(Ps)&&(Ps=null),Ls!==null&&Pc(Ls)&&(Ls=null),ks!==null&&Pc(ks)&&(ks=null),Tl.forEach(J_),Sl.forEach(J_)}function Lc(e,i){e.blockedOn===i&&(e.blockedOn=null,Kd||(Kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JA)))}var kc=null;function $_(e){kc!==e&&(kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Qd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Gf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(e){function i(R){return Lc(R,e)}Ps!==null&&Lc(Ps,e),Ls!==null&&Lc(Ls,e),ks!==null&&Lc(ks,e),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<zs.length;a++){var o=zs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ue]||null;if(typeof f=="function")g||$_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ue]||null)E=g.formAction;else if(Qd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),$_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(e){this._internalRoot=e}zc.prototype.render=Yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Tn();H_(a,o,e,i,null,null)},zc.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;H_(e.current,2,null,e,null,null),vc(),i[ui]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,e),a===0&&X_(e)}};var W_=t.version;if(W_!=="19.2.4")throw Error(r(527,W_,"19.2.4"));Z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var $A={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{qn=jc.inject($A),je=jc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=ay,f=oy,g=ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=B_(e,1,!1,null,null,a,o,null,h,f,g,Z_),e[ui]=i.current,Dd(e),new Yd(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ay,g=oy,E=ly,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=B_(e,1,!0,i,a??null,o,h,R,f,g,E,Z_),i.context=q_(null),a=i.current,o=Tn(),o=yr(o),h=ws(o),h.callback=null,bs(a,h,o),a=o,i.current.lanes=a,pr(i,a),bi(i),e[ui]=i.current,Dd(e),new zc(i)},bl.version="19.2.4",bl}var uv;function ow(){if(uv)return $d.exports;uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),$d.exports=aw(),$d.exports}var lw=ow();function zn({className:s="",...t}){return X.jsx("div",{className:`rounded-2xl border border-white/10 bg-ink-900 shadow-sm ${s}`,...t})}function uw({issues:s,onSelect:t}){return s.length===0?X.jsx(zn,{className:"p-6 text-sm text-white/60",children:"No issues found. Try another search."}):X.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:s.map(n=>X.jsx("button",{onClick:()=>t(n),className:"text-left",children:X.jsxs(zn,{className:"flex h-full flex-col overflow-hidden",children:[n.image?.small_url?X.jsx("img",{src:n.image.small_url,alt:n.name??"Issue cover",className:"h-56 w-full object-cover",loading:"lazy"}):X.jsx("div",{className:"flex h-56 items-center justify-center bg-ink-800 text-sm text-white/40",children:"No cover"}),X.jsxs("div",{className:"flex flex-1 flex-col gap-1 p-4",children:[X.jsxs("p",{className:"text-sm font-semibold",children:[n.volume?.name??"Untitled"," #",n.issue_number]}),X.jsx("p",{className:"text-xs text-white/60",children:n.name??"Unnamed Issue"}),X.jsx("p",{className:"text-xs text-white/40",children:n.cover_date??"Unknown date"})]})]})},n.id))})}function jn({className:s="",...t}){return X.jsx("button",{className:`inline-flex items-center justify-center rounded-xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${s}`,...t})}function Yc({className:s="",...t}){return X.jsx("input",{className:`w-full rounded-xl border border-white/10 bg-ink-900 px-4 py-3 text-sm text-white placeholder:text-white/40 shadow-sm focus:border-white/30 focus:outline-none ${s}`,...t})}function cw({value:s,onChange:t,onSubmit:n,isLoading:r=!1,suggestions:l=[],isSuggesting:c=!1,onSelectSuggestion:d}){const p=y=>{y.preventDefault(),n()};return X.jsxs("div",{className:"relative",children:[X.jsxs("form",{onSubmit:p,className:"flex w-full flex-col gap-3 sm:flex-row",children:[X.jsx(Yc,{value:s,onChange:y=>t(y.target.value),placeholder:"Search Comic Vine issues..."}),X.jsx(jn,{type:"submit",disabled:r,children:r?"Searching...":"Search"})]}),l.length>0||c?X.jsx("div",{className:"absolute z-10 mt-2 w-full rounded-xl border border-white/10 bg-ink-900 shadow-lg",children:c?X.jsx("div",{className:"px-4 py-2 text-sm text-white/50",children:"Loading..."}):l.map(y=>X.jsx("button",{type:"button",className:"w-full px-4 py-2 text-left text-sm text-white/80 hover:bg-ink-800",onClick:()=>d?.(y),children:y},y))}):null]})}const hw="05dda6b0fbaf2a4b6f96a8c533e649afc3903551",fw="https://api.allorigins.win/raw?url=",cv=[fw,"https://api.allorigins.win/raw?url=","https://cors.isomorphic-git.org/"].filter(Boolean),dw=360*60*1e3,mw="https://comicvine.gamespot.com/api";function pw(s,t){const n=new URL(`${mw}${s}`);return Object.entries(t).forEach(([r,l])=>n.searchParams.set(r,l)),n.toString()}function gw(s){if(typeof window>"u")return null;const t=`comicvine:search:${s.toLowerCase()}`,n=window.localStorage.getItem(t);if(!n)return null;try{const r=JSON.parse(n);return Date.now()-r.timestamp>dw?(window.localStorage.removeItem(t),null):r.results}catch{return null}}function yw(s,t){if(typeof window>"u")return;const n=`comicvine:search:${s.toLowerCase()}`,r=JSON.stringify({timestamp:Date.now(),results:t});window.localStorage.setItem(n,r)}async function _w(s){const t=cv.length>0?cv.map(r=>`${r}${encodeURIComponent(s)}`):[s];let n=null;for(let r=0;r<2;r+=1){for(const l of t){const c=new AbortController,d=setTimeout(()=>c.abort(),8e3);try{const p=await fetch(l,{signal:c.signal});if(!p.ok)throw new Error(`HTTP ${p.status}`);return p}catch(p){n=p}finally{clearTimeout(d)}}await new Promise(l=>setTimeout(l,300*(r+1)))}throw n??new Error("Network error")}async function BE(s,t){const n=gw(s);if(n&&!t)return n;const r=pw("/search/",{api_key:hw,format:"json",resources:"issue",query:s,limit:t?String(t):"20",field_list:"id,name,issue_number,cover_date,image,volume"}),l=await _w(r);if(!l.ok)throw new Error("Comic Vine request failed");const c=await l.json();if(c.error&&c.error!=="OK")throw new Error(c.error);const d=c.results??[];return t||yw(s,d),d}async function vw(s){return BE(s)}async function Ew(s){return BE(s,6)}const Tw=()=>{};var hv={};const qE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Sw=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,T=c>>2,w=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(D=64)),r.push(n[T],n[w],n[D],n[H])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(qE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Sw(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new Aw;const D=c<<2|p>>4;if(r.push(D),_!==64){const H=p<<4&240|_>>2;if(r.push(H),w!==64){const $=_<<6&192|w;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ww=function(s){const t=qE(s);return HE.encodeByteArray(t,!0)},ah=function(s){return ww(s).replace(/\./g,"")},FE=function(s){try{return HE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rw=()=>bw().__FIREBASE_DEFAULTS__,Iw=()=>{if(typeof process>"u"||typeof hv>"u")return;const s=hv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Cw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&FE(s[1]);return t&&JSON.parse(t)},Ch=()=>{try{return Tw()||Rw()||Iw()||Cw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},GE=s=>Ch()?.emulatorHosts?.[s],Dw=s=>{const t=GE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},QE=()=>Ch()?.config,KE=s=>Ch()?.[`_${s}`];class Nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(s){return(await fetch(s,{credentials:"include"})).ok}function Ow(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(d)),""].join(".")}const Ul={};function Vw(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function Mw(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let fv=!1;function XE(s,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ul[s]===t||Ul[s]||fv)return;Ul[s]=t;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=Vw().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{fv=!0,d()},D}function T(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=Mw(r),H=n("text"),$=document.getElementById(H)||document.createElement("span"),tt=n("learnmore"),et=document.getElementById(tt)||document.createElement("a"),at=n("preprendIcon"),_t=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;p(ht),T(et,tt);const mt=_();y(_t,at),ht.append(_t,$,et,mt),document.body.appendChild(ht)}c?($.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Uw(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zw(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bw(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const Hw="FirebaseError";class as extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Hw,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Fw(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new as(l,p,r)}}function Fw(s,t){return s.replace(Gw,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const Gw=/\{\$([^}]+)}/g;function Qw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Fr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(dv(c)&&dv(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function dv(s){return s!==null&&typeof s=="object"}function tu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Il(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Cl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function Kw(s,t){const n=new Yw(s,t);return n.subscribe.bind(n)}class Yw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xw(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function em(){}function _e(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class Jw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Nw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zw(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$w(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(s){return s===qr?void 0:s}function Zw(s){return s.instantiationMode==="EAGER"}class Ww{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Jw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const t1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},e1=Pt.INFO,n1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},i1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=n1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=e1,this._logHandler=i1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const s1=(s,t)=>t.some(n=>s instanceof n);let mv,pv;function r1(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a1(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,pm=new WeakMap,$E=new WeakMap,nm=new WeakMap,Bm=new WeakMap;function o1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Xs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&JE.set(n,s)}).catch(()=>{}),Bm.set(t,s),t}function l1(s){if(pm.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,t)}let gm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return pm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||$E.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function u1(s){gm=s(gm)}function c1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(im(this),t,...n);return $E.set(r,t.sort?t.sort():[t]),Xs(r)}:a1().includes(s)?function(...t){return s.apply(im(this),t),Xs(JE.get(this))}:function(...t){return Xs(s.apply(im(this),t))}}function h1(s){return typeof s=="function"?c1(s):(s instanceof IDBTransaction&&l1(s),s1(s,r1())?new Proxy(s,gm):s)}function Xs(s){if(s instanceof IDBRequest)return o1(s);if(nm.has(s))return nm.get(s);const t=h1(s);return t!==s&&(nm.set(s,t),Bm.set(t,s)),t}const im=s=>Bm.get(s);function f1(s,t,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Xs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Xs(d.result),y.oldVersion,y.newVersion,Xs(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const d1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],sm=new Map;function gv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=m1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||d1.includes(n)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&y.done]))[0]};return sm.set(t,c),c}u1(s=>({...s,get:(t,n,r)=>gv(t,n)||s.get(t,n,r),has:(t,n)=>!!gv(t,n)||s.has(t,n)}));class p1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g1(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",yv="0.14.8";const ns=new jm("@firebase/app"),y1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",S1="@firebase/auth",A1="@firebase/auth-compat",w1="@firebase/database",b1="@firebase/data-connect",R1="@firebase/database-compat",I1="@firebase/functions",C1="@firebase/functions-compat",D1="@firebase/installations",N1="@firebase/installations-compat",O1="@firebase/messaging",V1="@firebase/messaging-compat",M1="@firebase/performance",x1="@firebase/performance-compat",U1="@firebase/remote-config",P1="@firebase/remote-config-compat",L1="@firebase/storage",k1="@firebase/storage-compat",z1="@firebase/firestore",j1="@firebase/ai",B1="@firebase/firestore-compat",q1="firebase",H1="12.9.0";const _m="[DEFAULT]",F1={[ym]:"fire-core",[y1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[S1]:"fire-auth",[A1]:"fire-auth-compat",[w1]:"fire-rtdb",[b1]:"fire-data-connect",[R1]:"fire-rtdb-compat",[I1]:"fire-fn",[C1]:"fire-fn-compat",[D1]:"fire-iid",[N1]:"fire-iid-compat",[O1]:"fire-fcm",[V1]:"fire-fcm-compat",[M1]:"fire-perf",[x1]:"fire-perf-compat",[U1]:"fire-rc",[P1]:"fire-rc-compat",[L1]:"fire-gcs",[k1]:"fire-gcs-compat",[z1]:"fire-fst",[B1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[q1]:"fire-js-all"};const oh=new Map,G1=new Map,vm=new Map;function _v(s,t){try{s.container.addComponent(t)}catch(n){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function io(s){const t=s.name;if(vm.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;vm.set(t,s);for(const n of oh.values())_v(n,s);for(const n of G1.values())_v(n,s);return!0}function qm(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Bn(s){return s==null?!1:s.settings!==void 0}const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Wl("app","Firebase",Q1);class K1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const ho=H1;function ZE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:_m,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(n||(n=QE()),!n)throw Js.create("no-options");const c=oh.get(l);if(c){if(Fr(n,c.options)&&Fr(r,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new Ww(l);for(const y of vm.values())d.addComponent(y);const p=new K1(n,r,d);return oh.set(l,p),p}function WE(s=_m){const t=oh.get(s);if(!t&&s===_m&&QE())return ZE();if(!t)throw Js.create("no-app",{appName:s});return t}function $s(s,t,n){let r=F1[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}io(new Gr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Y1="firebase-heartbeat-database",X1=1,ql="firebase-heartbeat-store";let rm=null;function tT(){return rm||(rm=f1(Y1,X1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),rm}async function J1(s){try{const n=(await tT()).transaction(ql),r=await n.objectStore(ql).get(eT(s));return await n.done,r}catch(t){if(t instanceof as)ns.warn(t.message);else{const n=Js.create("idb-get",{originalErrorMessage:t?.message});ns.warn(n.message)}}}async function vv(s,t){try{const r=(await tT()).transaction(ql,"readwrite");await r.objectStore(ql).put(t,eT(s)),await r.done}catch(n){if(n instanceof as)ns.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});ns.warn(r.message)}}}function eT(s){return`${s.name}!${s.options.appId}`}const $1=1024,Z1=30;class W1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Z1){const l=nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:n,unsentEntries:r}=tb(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function tb(s,t=$1){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Tv(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Tv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bw()?qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Tv(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function nb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function ib(s){io(new Gr("platform-logger",t=>new p1(t),"PRIVATE")),io(new Gr("heartbeat",t=>new W1(t),"PRIVATE")),$s(ym,yv,s),$s(ym,yv,"esm2020"),$s("fire-js","")}ib("");var sb="firebase",rb="12.9.0";$s(sb,rb,"app");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ab=nT,iT=new Wl("auth","Firebase",nT());const lh=new jm("@firebase/auth");function ob(s,...t){lh.logLevel<=Pt.WARN&&lh.warn(`Auth (${ho}): ${s}`,...t)}function Xc(s,...t){lh.logLevel<=Pt.ERROR&&lh.error(`Auth (${ho}): ${s}`,...t)}function ni(s,...t){throw Hm(s,...t)}function Ii(s,...t){return Hm(s,...t)}function sT(s,t,n){const r={...ab(),[t]:n};return new Wl("auth","Firebase",r).create(t,{appName:s.name})}function es(s){return sT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return iT.create(s,...t)}function Et(s,t,...n){if(!s)throw Hm(t,...n)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Xc(t),new Error(t)}function is(s,t){s||Wi(t)}function Em(){return typeof self<"u"&&self.location?.href||""}function lb(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||Lw()||"connection"in navigator)?navigator.onLine:!0}function cb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,is(n>t,"Short delay should be less than long delay!"),this.isMobile=xw()||kw()}get(){return ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(s,t){is(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],db=new eu(3e4,6e4);function or(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function os(s,t,n,r,l={}){return aT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=tu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return Pw()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&co(s.emulatorConfig.host)&&(_.credentials="include"),rT.fetch()(await oT(s,s.config.apiHost,n,p),_)})}async function aT(s,t,n){s._canInitEmulator=!1;const r={...hb,...t};try{const l=new pb(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sT(s,T,_);ni(s,T)}}catch(l){if(l instanceof as)throw l;ni(s,"network-request-failed",{message:String(l)})}}async function nu(s,t,n,r,l={}){const c=await os(s,t,n,r,l);return"mfaPendingCredential"in c&&ni(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function oT(s,t,n,r){const l=`${t}${n}?${r}`,c=s,d=c.config.emulator?Fm(s.config,l):`${s.config.apiScheme}://${l}`;return fb.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function mb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),db.get())})}}function Bc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ii(s,t,r);return l.customData._tokenResponse=n,l}function Av(s){return s!==void 0&&s.enterprise!==void 0}class gb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return mb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yb(s,t){return os(s,"GET","/v2/recaptchaConfig",or(s,t))}async function _b(s,t){return os(s,"POST","/v1/accounts:delete",t)}async function uh(s,t){return os(s,"POST","/v1/accounts:lookup",t)}function Pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vb(s,t=!1){const n=_e(s),r=await n.getIdToken(t),l=Gm(r);Et(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Pl(am(l.auth_time)),issuedAtTime:Pl(am(l.iat)),expirationTime:Pl(am(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function Gm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=FE(n);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(s){const t=Gm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function so(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof as&&Eb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Eb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Tb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const t=s.auth,n=await s.getIdToken(),r=await so(s,uh(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?lT(l.providerUserInfo):[],d=Ab(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function Sb(s){const t=_e(s);await ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ab(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function lT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wb(s,t){const n=await aT(s,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await oT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&co(s.emulatorConfig.host)&&(y.credentials="include"),rT.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bb(s,t){return os(s,"POST","/v2/accounts:revokeToken",or(s,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=wv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await wb(t,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new $a;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Bs(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await so(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vb(this,t)}reload(){return Sb(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await so(this,_b(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:D,isAnonymous:H,providerData:$,stsTokenManager:tt}=n;Et(w&&tt,t,"internal-error");const et=$a.fromJSON(this.name,tt);Et(typeof w=="string",t,"internal-error"),Bs(r,t.name),Bs(l,t.name),Et(typeof D=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),Bs(c,t.name),Bs(d,t.name),Bs(p,t.name),Bs(y,t.name),Bs(_,t.name),Bs(T,t.name);const at=new ti({uid:w,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:T});return $&&Array.isArray($)&&(at.providerData=$.map(_t=>({..._t}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,n,r=!1){const l=new $a;l.updateFromServerResponse(n);const c=new ti({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await ch(c),c}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?lT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(r);const y=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const bv=new Map;function ts(s){is(s instanceof Function,"Expected a class definition");let t=bv.get(s);return t?(is(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,bv.set(s,t),t)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uT.type="NONE";const Rv=uT;function Jc(s,t,n){return`firebase:${s}:${t}:${n}`}class Za{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uh(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Za(ts(Rv),t,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ts(Rv);const d=Jc(r,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const D=await uh(t,{idToken:T}).catch(()=>{});if(!D)break;w=await ti._fromGetAccountInfoResponse(t,D,T)}else w=ti._fromJSON(t,T);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Za(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,r))}}function Iv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pT(t))return"Blackberry";if(gT(t))return"Webos";if(hT(t))return"Safari";if((t.includes("chrome/")||fT(t))&&!t.includes("edge/"))return"Chrome";if(mT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function cT(s=Ze()){return/firefox\//i.test(s)}function hT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fT(s=Ze()){return/crios\//i.test(s)}function dT(s=Ze()){return/iemobile/i.test(s)}function mT(s=Ze()){return/android/i.test(s)}function pT(s=Ze()){return/blackberry/i.test(s)}function gT(s=Ze()){return/webos/i.test(s)}function Qm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rb(s=Ze()){return Qm(s)&&!!window.navigator?.standalone}function Ib(){return zw()&&document.documentMode===10}function yT(s=Ze()){return Qm(s)||mT(s)||gT(s)||pT(s)||/windows phone/i.test(s)||dT(s)}function _T(s,t=[]){let n;switch(s){case"Browser":n=Iv(Ze());break;case"Worker":n=`${Iv(Ze())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${r}`}class Cb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Db(s,t={}){return os(s,"GET","/v2/passwordPolicy",or(s,t))}const Nb=6;class Ob{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Vb{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uh(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ch(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(es(this));const n=t?_e(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Db(this),n=new Ob(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ts(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ob(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zr(s){return _e(s)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kw(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mb(s){Dh=s}function vT(s){return Dh.loadJS(s)}function xb(){return Dh.recaptchaEnterpriseScript}function Ub(){return Dh.gapiScript}function Pb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Lb{constructor(){this.enterprise=new kb}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class kb{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const zb="recaptcha-enterprise",ET="NO_RECAPTCHA";class jb{constructor(t){this.type=zb,this.auth=Zr(t)}async verify(t="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{yb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new gb(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Av(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(ET)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lb().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&Av(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=xb();y.length!==0&&(y+=p),vT(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Dv(s,t,n,r=!1,l=!1){const c=new jb(s);let d;if(l)d=ET;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sm(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Dv(s,t,n,n==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Dv(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Bb(s,t){const n=qm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Fr(c,t??{}))return l;ni(l,"already-initialized")}return n.initialize({options:t})}function qb(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ts);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Hb(s,t,n){const r=Zr(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:p}=Fb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Fr(_,r.config.emulator)&&Fr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,co(d)?(YE(`${c}//${d}${y}`),XE("Auth",!0)):Gb()}function TT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Fb(s){const t=TT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Nv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Nv(d)}}}function Nv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Gb(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Km{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Qb(s,t){return os(s,"POST","/v1/accounts:signUp",t)}async function Kb(s,t){return nu(s,"POST","/v1/accounts:signInWithPassword",or(s,t))}async function Yb(s,t){return nu(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}async function Xb(s,t){return nu(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}class Hl extends Km{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Hl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Hl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,n,"signInWithPassword",Kb);case"emailLink":return Yb(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,r,"signUpPassword",Qb);case"emailLink":return Xb(t,{idToken:n,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(s,t){return nu(s,"POST","/v1/accounts:signInWithIdp",or(s,t))}const Jb="http://localhost";class Qr extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Wa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:Jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tu(n)}return t}}function $b(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zb(s){const t=Il(Cl(s)).link,n=t?Il(Cl(t)).deep_link_id:null,r=Il(Cl(s)).deep_link_id;return(r?Il(Cl(r)).link:null)||r||n||t||s}class Ym{constructor(t){const n=Il(Cl(t)),r=n.apiKey??null,l=n.oobCode??null,c=$b(n.mode??null);Et(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Zb(t);try{return new Ym(n)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,n){return Hl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Ym.parseLink(n);return Et(r,"argument-error"),Hl._fromEmailAndCode(t,r.code,r.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ST{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends iu{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Gs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class Qs extends iu{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ks extends iu{constructor(){super("twitter.com")}static credential(t,n){return Qr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function Wb(s,t){return nu(s,"POST","/v1/accounts:signUp",or(s,t))}class Kr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const c=await ti._fromIdTokenResponse(t,r,l),d=Ov(r);return new Kr({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=Ov(r);return new Kr({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function Ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends as{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new hh(t,n,r,l)}}function AT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,t,r):c})}async function tR(s,t,n=!1){const r=await so(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Kr._forOperation(s,"link",r)}async function eR(s,t,n=!1){const{auth:r}=s;if(Bn(r.app))return Promise.reject(es(r));const l="reauthenticate";try{const c=await so(s,AT(r,l,t,s),n);Et(c.idToken,r,"internal-error");const d=Gm(c.idToken);Et(d,r,"internal-error");const{sub:p}=d;return Et(s.uid===p,r,"user-mismatch"),Kr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),c}}async function wT(s,t,n=!1){if(Bn(s.app))return Promise.reject(es(s));const r="signIn",l=await AT(s,r,t),c=await Kr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function nR(s,t){return wT(Zr(s),t)}async function bT(s){const t=Zr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iR(s,t,n){if(Bn(s.app))return Promise.reject(es(s));const r=Zr(s),d=await Sm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wb).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&bT(s),y}),p=await Kr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function sR(s,t,n){return Bn(s.app)?Promise.reject(es(s)):nR(_e(s),fo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bT(s),r})}async function rR(s,t){return os(s,"POST","/v1/accounts:update",t)}async function aR(s,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=_e(s),c={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},d=await so(r,rR(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function oR(s,t,n,r){return _e(s).onIdTokenChanged(t,n,r)}function lR(s,t,n){return _e(s).beforeAuthStateChanged(t,n)}function uR(s,t,n,r){return _e(s).onAuthStateChanged(t,n,r)}function cR(s){return _e(s).signOut()}const fh="__sak";class RT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hR=1e3,fR=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ib()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fR):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const dR=IT;class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CT.type="SESSION";const DT=CT;function mR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Nh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,c)),y=await mR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Xm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class pR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Xm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const D=w;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function gR(s){Ci().location.href=s}function NT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function yR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _R(){return navigator?.serviceWorker?.controller||null}function vR(){return NT()?self:null}const OT="firebaseLocalStorageDb",ER=1,dh="firebaseLocalStorage",VT="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(s,t){return s.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function TR(){const s=indexedDB.deleteDatabase(OT);return new su(s).toPromise()}function Am(){const s=indexedDB.open(OT,ER);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:VT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?t(r):(r.close(),await TR(),t(await Am()))})})}async function Vv(s,t,n){const r=Oh(s,!0).put({[VT]:t,value:n});return new su(r).toPromise()}async function SR(s,t){const n=Oh(s,!1).get(t),r=await new su(n).toPromise();return r===void 0?null:r.value}function Mv(s,t){const n=Oh(s,!0).delete(t);return new su(n).toPromise()}const AR=800,wR=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>wR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(vR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yR(),!this.activeServiceWorker)return;this.sender=new pR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await Vv(t,fh,"1"),await Mv(t,fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>SR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Oh(l,!1).getAll();return new su(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const bR=MT;new eu(3e4,6e4);function RR(s,t){return t?ts(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Jm extends Km{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function IR(s){return wT(s.auth,new Jm(s),s.bypassAuthState)}function CR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),eR(n,new Jm(s),s.bypassAuthState)}async function DR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),tR(n,new Jm(s),s.bypassAuthState)}class xT{constructor(t,n,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IR;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:ni(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NR=new eu(2e3,1e4);class Xa extends xT{constructor(t,n,r,l,c){super(t,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NR.get())};t()}}Xa.currentPopupAction=null;const OR="pendingRedirect",$c=new Map;class VR extends xT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const r=await MR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MR(s,t){const n=PR(t),r=UR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function xR(s,t){$c.set(s._key(),t)}function UR(s){return ts(s._redirectPersistence)}function PR(s){return Jc(OR,s.config.apiKey,s.name)}async function LR(s,t,n=!1){if(Bn(s.app))return Promise.reject(es(s));const r=Zr(s),l=RR(r,t),d=await new VR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const kR=600*1e3;class zR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!UT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function UT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function jR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(s);default:return!1}}async function BR(s,t={}){return os(s,"GET","/v1/projects",t)}const qR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function FR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await BR(s);for(const n of t)try{if(GR(n))return}catch{}ni(s,"unauthorized-domain")}function GR(s){const t=Em(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!HR.test(n))return!1;if(qR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const QR=new eu(3e4,6e4);function Uv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function KR(s){return new Promise((t,n)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(Ii(s,"network-request-failed"))},timeout:QR.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=Pb("iframefcb");return Ci()[l]=()=>{gapi.load?r():n(Ii(s,"network-request-failed"))},vT(`${Ub()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function YR(s){return Zc=Zc||KR(s),Zc}const XR=new eu(5e3,15e3),JR="__/auth/iframe",$R="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Fm(t,$R):`https://${s.config.authDomain}/${JR}`,r={apiKey:t.apiKey,appName:s.name,v:ho},l=WR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${tu(r).slice(1)}`}async function eI(s){const t=await YR(s),n=Ci().gapi;return Et(n,s,"internal-error"),t.open({where:document.body,url:tI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},XR.get());function y(){Ci().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const nI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,sI=600,rI="_blank",aI="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oI(s,t,n,r=iI,l=sI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...nI,width:r.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();n&&(p=fT(_)?rI:n),cT(_)&&(t=t||aI,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[H,$])=>`${D}${H}=${$},`,"");if(Rb(_)&&p!=="_self")return lI(t||"",p),new Pv(null);const w=window.open(t||"",p,T);Et(w,s,"popup-blocked");try{w.focus()}catch{}return new Pv(w)}function lI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const uI="__/auth/handler",cI="emulator/auth/handler",hI=encodeURIComponent("fac");async function Lv(s,t,n,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ho,eventId:l};if(t instanceof ST){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Qw(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(t instanceof iu){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),_=y?`#${hI}=${encodeURIComponent(y)}`:"";return`${fI(s)}?${tu(p).slice(1)}${_}`}function fI({config:s}){return s.emulator?Fm(s,cI):`https://${s.authDomain}/${uI}`}const om="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=LR,this._overrideRedirectResult=xR}async _openPopup(t,n,r,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Lv(t,n,r,Em(),l);return oI(t,c,Xm())}async _openRedirect(t,n,r,l){await this._originValidation(t);const c=await Lv(t,n,r,Em(),l);return gR(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await eI(t),r=new zR(t);return n.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(om,{type:om},l=>{const c=l?.[0]?.[om];c!==void 0&&n(!!c),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yT()||hT()||Qm()}}const mI=dI;var kv="@firebase/auth",zv="1.12.0";class pI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(s){io(new Gr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(s)},_=new Vb(r,l,c,y);return qb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),io(new Gr("auth-internal",t=>{const n=Zr(t.getProvider("auth").getImmediate());return(r=>new pI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(kv,zv,gI(s)),$s(kv,zv,"esm2020")}const _I=300,vI=KE("authIdTokenMaxAge")||_I;let jv=null;const EI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vI)return;const l=n?.token;jv!==l&&(jv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function TI(s=WE()){const t=qm(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Bb(s,{popupRedirectResolver:mI,persistence:[bR,dR,DT]}),r=KE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=EI(c.toString());lR(n,d,()=>d(n.currentUser)),oR(n,p=>d(p))}}const l=GE("auth");return l&&Hb(n,`http://${l}`),n}function SI(){return document.getElementsByTagName("head")?.[0]??document}Mb({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ii("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",SI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,PT;(function(){var s;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,M,N){for(var A=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)A[gt-2]=arguments[gt];return b.prototype[M].apply(x,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)x[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;M<16;++M)x[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],M=I.g[2];let N=I.g[3],A;A=b+(N^C&(M^N))+x[0]+3614090360&4294967295,b=C+(A<<7&4294967295|A>>>25),A=N+(M^b&(C^M))+x[1]+3905402710&4294967295,N=b+(A<<12&4294967295|A>>>20),A=M+(C^N&(b^C))+x[2]+606105819&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(b^M&(N^b))+x[3]+3250441966&4294967295,C=M+(A<<22&4294967295|A>>>10),A=b+(N^C&(M^N))+x[4]+4118548399&4294967295,b=C+(A<<7&4294967295|A>>>25),A=N+(M^b&(C^M))+x[5]+1200080426&4294967295,N=b+(A<<12&4294967295|A>>>20),A=M+(C^N&(b^C))+x[6]+2821735955&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(b^M&(N^b))+x[7]+4249261313&4294967295,C=M+(A<<22&4294967295|A>>>10),A=b+(N^C&(M^N))+x[8]+1770035416&4294967295,b=C+(A<<7&4294967295|A>>>25),A=N+(M^b&(C^M))+x[9]+2336552879&4294967295,N=b+(A<<12&4294967295|A>>>20),A=M+(C^N&(b^C))+x[10]+4294925233&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(b^M&(N^b))+x[11]+2304563134&4294967295,C=M+(A<<22&4294967295|A>>>10),A=b+(N^C&(M^N))+x[12]+1804603682&4294967295,b=C+(A<<7&4294967295|A>>>25),A=N+(M^b&(C^M))+x[13]+4254626195&4294967295,N=b+(A<<12&4294967295|A>>>20),A=M+(C^N&(b^C))+x[14]+2792965006&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(b^M&(N^b))+x[15]+1236535329&4294967295,C=M+(A<<22&4294967295|A>>>10),A=b+(M^N&(C^M))+x[1]+4129170786&4294967295,b=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(b^C))+x[6]+3225465664&4294967295,N=b+(A<<9&4294967295|A>>>23),A=M+(b^C&(N^b))+x[11]+643717713&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^b&(M^N))+x[0]+3921069994&4294967295,C=M+(A<<20&4294967295|A>>>12),A=b+(M^N&(C^M))+x[5]+3593408605&4294967295,b=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(b^C))+x[10]+38016083&4294967295,N=b+(A<<9&4294967295|A>>>23),A=M+(b^C&(N^b))+x[15]+3634488961&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^b&(M^N))+x[4]+3889429448&4294967295,C=M+(A<<20&4294967295|A>>>12),A=b+(M^N&(C^M))+x[9]+568446438&4294967295,b=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(b^C))+x[14]+3275163606&4294967295,N=b+(A<<9&4294967295|A>>>23),A=M+(b^C&(N^b))+x[3]+4107603335&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^b&(M^N))+x[8]+1163531501&4294967295,C=M+(A<<20&4294967295|A>>>12),A=b+(M^N&(C^M))+x[13]+2850285829&4294967295,b=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(b^C))+x[2]+4243563512&4294967295,N=b+(A<<9&4294967295|A>>>23),A=M+(b^C&(N^b))+x[7]+1735328473&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^b&(M^N))+x[12]+2368359562&4294967295,C=M+(A<<20&4294967295|A>>>12),A=b+(C^M^N)+x[5]+4294588738&4294967295,b=C+(A<<4&4294967295|A>>>28),A=N+(b^C^M)+x[8]+2272392833&4294967295,N=b+(A<<11&4294967295|A>>>21),A=M+(N^b^C)+x[11]+1839030562&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^b)+x[14]+4259657740&4294967295,C=M+(A<<23&4294967295|A>>>9),A=b+(C^M^N)+x[1]+2763975236&4294967295,b=C+(A<<4&4294967295|A>>>28),A=N+(b^C^M)+x[4]+1272893353&4294967295,N=b+(A<<11&4294967295|A>>>21),A=M+(N^b^C)+x[7]+4139469664&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^b)+x[10]+3200236656&4294967295,C=M+(A<<23&4294967295|A>>>9),A=b+(C^M^N)+x[13]+681279174&4294967295,b=C+(A<<4&4294967295|A>>>28),A=N+(b^C^M)+x[0]+3936430074&4294967295,N=b+(A<<11&4294967295|A>>>21),A=M+(N^b^C)+x[3]+3572445317&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^b)+x[6]+76029189&4294967295,C=M+(A<<23&4294967295|A>>>9),A=b+(C^M^N)+x[9]+3654602809&4294967295,b=C+(A<<4&4294967295|A>>>28),A=N+(b^C^M)+x[12]+3873151461&4294967295,N=b+(A<<11&4294967295|A>>>21),A=M+(N^b^C)+x[15]+530742520&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^b)+x[2]+3299628645&4294967295,C=M+(A<<23&4294967295|A>>>9),A=b+(M^(C|~N))+x[0]+4096336452&4294967295,b=C+(A<<6&4294967295|A>>>26),A=N+(C^(b|~M))+x[7]+1126891415&4294967295,N=b+(A<<10&4294967295|A>>>22),A=M+(b^(N|~C))+x[14]+2878612391&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~b))+x[5]+4237533241&4294967295,C=M+(A<<21&4294967295|A>>>11),A=b+(M^(C|~N))+x[12]+1700485571&4294967295,b=C+(A<<6&4294967295|A>>>26),A=N+(C^(b|~M))+x[3]+2399980690&4294967295,N=b+(A<<10&4294967295|A>>>22),A=M+(b^(N|~C))+x[10]+4293915773&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~b))+x[1]+2240044497&4294967295,C=M+(A<<21&4294967295|A>>>11),A=b+(M^(C|~N))+x[8]+1873313359&4294967295,b=C+(A<<6&4294967295|A>>>26),A=N+(C^(b|~M))+x[15]+4264355552&4294967295,N=b+(A<<10&4294967295|A>>>22),A=M+(b^(N|~C))+x[6]+2734768916&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~b))+x[13]+1309151649&4294967295,C=M+(A<<21&4294967295|A>>>11),A=b+(M^(C|~N))+x[4]+4149444226&4294967295,b=C+(A<<6&4294967295|A>>>26),A=N+(C^(b|~M))+x[11]+3174756917&4294967295,N=b+(A<<10&4294967295|A>>>22),A=M+(b^(N|~C))+x[2]+718787259&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let M=this.h,N=0;for(;N<b;){if(M==0)for(;N<=C;)l(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<b;)if(x[M++]=I.charCodeAt(N++),M==this.blockSize){l(this,x),M=0;break}}else for(;N<b;)if(x[M++]=I[N++],M==this.blockSize){l(this,x),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let x=!0;for(let M=I.length-1;M>=0;M--){const N=I[M]|0;x&&N==b||(C[M]=N,x=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return et(_(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return et(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let x=w;for(let N=0;N<I.length;N+=8){var M=Math.min(8,I.length-N);const A=parseInt(I.substring(N,N+M),b);M<8?(M=_(Math.pow(b,M)),x=x.j(M).add(_(A))):(x=x.j(C),x=x.add(_(A)))}return x}var w=y(0),D=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(tt(this))return-et(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(tt(this))return"-"+et(this).toString(I);const b=_(Math.pow(I,6));var C=this;let x="";for(;;){const M=mt(C,b).g;C=at(C,M.j(b));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,$(C))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=at(this,I),tt(I)?-1:$(I)?0:1};function et(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new d(C,~I.h).add(D)}s.abs=function(){return tt(this)?et(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let M=0;M<=b;M++){let N=x+(this.i(M)&65535)+(I.i(M)&65535),A=(N>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);x=A>>>16,N&=65535,A&=65535,C[M]=A<<16|N}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(I,b){return I.add(et(b))}s.j=function(I){if($(this)||$(I))return w;if(tt(this))return tt(I)?et(this).j(et(I)):et(et(this).j(I));if(tt(I))return et(this.j(et(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<I.g.length;M++){const N=this.i(x)>>>16,A=this.i(x)&65535,gt=I.i(M)>>>16,Ht=I.i(M)&65535;C[2*x+2*M]+=A*Ht,_t(C,2*x+2*M),C[2*x+2*M+1]+=N*Ht,_t(C,2*x+2*M+1),C[2*x+2*M+1]+=A*gt,_t(C,2*x+2*M+1),C[2*x+2*M+2]+=N*gt,_t(C,2*x+2*M+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function _t(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ht(I,b){this.g=I,this.h=b}function mt(I,b){if($(b))throw Error("division by zero");if($(I))return new ht(w,w);if(tt(I))return b=mt(et(I),b),new ht(et(b.g),et(b.h));if(tt(b))return b=mt(I,et(b)),new ht(et(b.g),b.h);if(I.g.length>30){if(tt(I)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,x=b;x.l(I)<=0;)C=qt(C),x=qt(x);var M=Dt(C,1),N=Dt(x,1);for(x=Dt(x,2),C=Dt(C,2);!$(x);){var A=N.add(x);A.l(I)<=0&&(M=M.add(C),N=A),x=Dt(x,1),C=Dt(C,1)}return b=at(I,M.j(b)),new ht(M,b)}for(M=w;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=_(C),A=N.j(b);tt(A)||A.l(I)>0;)C-=x,N=_(C),A=N.j(b);$(N)&&(N=D),M=M.add(N),I=at(I,A)}return new ht(M,I)}s.B=function(I){return mt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function qt(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function Dt(I,b){const C=b>>5;b%=32;const x=I.g.length-C,M=[];for(let N=0;N<x;N++)M[N]=b>0?I.i(N+C)>>>b|I.i(N+C+1)<<32-b:I.i(N+C);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Zs=d}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LT,Dl,kT,Wc,wm,zT,jT,BT;(function(){var s,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break t;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,j){for(var W=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)W[wt-2]=arguments[wt];return m.prototype[P].apply(S,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function $(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const j=P.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=P[W]}else u.push(P)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function at(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const S=ht.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ht=new tt(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,Dt=!1,I=new _t,b=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){et(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function gt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(gt,M),gt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&gt.Z.h.call(this)},gt.prototype.h=function(){gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ht="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++B,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Mt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let j=0;j<G.length;j++)v=G[j],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,S,P){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=Tt(u,m,S,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new Z(m,this.src,j,!!S,P),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(S,P,1),j&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Tt(u,m,v,S){for(let P=0;P<u.length;++P){const j=u[P];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==S)return P}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(u,m,v,S,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ae(u,m[j],v,S,P);return null}return v=So(v),u&&u[Ht]?u.J(m,v,p(S)?!!S.capture:!1,P):hr(u,m,v,!1,S,P)}function hr(u,m,v,S,P,j){if(!m)throw Error("Invalid event type");const W=p(P)?!!P.capture:!!P;let wt=fr(u);if(wt||(u[Ct]=wt=new it(u)),v=wt.add(m,v,S,W,j),v.proxy)return v;if(S=ea(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)N||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(si(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function u(v){return m.call(u.src,u.listener,v)}const m=Eo;return u}function na(u,m,v,S,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)na(u,m[j],v,S,P);else S=p(S)?!!S.capture:!!S,v=So(v),u&&u[Ht]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=Tt(m,v,S,P),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,v,S,P)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ht])ct(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(si(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=fr(m))?(ct(v,u),v.h==0&&(v.src=null,m[Ct]=null)):ot(u)}}}function si(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function Eo(u,m){if(u.da)u=!0;else{m=new gt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ia(u),u=v.call(S,m)}return u}function fr(u){return u=u[Ct],u instanceof it?u:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(u){return typeof u=="function"?u:(u[To]||(u[To]=function(m){return u.handleEvent(m)}),u[To])}function ve(){x.call(this),this.i=new it(this),this.M=this,this.G=null}w(ve,x),ve.prototype[Ht]=!0,ve.prototype.removeEventListener=function(u,m,v,S){na(this,u,m,v,S)};function Ve(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var P=m;m=new M(S,u),nt(m,P)}P=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],P=ls(j,S,!0,m)&&P;if(j=m.g=u,P=ls(j,S,!0,m)&&P,P=ls(j,S,!1,m)&&P,v)for(W=0;W<v.length;W++)j=m.g=v[W],P=ls(j,S,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ot(v[S]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ve.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ls(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const wt=W.listener,me=W.ha||W.src;W.fa&&ct(u.i,W),P=wt.call(me,S)!==!1&&P}}return P&&!S.defaultPrevented}function Jh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function fu(u){u.g=Jh(()=>{u.g=null,u.i&&(u.i=!1,fu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){x.call(this),this.h=u,this.g={}}w(dr,x);var Ao=[];function wo(u){It(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),wo(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,$h=d.JSON.parse,du=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function mu(){}function pu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}w(je,M);function bn(){M.call(this,"c")}w(bn,M);var de={},gu=null;function sa(){return gu=gu||new ve}de.Ia="serverreachability";function yu(u){M.call(this,de.Ia,u)}w(yu,M);function ri(u){const m=sa();Ve(m,new yu(m))}de.STAT_EVENT="statevent";function mr(u,m){M.call(this,de.STAT_EVENT,u),this.stat=m}w(mr,M);function Ee(u){const m=sa();Ve(m,new mr(m,u))}de.Ja="timingevent";function ai(u,m){M.call(this,de.Ja,u),this.size=m}w(ai,M);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Zh(u,m,v,S,P,j){u.info(function(){if(u.g)if(j){var W="",wt=j.split("&");for(let Qt=0;Qt<wt.length;Qt++){var me=wt[Qt].split("=");if(me.length>1){const oe=me[0];me=me[1];const Dn=oe.split("_");W=Dn.length>=2&&Dn[1]=="type"?W+(oe+"="+me+"&"):W+(oe+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function _u(u,m,v,S,P,j,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+j+" "+W})}function li(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wh(u,v)+(S?" "+S:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Wh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return us(j)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function yr(){}w(yr,mu),yr.prototype.g=function(){return new XMLHttpRequest},Ro=new yr;function xi(u){return encodeURIComponent(String(u))}function vu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Te={},Ue={};function ui(u,m,v){u.M=1,u.A=_r(Ae(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),ci(u),u.B=Ae(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ua(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Gn,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let j=0;j<P.length;j++){const W=ae(v,P[j],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Zh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Yn(this.g),me=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||me==7||(me==8||Qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=tf(this);if(this.o=m==200,_u(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(S)){var j=S;break e}}j=null}if(u=j)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,Ee(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Tu(this,v),oe==Ue){wt==4&&(this.m=4,Ee(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,oe,null),fi(this,oe);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(W),W.P=!0,Ee(11))}}else li(this.i,this.l,v,null),fi(this,v);wt==4&&dn(this),this.o&&!this.K&&(wt==4?Nu(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),dn(this),Rn(this)}}}catch{}};function tf(u){if(!Eu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const S=m.length,P=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<S;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(P&&j==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ue:(v=Number(m.substring(v,S)),isNaN(v)?Te:(S+=1,S+v>m.length?Ue:(m=m.slice(S,S+v),u.C=S+v,m)))}Fn.prototype.cancel=function(){this.K=!0,dn(this)};function ci(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ri(),Ee(17)),dn(this),this.m=2,Rn(this)):aa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Nu(u.j,u)}function dn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||mi(v.h,u))){if(!u.L&&mi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),ys(v);else break t;br(v),Ee(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&ma(v),!A(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Qt=P[m];const oe=Qt[0];if(!(oe<=v.K))if(v.K=oe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Dn=Qt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=Qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=Qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=u.g;if(Jn){const Rr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var j=S.h;j.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Do(j,j.h),j.h=null))}if(S.G){const pa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(S.wa=pa,Yt(S.J,S.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var W=u;if(S.na=Mu(S,S.L?S.ba:null,S.W),W.L){No(S.h,W);var wt=W,me=S.O;me&&(wt.H=me),wt.D&&(hi(wt),ci(wt)),S.g=W}else Cu(S);v.i.length>0&&vi(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ei(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ei(v,7):zo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ri(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,j=null;S>=0?(P=u[v].substring(0,S),j=u[v].substring(S+1)):P=u[v],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Vo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),cs(this,m[4]),this.h=pi(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,la,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?Mo:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,wu)),u.join("")},mn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Pe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let W=0;W<P.length;){const wt=P[W++];wt=="."?S&&W==P.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&W==P.length&&j.push("")):(j.push(wt),S=!0)}S=j.join("/")}else S=P}return v?m.h=S:v=u.i.toString()!=="",v?Vo(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new mn(u)}function Pe(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof fs?(u.i=m,ca(u.i,u.l)):(v||(m=vr(m,hs)),u.i=new fs(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function _r(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,Au=/[#\?:]/g,Mo=/[#\?]/g,hs=/[#\?@]/g,wu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return an(u),m=ds(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)};function Uo(u,m){an(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=ds(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Uo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=xi(v);v=Uo(this,v);for(let j=0;j<v.length;j++){let W=P;v[j]!==""&&(W+="="+xi(v[j])),u.push(W)}}return this.i=u.join("&")};function Ru(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(bu(this,S),ua(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const S=new Image;S.onload=T(In,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(In,v,"TestLoadImage: error",!1,m,S),S.onabort=T(In,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Po(u,m){const v=new Hn,S=new AbortController,P=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(j=>{clearTimeout(P),j.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function ms(){this.g=new du}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(gi,mu),gi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Er,ve),s=Er.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Kn(this),this.readyState==3&&ha(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},s.Na=function(u){this.g&&(this.response=u,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return It(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Cn(v),typeof u=="string"?v!=null&&xi(v):Yt(u,m,v))}function $t(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($t,ve);var yi=/^https?$/i,Lo=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Sr(this,j);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())v.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Sr(this,j)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Ui(u)}function ko(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=j===0){let W=String(u.D).match(Su)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),S=!yi.test(W?W.toLowerCase():"")}v=S}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var P=Yn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",ko(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$h(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(A(u[S]))continue;var v=vu(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[P]||[];m[P]=j,j.push(v)}Mt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Ee(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),vi(this)};function zo(u){if(fa(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),wr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=_r(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Vu(u)}function ys(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function fa(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||b(),Dt||(qt(),Dt=!0),I.add(m,u),u.D=0}}function da(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Iu(this,P,m),v=Ae(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),wr(this,v),j&&(this.R?m="headers="+xi(Cn(j))+"&"+m:this.u&&Tr(v,this.u,j)),Do(this.h,P),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),P.U=!0,ui(P,v,null)):ui(P,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const S=Ae(u.J);Yt(S,"SID",u.M),Yt(S,"RID",v),Yt(S,"AID",u.K),wr(u,S),u.u&&u.o&&Tr(S,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),ui(v,S,m)}function wr(u,m){u.H&&It(u.H,function(v,S){Yt(m,S,v)}),u.l&&It({},function(v,S){Yt(m,S,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=P[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let Qt=!0;for(let oe=0;oe<v;oe++){var j=P[oe].g;const Dn=P[oe].map;if(j-=wt,j<0)wt=Math.max(0,P[oe].g-100),Qt=!1;else try{j="req"+j+"_"||"";try{var W=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of W){let Jn=Xn;p(Xn)&&(Jn=us(Xn)),me.push(j+Ti+"="+encodeURIComponent(Jn))}}catch(Ti){throw me.push(j+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(Dn)}}if(Qt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||b(),Dt||(qt(),Dt=!0),I.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ys(this),Du(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Du(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Ae(m)),v.u=null,v.R=!0,ra(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),br(this),Ee(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){ma(u),Bo(u),u.g=null;var S=2}else if(mi(u.h,m))v=m.G,No(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=sa(),Ve(S,new ai(S,v)),vi(u)}else Cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&da(u,m)||S==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Ou(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const P=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(S,"https"),_r(S),P?Qn(S.toString(),v):Po(S.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),Vu(u),fa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Vu(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var S=v instanceof mn?Ae(v):new mn(v);if(S.g!="")m&&(S.g=m+"."+S.g),cs(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new mn(null);S&&Pe(j,S),m&&(j.g=m),P&&cs(j,P),v&&(j.h=v),S=j}return v=u.G,m=u.wa,v&&m&&Yt(S,v,m),Yt(S,"VER",u.ka),wr(u,S),S}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new gi({ab:v})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ve.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}w(tn,ve),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){zo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Se(m.Ya++,u)),m.I==3&&vi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,tn.Z.N.call(this)};function Pu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Pu,je);function Lu(){bn.call(this),this.status=1}w(Lu,bn);function Li(u){this.g=u}w(Li,Uu),Li.prototype.ra=function(){Ve(this.g,"a")},Li.prototype.qa=function(u){Ve(this.g,new Pu(u))},Li.prototype.pa=function(u){Ve(this.g,new Lu)},Li.prototype.oa=function(){Ve(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,BT=function(){return new _s},jT=function(){return sa()},zT=de,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Wc=gr,bo.COMPLETE="complete",kT=bo,pu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Dl=pu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,LT=$t}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let mo="12.9.0";function AI(s){mo=s}const Yr=new jm("@firebase/firestore");function Ga(){return Yr.logLevel}function rt(s,...t){if(Yr.logLevel<=Pt.DEBUG){const n=t.map($m);Yr.debug(`Firestore (${mo}): ${s}`,...n)}}function ss(s,...t){if(Yr.logLevel<=Pt.ERROR){const n=t.map($m);Yr.error(`Firestore (${mo}): ${s}`,...n)}}function Xr(s,...t){if(Yr.logLevel<=Pt.WARN){const n=t.map($m);Yr.warn(`Firestore (${mo}): ${s}`,...n)}}function $m(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function pt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,qT(s,r,n)}function qT(s,t,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Bt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||qT(t,l,r)}function St(s,t){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends as{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class HT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class bI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Di,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Di)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new HT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class II{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new II(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const r=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=NI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=t.charAt(l[c]%62))}return r}}function Lt(s,t){return s<t?-1:s>t?1:0}function bm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return lm(l)===lm(c)?Lt(l,c):lm(l)?1:-1}return Lt(s.length,t.length)}const OI=55296,VI=57343;function lm(s){const t=s.charCodeAt(0);return t>=OI&&t<=VI}function ro(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const Hv="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&pt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const c=Ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Lt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),l=Ri.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ri{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return MI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Ke([Hv])}static fromServerFormat(t){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new st(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}function FT(s,t,n){if(!n)throw new st(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function xI(s,t,n,r){if(t===!0&&r===!0)throw new st(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Fv(s){if(!ft.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gv(s){if(ft.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function GT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Vi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(s);throw new st(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Ne(s,t){const n={typeString:s};return t&&(n.value=t),n}function ru(s,t){if(!GT(s))throw new st(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new st(Q.INVALID_ARGUMENT,n);return!0}const Qv=-62135596800,Kv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Kv);return new re(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Qv)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function UI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new er(l,ft.empty(),t)}function PI(s){return new er(s.readTime,s.key,Fl)}class er{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new er(vt.min(),ft.empty(),Fl)}static max(){return new er(vt.max(),ft.empty(),Fl)}}function LI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(s.documentKey,t.documentKey),n!==0?n:Lt(s.largestBatchId,t.largestBatchId))}const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==kI)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(y=>r(y)))})),d=!0,c===l&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((l=>l?J.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;n(t[_]).next((T=>{d[_]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new J(((r,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):r()};c()}))}}function jI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const Wm=-1;function au(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function BI(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const QT="";function qI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Yv(t)),t=HI(s.get(n),t);return Yv(t)}function HI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case QT:n+="";break;default:n+=c}}return n}function Yv(s){return s+QT+""}function Xv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function lr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function KT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,l,c){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,c){return new Qe(t??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,r,l,c){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new YT("Invalid base64 string: "+c):c}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const FI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if(Bt(!!s,39018),typeof s=="string"){let t=0;const n=FI.exec(s);if(Bt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const XT="server_timestamp",JT="__type__",$T="__previous_value__",ZT="__local_write_time__";function tp(s){return(s?.mapValue?.fields||{})[JT]?.stringValue===XT}function xh(s){const t=s.mapValue.fields[$T];return tp(t)?xh(t):t}function Gl(s){const t=nr(s.mapValue.fields[ZT].timestampValue);return new re(t.seconds,t.nanos)}class GI{constructor(t,n,r,l,c,d,p,y,_,T,w){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=w}}const ph="(default)";class Ql{constructor(t,n){this.projectId=t,this.database=n||ph}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ph}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}function QI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new st(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,t)}const WT="__type__",KI="__max__",Fc={mapValue:{}},t0="__vector__",gh="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tp(s)?4:XI(s)?9007199254740991:YI(s)?10:11:pt(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const n=sr(s);if(n!==sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Gl(s).isEqual(Gl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=nr(l.timestampValue),p=nr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ir(l.bytesValue).isEqual(ir(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?mh(d)===mh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Xv(d)!==Xv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Mi(d[y],p[y])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function Kl(s,t){return(s.values||[]).find((n=>Mi(n,t)))!==void 0}function ao(s,t){if(s===t)return 0;const n=sr(s),r=sr(t);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return $v(s.timestampValue,t.timestampValue);case 4:return $v(Gl(s),Gl(t));case 5:return bm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ir(c),y=ir(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=Lt(p[_],y[_]);if(T!==0)return T}return Lt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(ye(c.latitude),ye(d.latitude));return p!==0?p:Lt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Zv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[gh]?.arrayValue,T=y[gh]?.arrayValue,w=Lt(_?.values?.length||0,T?.values?.length||0);return w!==0?w:Zv(_,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const D=bm(y[w],T[w]);if(D!==0)return D;const H=ao(p[y[w]],_[T[w]]);if(H!==0)return H}return Lt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:n})}}function $v(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Lt(s,t);const n=nr(s),r=nr(t),l=Lt(n.seconds,r.seconds);return l!==0?l:Lt(n.nanos,r.nanos)}function Zv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=ao(n[l],r[l]);if(c)return c}return Lt(n.length,r.length)}function oo(s){return Rm(s)}function Rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ft.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Rm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Rm(n.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function th(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(s);return t?16+th(t):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+th(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return lr(r.fields,((c,d)=>{l+=c.length+th(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function Wv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Im(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function tE(s){return!!s&&"nullValue"in s}function eE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function YI(s){return(s?.mapValue?.fields||{})[WT]?.stringValue===t0}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ll(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ll(s.arrayValue.values[n]);return t}return{...s}}function XI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(n)}setAll(t){let n=Ke.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Ll(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(t){const n=this.field(t.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){lr(n,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new nn(Ll(this.value))}}function e0(s){const t=[];return lr(s.fields,((n,r)=>{const l=new Ke([n]);if(eh(r)){const c=e0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class ze{constructor(t,n,r,l,c,d,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new ze(t,0,vt.min(),vt.min(),vt.min(),nn.empty(),0)}static newFoundDocument(t,n,r,l){return new ze(t,1,n,vt.min(),r,l,0)}static newNoDocument(t,n){return new ze(t,2,n,vt.min(),vt.min(),nn.empty(),0)}static newUnknownDocument(t,n){return new ze(t,3,n,vt.min(),vt.min(),nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(t,n){this.position=t,this.inclusive=n}}function nE(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),n.key):r=ao(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Mi(s.position[n],t.position[n]))return!1;return!0}class Yl{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class n0{}class De extends n0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ZI(t,n,r):n==="array-contains"?new eC(t,r):n==="in"?new nC(t,r):n==="not-in"?new iC(t,r):n==="array-contains-any"?new sC(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new WI(t,r):new tC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends n0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return i0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i0(s){return s.op==="and"}function s0(s){return $I(s)&&i0(s)}function $I(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function Cm(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(s0(s))return s.filters.map((t=>Cm(t))).join(",");{const t=s.filters.map((n=>Cm(n))).join(",");return`${s.op}(${t})`}}function r0(s,t){return s instanceof De?(function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&r0(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function a0(s){return s instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(a0).join(" ,")+"}"})(s):"Filter"}class ZI extends De{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class WI extends De{constructor(t,n){super(t,"in",n),this.keys=o0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tC extends De{constructor(t,n){super(t,"not-in",n),this.keys=o0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function o0(s,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class eC extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ep(n)&&Kl(n.arrayValue,this.value)}}class nC extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class iC extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class sC extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kl(this.value.arrayValue,r)))}}class rC{constructor(t,n=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function sE(s,t=null,n=[],r=[],l=null,c=null,d=null){return new rC(s,t,n,r,l,c,d)}function np(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Cm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),au(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>oo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>oo(r))).join(",")),t.Te=n}return t.Te}function ip(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!JI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!r0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!iE(s.startAt,t.startAt)&&iE(s.endAt,t.endAt)}function Dm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(t,n=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function aC(s,t,n,r,l,c,d,p){return new yo(s,t,n,r,l,c,d,p)}function sp(s){return new yo(s)}function rE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oC(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function l0(s){return s.collectionGroup!==null}function kl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Ke.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Yl(c,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Yl(Ke.keyField(),r))}return t.Ie}function Ni(s){const t=St(s);return t.Ee||(t.Ee=lC(t,kl(s))),t.Ee}function lC(s,t){if(s.limitType==="F")return sE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Yl(l.field,c)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return sE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Nm(s,t){const n=s.filters.concat([t]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function uC(s,t){const n=s.explicitOrderBy.concat([t]);return new yo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function _h(s,t,n){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Uh(s,t){return ip(Ni(s),Ni(t))&&s.limitType===t.limitType}function u0(s){return`${np(Ni(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>a0(l))).join(", ")}]`),au(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>oo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>oo(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Ph(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of kl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=nE(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,kl(r),l)||r.endAt&&!(function(d,p,y){const _=nE(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,kl(r),l))})(s,t)}function cC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function c0(s){return(t,n)=>{let r=!1;for(const l of kl(s)){const c=hC(l,t,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function hC(s,t,n){const r=s.field.isKeyField()?ft.comparator(t.key,n.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ao(y,_):pt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}class Wr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((n,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}const fC=new ue(ft.comparator);function rs(){return fC}const h0=new ue(ft.comparator);function Nl(...s){let t=h0;for(const n of s)t=t.insert(n.key,n);return t}function f0(s){let t=h0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Hr(){return zl()}function d0(){return zl()}function zl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const dC=new ue(ft.comparator),mC=new xe(ft.comparator);function kt(...s){let t=mC;for(const n of s)t=t.add(n);return t}const pC=new xe(Lt);function gC(){return pC}function rp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(t)?"-0":t}}function m0(s){return{integerValue:""+s}}function yC(s,t){return BI(t)?m0(t):rp(s,t)}class Lh{constructor(){this._=void 0}}function _C(s,t,n){return s instanceof Xl?(function(l,c){const d={fields:{[JT]:{stringValue:XT},[ZT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tp(c)&&(c=xh(c)),c&&(d.fields[$T]=c),{mapValue:d}})(n,t):s instanceof Jl?g0(s,t):s instanceof $l?y0(s,t):(function(l,c){const d=p0(l,c),p=aE(d)+aE(l.Ae);return Im(d)&&Im(l.Ae)?m0(p):rp(l.serializer,p)})(s,t)}function vC(s,t,n){return s instanceof Jl?g0(s,t):s instanceof $l?y0(s,t):n}function p0(s,t){return s instanceof vh?(function(r){return Im(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Xl extends Lh{}class Jl extends Lh{constructor(t){super(),this.elements=t}}function g0(s,t){const n=_0(t);for(const r of s.elements)n.some((l=>Mi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Lh{constructor(t){super(),this.elements=t}}function y0(s,t){let n=_0(t);for(const r of s.elements)n=n.filter((l=>!Mi(l,r)));return{arrayValue:{values:n}}}class vh extends Lh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function aE(s){return ye(s.integerValue||s.doubleValue)}function _0(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class EC{constructor(t,n){this.field=t,this.transform=n}}function TC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Jl&&l instanceof Jl||r instanceof $l&&l instanceof $l?ro(r.elements,l.elements,Mi):r instanceof vh&&l instanceof vh?Mi(r.Ae,l.Ae):r instanceof Xl&&l instanceof Xl})(s.transform,t.transform)}class SC{constructor(t,n){this.version=t,this.transformResults=n}}class sn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class kh{}function v0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ap(s.key,sn.none()):new ou(s.key,s.data,sn.none());{const n=s.data,r=nn.empty();let l=new xe(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ur(s.key,r,new An(l.toArray()),sn.none())}}function AC(s,t,n){s instanceof ou?(function(l,c,d){const p=l.value.clone(),y=lE(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):s instanceof ur?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=lE(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(E0(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function jl(s,t,n,r){return s instanceof ou?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=c.value.clone(),T=uE(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof ur?(function(c,d,p,y){if(!nh(c.precondition,d))return p;const _=uE(c.fieldTransforms,y,d),T=d.data;return T.setAll(E0(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,n,r):(function(c,d,p){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,n)}function wC(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=p0(r.transform,l||null);c!=null&&(n===null&&(n=nn.empty()),n.set(r.field,c))}return n||null}function oE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ro(r,l,((c,d)=>TC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ou extends kh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ur extends kh{constructor(t,n,r,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function E0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function lE(s,t,n){const r=new Map;Bt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,vC(d,p,n[l]))}return r}function uE(s,t,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,_C(c,d,t))}return r}class ap extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T0 extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bC{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&AC(c,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=d0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const y=v0(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,r)=>oE(n,r)))&&ro(this.baseMutations,t.baseMutations,((n,r)=>oE(n,r)))}}class op{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return dC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new op(t,n,r,l)}}class RC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,jt;function S0(s){switch(s){case Q.OK:return pt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function A0(s){if(s===void 0)return ss("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Ce.OK:return Q.OK;case Ce.CANCELLED:return Q.CANCELLED;case Ce.UNKNOWN:return Q.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Q.INTERNAL;case Ce.UNAVAILABLE:return Q.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Q.NOT_FOUND;case Ce.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ce.ABORTED:return Q.ABORTED;case Ce.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ce.DATA_LOSS:return Q.DATA_LOSS;default:return pt(39323,{code:s})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function CC(){return new TextEncoder}const DC=new Zs([4294967295,4294967295],0);function cE(s){const t=CC().encode(s),n=new PT;return n.update(t),new Uint8Array(n.digest())}function hE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zs([n,r],0),new Zs([l,c],0)]}class lp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zs.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Zs.fromNumber(r)));return l.compare(DC)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=cE(t),[r,l]=hE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new lp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=cE(t),[r,l]=hE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(t,n,r,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new zh(vt.min(),l,new ue(Lt),rs(),kt())}}class lu{constructor(t,n,r,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new lu(r,n,kt(),kt(),kt())}}class ih{constructor(t,n,r,l){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=l}}class w0{constructor(t,n){this.targetId=t,this.Ce=n}}class b0{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new lu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NC{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.He=Gc(),this.Je=Gc(),this.Ze=new ue(Lt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Dm(c))if(r===0){const d=new ft(c.path);this.et(n,d,ze.newNoDocument(d,vt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=ir(r).toUint8Array()}catch(y){if(y instanceof YT)return Xr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new lp(d,l,c)}catch(y){return Xr(y instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Dm(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,ze.newNoDocument(y,t))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=kt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new zh(t,n,this.Ze,this.je,r);return this.je=rs(),this.He=Gc(),this.Je=Gc(),this.Ze=new ue(Lt),l}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new fE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(Lt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(Lt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gc(){return new ue(ft.comparator)}function dE(){return new ue(ft.comparator)}const OC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class xC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Om(s,t){return s.useProto3Json||au(t)?t:{value:t}}function Eh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function UC(s,t){return Eh(s,t.toTimestamp())}function wn(s){return Bt(!!s,49232),vt.fromTimestamp((function(n){const r=nr(n);return new re(r.seconds,r.nanos)})(s))}function up(s,t){return Vm(s,t).canonicalString()}function Vm(s,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function I0(s){const t=ee.fromString(s);return Bt(M0(t),10190,{key:t.toString()}),t}function Th(s,t){return up(s.databaseId,t.path)}function Bl(s,t){const n=I0(t);if(n.get(1)!==s.databaseId.projectId)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ft(D0(n))}function C0(s,t){return up(s.databaseId,t)}function PC(s){const t=I0(s);return t.length===4?ee.emptyPath():D0(t)}function Mm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function D0(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mE(s,t,n){return{name:Th(s,t),fields:n.value.mapValue.fields}}function LC(s,t){return"found"in t?(function(r,l){Bt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Bl(r,l.found.name),d=wn(l.found.updateTime),p=l.found.createTime?wn(l.found.createTime):vt.min(),y=new nn({mapValue:{fields:l.found.fields}});return ze.newFoundDocument(c,d,p,y)})(s,t):"missing"in t?(function(r,l){Bt(!!l.missing,3894),Bt(!!l.readTime,22933);const c=Bl(r,l.missing),d=wn(l.readTime);return ze.newNoDocument(c,d)})(s,t):pt(7234,{result:t})}function kC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Bt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Bt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?Q.UNKNOWN:A0(_.code);return new st(T,_.message||"")})(d);n=new b0(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Bl(s,r.document.name),c=wn(r.document.updateTime),d=r.document.createTime?wn(r.document.createTime):vt.min(),p=new nn({mapValue:{fields:r.document.fields}}),y=ze.newFoundDocument(l,c,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];n=new ih(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Bl(s,r.document),c=r.readTime?wn(r.readTime):vt.min(),d=ze.newNoDocument(l,c),p=r.removedTargetIds||[];n=new ih([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Bl(s,r.document),c=r.removedTargetIds||[];n=new ih([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new IC(l,c),p=r.targetId;n=new w0(p,d)}}return n}function N0(s,t){let n;if(t instanceof ou)n={update:mE(s,t.key,t.value)};else if(t instanceof ap)n={delete:Th(s,t.key)};else if(t instanceof ur)n={update:mE(s,t.key,t.data),updateMask:KC(t.fieldMask)};else{if(!(t instanceof T0))return pt(16599,{dt:t.type});n={verify:Th(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:UC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),n}function zC(s,t){return s&&s.length>0?(Bt(t!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?wn(l.updateTime):wn(c);return d.isEqual(vt.min())&&(d=wn(c)),new SC(d,l.transformResults||[])})(n,t)))):[]}function jC(s,t){return{documents:[C0(s,t.path)]}}function BC(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=C0(s,l);const c=(function(_){if(_.length!==0)return V0(ii.create(_,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(D){return{field:Ka(D.field),direction:FC(D.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Om(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function qC(s){let t=PC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=(function(w){const D=O0(w);return D instanceof ii&&s0(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((D=>(function($){return new Yl(Ya($.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let D;return D=typeof w=="object"?w.value:w,au(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(w){const D=!!w.before,H=w.values||[];return new yh(H,D)})(n.startAt));let _=null;return n.endAt&&(_=(function(w){const D=!w.before,H=w.values||[];return new yh(H,D)})(n.endAt)),aC(t,l,d,c,p,"F",y,_)}function HC(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function O0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(n.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return De.create(Ya(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>O0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(s):pt(30097,{filter:s})}function FC(s){return OC[s]}function GC(s){return VC[s]}function QC(s){return MC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Ke.fromServerFormat(s.fieldPath)}function V0(s){return s instanceof De?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:GC(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>V0(l)));return r.length===1?r[0]:{compositeFilter:{op:QC(n.op),filters:r}}})(s):pt(54877,{filter:s})}function KC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function M0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function x0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ys{constructor(t,n,r,l,c=vt.min(),d=vt.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YC{constructor(t){this.yt=t}}function XC(s){const t=qC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_h(t,t.limit,"L"):t}class JC{constructor(){this.Sn=new $C}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(er.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(er.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class $C{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new xe(ee.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(U0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const gE="LruGarbageCollector",ZC=1048576;function yE([s,t],[n,r]){const l=Lt(s,n);return l===0?Lt(t,r):l}class WC{constructor(t){this.Pr=t,this.buffer=new xe(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?rt(gE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Ar(3e5)}))}}class e2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Mh.ce);const r=new WC(n);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(pE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,l,c,d,p,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(t,r,n)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(_=Date.now(),Ga()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function n2(s,t){return new e2(s,t)}class i2{constructor(){this.changes=new Wr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class s2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class r2{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&jl(r.mutation,l,An.empty(),re.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const l=Hr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((c=>{let d=Nl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Hr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,r,l){let c=rs();const d=zl(),p=(function(){return zl()})();return n.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof ur)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),jl(T.mutation,_,T.mutation.getFieldMask(),re.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>p.set(_,new s2(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=zl();let l=new ue(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=r.get(y)||An.empty();T=p.applyToLocalView(_,T),r.set(y,T);const w=(l.get(p.batchId)||kt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,w=d0();T.forEach((D=>{if(!c.has(D)){const H=v0(n.get(D),r.get(D));H!==null&&w.set(D,H),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return oC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):l0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-c.size):J.resolve(Hr());let p=Fl,y=c;return d.next((_=>J.forEach(_,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,kt()))).next((T=>({batchId:p,changes:f0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((r=>{let l=Nl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const c=n.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(y=>{const _=(function(w,D){return new yo(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((T=>{T.forEach(((w,D)=>{d=d.insert(w,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,ze.newInvalidDocument(T)))}));let p=Nl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&jl(T.mutation,_,An.empty(),re.now()),Ph(n,_)&&(p=p.insert(y,_))})),p}))}}class a2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wn(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:XC(l.bundledQuery),readTime:wn(l.readTime)}})(n)),J.resolve()}}class o2{constructor(){this.overlays=new ue(ft.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hr();return J.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,c)=>{this.bt(t,n,c)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const l=Hr(),c=n.length+1,d=new ft(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let c=new ue(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=Hr(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Hr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return J.resolve(p)}bt(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new RC(n,r));let c=this.Lr.get(n);c===void 0&&(c=kt(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class l2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class cp{constructor(){this.kr=new xe(ke.Kr),this.qr=new xe(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new ke(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new ft(new ee([])),r=new ke(n,t),l=new ke(n,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ft(new ee([])),r=new ke(n,t),l=new ke(n,t+1);let c=kt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const n=new ke(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ft.comparator(t.key,n.key)||Lt(t.Hr,n.Hr)}static Ur(t,n){return Lt(t.Hr,n.Hr)||ft.comparator(t.key,n.key)}}class u2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(ke.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bC(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ke(n,0),l=new ke(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xe(Lt);return n.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ft(c),0);let p=new xe(Lt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Bt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(l=>{const c=new ke(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new ke(n,0),l=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class c2{constructor(t){this.ti=t,this.docs=(function(){return new ue(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(t,n){let r=rs();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():ze.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let c=rs();const d=n.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||LI(PI(T),r)<=0||(l.has(T.key)||Ph(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,n,r,l){pt(9500)}ni(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new h2(this)}getSize(t){return J.resolve(this.size)}}class h2 extends i2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class f2{constructor(t){this.persistence=t,this.ri=new Wr((n=>np(n)),ip),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new cp,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,n){return this.ri.forEach(((r,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class P0{constructor(t,n){this._i={},this.overlays={},this.ai=new Mh(0),this.ui=!1,this.ui=!0,this.ci=new l2,this.referenceDelegate=t(this),this.li=new f2(this),this.indexManager=new JC,this.remoteDocumentCache=(function(l){return new c2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new YC(n),this.Pi=new a2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new o2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new u2(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){rt("MemoryPersistence","Starting transaction:",t);const l=new d2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class d2 extends zI{constructor(t){super(),this.currentSequenceNumber=t}}class hp{constructor(t){this.persistence=t,this.Ri=new cp,this.Ai=null}static Vi(t){return new hp(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const l=ft.fromPath(r);return this.mi(t,l).next((c=>{c||n.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Sh{constructor(t,n){this.persistence=t,this.fi=new Wr((r=>qI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=n2(this,n)}static Vi(t,n){return new Sh(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?J.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(r++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=th(t.data.value)),n}wr(t,n,r){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class fp{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=l}static Es(t,n){let r=kt(),l=kt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new fp(t,n.fromCache,r,l)}}class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class p2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jw()?8:jI(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const c={result:null};return this.gs(t,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new m2;return this.ys(t,n,d).next((p=>{if(c.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>c.result))}ws(t,n,r,l){return r.documentReadCount<this.Vs?(Ga()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ga()<=Pt.DEBUG&&rt("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ga()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(n))):J.resolve())}gs(t,n){if(rE(n))return J.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=_h(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.bs(n,p);return this.Ss(n,_,d,y.readTime)?this.gs(t,_h(n,null,"F")):this.Ds(t,_,n,y)}))))})))))}ps(t,n,r,l){return rE(n)||l.isEqual(vt.min())?J.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,l)?J.resolve(null):(Ga()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.Ds(t,d,n,UI(l,Fl)).next((p=>p)))}))}bs(t,n){let r=new xe(c0(t));return n.forEach(((l,c)=>{Ph(t,c)&&(r=r.add(c))})),r}Ss(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,n,r){return Ga()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(t,n,er.min(),r)}Ds(t,n,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const dp="LocalStore",g2=3e8;class y2{constructor(t,n,r,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ue(Lt),this.Fs=new Wr((c=>np(c)),ip),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new r2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function _2(s,t,n,r){return new y2(s,t,n,r)}async function L0(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=kt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function v2(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const w=_.batch,D=w.keys();let H=J.resolve();return D.forEach(($=>{H=H.next((()=>T.getEntry(y,$))).next((tt=>{const et=_.docVersions.get($);Bt(et!==null,48541),tt.version.compareTo(et)<0&&(w.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(n,r,t,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function k0(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function E2(s,t){const n=St(s),r=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((T,w)=>{const D=l.get(w);if(!D)return;p.push(n.li.removeMatchingKeys(c,T.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,w))));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(w,H),(function(tt,et,at){return tt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=g2?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(D,H,T)&&p.push(n.li.updateTargetData(c,H))}));let y=rs(),_=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(T2(c,d,t.documentUpdates).next((T=>{y=T.Bs,_=T.Ls}))),!r.isEqual(vt.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.vs=l,c)))}function T2(s,t,n){let r=kt(),l=kt();return n.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=rs();return n.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(dp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function S2(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function A2(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new Ys(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function xm(s,t,n){const r=St(s),l=r.vs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;rt(dp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function _E(s,t,n){const r=St(s);let l=vt.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const w=St(y),D=w.Fs.get(T);return D!==void 0?J.resolve(w.vs.get(D)):w.li.getTargetData(_,T)})(r,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,n?l:vt.min(),n?c:kt()))).next((p=>(w2(r,cC(t),p),{documents:p,ks:c})))))}function w2(s,t,n){let r=s.Ms.get(t)||vt.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class vE{constructor(){this.activeTargetIds=gC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class b2{constructor(){this.vo=new vE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new vE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class R2{Mo(t){}shutdown(){}}const EE="ConnectivityMonitor";class TE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Um(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const um="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,n,r,l,c){const d=Um(),p=this.Qo(t,n.toUriEncodedString());rt(um,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),T=co(_);return this.zo(t,p,y,r,T).then((w=>(rt(um,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Xr(um,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(t,n,r,l,c,d){return this.Wo(t,n,r,l,c)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,n){const r=I2[t];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class D2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",Rl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class to extends C2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!to.c_){const t=jT();Rl(t,zT.STAT_EVENT,(n=>{n.stat===wm.PROXY?rt(Je,"STAT_EVENT: detected buffering proxy"):n.stat===wm.NOPROXY&&rt(Je,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(t,n,r,l,c){const d=Um();return new Promise(((p,y)=>{const _=new LT;_.setWithCredentials(!0),_.listenOnce(kT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wc.NO_ERROR:const w=_.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Wc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),y(new st(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const D=_.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const tt=(function(at){const _t=at.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(_t)>=0?_t:Q.UNKNOWN})($.status);y(new st(tt,$.message))}else y(new st(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(Q.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=Um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const _=c.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${_}`,p);const T=d.createWebChannel(_,p);this.I_(T);let w=!1,D=!1;const H=new D2({Ho:$=>{D?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(w||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),T.open(),w=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,$),T.send($))},Jo:()=>T.close()});return Rl(T,Dl.EventType.OPEN,(()=>{D||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),Rl(T,Dl.EventType.CLOSE,(()=>{D||(D=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(T))})),Rl(T,Dl.EventType.ERROR,($=>{D||(D=!0,Xr(Je,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),H.o_(new st(Q.UNAVAILABLE,"The operation could not be completed")))})),Rl(T,Dl.EventType.MESSAGE,($=>{if(!D){const tt=$.data[0];Bt(!!tt,16349);const et=tt,at=et?.error||et[0]?.error;if(at){rt(Je,`RPC '${t}' stream ${l} received error:`,at);const _t=at.status;let ht=(function(Dt){const I=Ce[Dt];if(I!==void 0)return A0(I)})(_t),mt=at.message;_t==="NOT_FOUND"&&mt.includes("database")&&mt.includes("does not exist")&&mt.includes(this.databaseId.database)&&Xr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ht===void 0&&(ht=Q.INTERNAL,mt="Unknown error status: "+_t+" with message "+at.message),D=!0,H.o_(new st(ht,mt)),T.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,tt),H.__(tt)}})),to.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BT()}}function N2(s){return new to(s)}function cm(){return typeof document<"u"?document:null}function jh(s){return new xC(s,!0)}to.c_=!1;class mp{constructor(t,n,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const SE="PersistentStream";class z0{constructor(t,n,r,l,c,d,p,y){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(SE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(rt(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends z0{constructor(t,n,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=kC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?wn(d.readTime):vt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Mm(this.serializer),n.addTarget=(function(c,d){let p;const y=d.target;if(p=Dm(y)?{documents:jC(c,y)}:{query:BC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=R0(c,d.resumeToken);const _=Om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Eh(c,d.snapshotVersion.toTimestamp());const _=Om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=HC(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Mm(this.serializer),n.removeTarget=t,this.K_(n)}}class V2 extends z0{constructor(t,n,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=zC(t.writeResults,t.commitTime),r=wn(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Mm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>N0(this.serializer,r)))};this.K_(n)}}class M2{}class x2 extends M2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Vm(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Q.UNKNOWN,c.toString())}))}jo(t,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Vm(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function U2(s,t,n,r){return new x2(s,t,n,r)}class P2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class L2{constructor(t,n,r,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ta(this)&&(rt(Jr,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await uu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Va=new P2(r,l)}}async function Bh(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function uu(s){for(const t of s.Ra)await t(!1)}function j0(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),_p(n)?yp(n):_o(n).O_()&&gp(n,t))}function pp(s,t){const n=St(s),r=_o(n);n.Ia.delete(t),r.O_()&&B0(n,t),n.Ia.size===0&&(r.O_()?r.L_():ta(n)&&n.Va.set("Unknown"))}function gp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(s).Z_(t)}function B0(s,t){s.da.$e(t),_o(s).X_(t)}function yp(s){s.da=new NC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Va.ua()}function _p(s){return ta(s)&&!_o(s).x_()&&s.Ia.size>0}function ta(s){return St(s).Ea.size===0}function q0(s){s.da=void 0}async function k2(s){s.Va.set("Online")}async function z2(s){s.Ia.forEach(((t,n)=>{gp(s,t)}))}async function j2(s,t){q0(s),_p(s)?(s.Va.ha(t),yp(s)):s.Va.set("Unknown")}async function B2(s,t,n){if(s.Va.set("Online"),t instanceof b0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(r){rt(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ah(s,r)}else if(t instanceof ih?s.da.Xe(t):t instanceof w0?s.da.st(t):s.da.tt(t),!n.isEqual(vt.min()))try{const r=await k0(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),B0(c,y);const w=new Ys(T.target,y,_,T.sequenceNumber);gp(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){rt(Jr,"Failed to raise snapshot:",r),await Ah(s,r)}}async function Ah(s,t,n){if(!go(t))throw t;s.Ea.add(1),await uu(s),s.Va.set("Offline"),n||(n=()=>k0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Bh(s)}))}function H0(s,t){return t().catch((n=>Ah(s,n,t)))}async function qh(s){const t=St(s),n=rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;q2(t);)try{const l=await S2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,H2(t,l)}catch(l){await Ah(t,l)}F0(t)&&G0(t)}function q2(s){return ta(s)&&s.Ta.length<10}function H2(s,t){s.Ta.push(t);const n=rr(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function F0(s){return ta(s)&&!rr(s).x_()&&s.Ta.length>0}function G0(s){rr(s).start()}async function F2(s){rr(s).ra()}async function G2(s){const t=rr(s);for(const n of s.Ta)t.ea(n.mutations)}async function Q2(s,t,n){const r=s.Ta.shift(),l=op.from(r,t,n);await H0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qh(s)}async function K2(s,t){t&&rr(s).Y_&&await(async function(r,l){if((function(d){return S0(d)&&d!==Q.ABORTED})(l.code)){const c=r.Ta.shift();rr(r).B_(),await H0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(r)}})(s,t),F0(s)&&G0(s)}async function AE(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),rt(Jr,"RemoteStore received new credentials");const r=ta(n);n.Ea.add(3),await uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bh(n)}async function Y2(s,t){const n=St(s);t?(n.Ea.delete(2),await Bh(n)):t||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,l){const c=St(n);return c.sa(),new O2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:k2.bind(null,s),Yo:z2.bind(null,s),t_:j2.bind(null,s),J_:B2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),_p(s)?yp(s):s.Va.set("Unknown")):(await s.ma.stop(),q0(s))}))),s.ma}function rr(s){return s.fa||(s.fa=(function(n,r,l){const c=St(n);return c.sa(),new V2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:F2.bind(null,s),t_:K2.bind(null,s),ta:G2.bind(null,s),na:Q2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await qh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class vp{constructor(t,n,r,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,c){const d=Date.now()+r,p=new vp(t,n,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(s,t){if(ss("AsyncQueue",`${t}: ${s}`),go(s))return new st(Q.UNAVAILABLE,`${t}: ${s}`);throw s}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class wE{constructor(){this.ga=new ue(ft.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class uo{constructor(t,n,r,l,c,d,p,y,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,n,eo.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class X2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class J2{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=St(n),c=l.queries;l.queries=bE(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(r)}))})(this,new st(Q.ABORTED,"Firestore shutting down"))}}function bE(){return new Wr((s=>u0(s)),Uh)}async function Q0(s,t){const n=St(s);let r=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new X2,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Ep(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,c),c.ba.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Tp(n)}async function K0(s,t){const n=St(s),r=t.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $2(s,t){const n=St(s);let r=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&Tp(n)}function Z2(s,t,n){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(t)}function Tp(s){s.Ca.forEach((t=>{t.next()}))}var Pm,RE;(RE=Pm||(Pm={})).Ma="default",RE.Cache="cache";class Y0{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Pm.Cache}}class X0{constructor(t){this.key=t}}class J0{constructor(t){this.key=t}}class W2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=c0(t),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new wE,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,w)=>{const D=l.get(T),H=Ph(this.query,w)?w:null,$=!!D&&this.mutatedKeys.has(D.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let et=!1;D&&H?D.data.isEqual(H.data)?$!==tt&&(r.track({type:3,doc:H}),et=!0):this.su(D,H)||(r.track({type:2,doc:H}),et=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!D&&H?(r.track({type:0,doc:H}),et=!0):D&&!H&&(r.track({type:1,doc:D}),et=!0,(y||_)&&(p=!0)),et&&(H?(d=d.add(H),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,w)=>(function(H,$){const tt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:et})}};return tt(H)-tt($)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new J0(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new X0(r))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class tD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eD{constructor(t){this.key=t,this.hu=!1}}class nD{constructor(t,n,r,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>u0(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ft.comparator),this.Au=new Map,this.Vu=new cp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iD(s,t,n=!0){const r=nS(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $0(r,t,n,!0),l}async function sD(s,t){const n=nS(s);await $0(n,t,!0,!1)}async function $0(s,t,n,r){const l=await A2(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await rD(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&j0(s.remoteStore,l),p}async function rD(s,t,n,r,l){s.pu=(w,D,H)=>(async function(tt,et,at,_t){let ht=et.view.ru(at);ht.Ss&&(ht=await _E(tt.localStore,et.query,!1).then((({documents:I})=>et.view.ru(I,ht))));const mt=_t&&_t.targetChanges.get(et.targetId),qt=_t&&_t.targetMismatches.get(et.targetId)!=null,Dt=et.view.applyChanges(ht,tt.isPrimaryClient,mt,qt);return CE(tt,et.targetId,Dt.au),Dt.snapshot})(s,w,D,H);const c=await _E(s.localStore,t,!0),d=new W2(t,c.ks),p=d.ru(c.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);CE(s,n,_.au);const T=new tD(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function aD(s,t,n){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&pp(r.remoteStore,l.targetId),Lm(r,l.targetId)})).catch(po)):(Lm(r,l.targetId),await xm(r.localStore,l.targetId,!0))}async function oD(s,t){const n=St(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pp(n.remoteStore,r.targetId))}async function lD(s,t,n){const r=pD(s);try{const l=await(function(d,p){const y=St(d),_=re.now(),T=p.reduce(((H,$)=>H.add($.key)),kt());let w,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=rs(),tt=kt();return y.xs.getEntries(H,T).next((et=>{$=et,$.forEach(((at,_t)=>{_t.isValidDocument()||(tt=tt.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,$))).next((et=>{w=et;const at=[];for(const _t of p){const ht=wC(_t,w.get(_t.key).overlayedDocument);ht!=null&&at.push(new ur(_t.key,ht,e0(ht.value.mapValue),sn.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,at,p)})).next((et=>{D=et;const at=et.applyToLocalDocumentSet(w,tt);return y.documentOverlayCache.saveOverlays(H,et.batchId,at)}))})).then((()=>({batchId:D.batchId,changes:f0(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ue(Lt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(r,l.batchId,n),await cu(r,l.changes),await qh(r.remoteStore)}catch(l){const c=Ep(l,"Failed to persist write");n.reject(c)}}async function Z0(s,t){const n=St(s);try{const r=await E2(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await cu(n,r,t)}catch(r){await po(r)}}function IE(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,w)=>{for(const D of w.ba)D.va(p)&&(_=!0)})),_&&Tp(y)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function uD(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ue(ft.comparator);d=d.insert(c,ze.newNoDocument(c,vt.min()));const p=kt().add(c),y=new zh(vt.min(),new Map,new ue(Lt),d,p);await Z0(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(t),Ap(r)}else await xm(r.localStore,t,!1).then((()=>Lm(r,t,n))).catch(po)}async function cD(s,t){const n=St(s),r=t.batch.batchId;try{const l=await v2(n.localStore,t);tS(n,r,null),W0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,l)}catch(l){await po(l)}}async function hD(s,t,n){const r=St(s);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Bt(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);tS(r,t,n),W0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cu(r,l)}catch(l){await po(l)}}function W0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function tS(s,t,n){const r=St(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||eS(s,r)}))}function eS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(pp(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),Ap(s))}function CE(s,t,n){for(const r of n)r instanceof X0?(s.Vu.addReference(r.key,t),fD(s,r)):r instanceof J0?(rt(Sp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||eS(s,r.key)):pt(19791,{wu:r})}function fD(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(rt(Sp,"New document in limbo: "+n),s.Eu.add(r),Ap(s))}function Ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ft(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new eD(n)),s.Ru=s.Ru.insert(n,r),j0(s.remoteStore,new Ys(Ni(sp(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function cu(s,t,n){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,n).then((_=>{if((_||n)&&r.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=fp.Es(y.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,_){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(D=>J.forEach(D.Ts,(H=>T.persistence.referenceDelegate.addReference(w,D.targetId,H))).next((()=>J.forEach(D.Is,(H=>T.persistence.referenceDelegate.removeReference(w,D.targetId,H)))))))))}catch(w){if(!go(w))throw w;rt(dp,"Failed to update sequence numbers: "+w)}for(const w of _){const D=w.targetId;if(!w.fromCache){const H=T.vs.get(D),$=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion($);T.vs=T.vs.insert(D,tt)}}})(r.localStore,c))}async function dD(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){rt(Sp,"User change. New user:",t.toKey());const r=await L0(n.localStore,t);n.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st(Q.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ns)}}function mD(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function nS(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uD.bind(null,t),t.Pu.J_=$2.bind(null,t.eventManager),t.Pu.yu=Z2.bind(null,t.eventManager),t}function pD(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,t),t}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _2(this.persistence,new p2,t.initialUser,this.serializer)}Cu(t){return new P0(hp.Vi,this.serializer)}Du(t){return new b2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class gD extends wh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Bt(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new t2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new P0((r=>Sh.Vi(r,n)),this.serializer)}}class km{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new J2})()}createDatastore(t){const n=jh(t.databaseInfo.databaseId),r=N2(t.databaseInfo);return U2(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,c,d,p){return new L2(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>IE(this.syncEngine,n,0)),(function(){return TE.v()?new TE:new R2})())}createSyncEngine(t,n){return(function(l,c,d,p,y,_,T){const w=new nD(l,c,d,p,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);rt(Jr,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class iS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}let yD=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new st(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(l,c){const d=St(l),p={documents:c.map((w=>Th(d.serializer,w)))},y=await d.jo("BatchGetDocuments",d.serializer.databaseId,ee.emptyPath(),p,c.length),_=new Map;y.forEach((w=>{const D=LC(d.serializer,w);_.set(D.key.toString(),D)}));const T=[];return c.forEach((w=>{const D=_.get(w.toString());Bt(!!D,55234,{key:w}),T.push(D)})),T})(this.datastore,t);return n.forEach((r=>this.recordVersion(r))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new ap(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,r)=>{const l=ft.fromPath(r);this.mutations.push(new T0(l,this.precondition(l)))})),await(async function(r,l){const c=St(r),d={writes:l.map((p=>N0(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,ee.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw pt(50498,{Gu:t.constructor.name});n=vt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new st(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(vt.min())?sn.exists(!1):sn.updateTime(n):sn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(vt.min()))throw new st(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class _D{constructor(t,n,r,l,c){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new mp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new yD(this.datastore),n=this.Ju(t);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Zu(l)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(t){try{const n=this.updateFunction(t);return!au(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!S0(n)}return!1}}const ar="FirestoreClient";class vD{constructor(t,n,r,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{rt(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ep(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hm(s,t){s.asyncQueue.verifyOperationInProgress(),rt(ar,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await L0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function DE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await ED(s);rt(ar,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>AE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>AE(t.remoteStore,l))),s._onlineComponents=t}async function ED(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(ar,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new wh)}}else rt(ar,"Using default OfflineComponentProvider"),await hm(s,new gD(void 0));return s._offlineComponents}async function wp(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(ar,"Using user provided OnlineComponentProvider"),await DE(s,s._uninitializedComponentsProvider._online)):(rt(ar,"Using default OnlineComponentProvider"),await DE(s,new km))),s._onlineComponents}function TD(s){return wp(s).then((t=>t.syncEngine))}function SD(s){return wp(s).then((t=>t.datastore))}async function sS(s){const t=await wp(s),n=t.eventManager;return n.onListen=iD.bind(null,t.syncEngine),n.onUnlisten=aD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oD.bind(null,t.syncEngine),n}function AD(s,t,n={}){const r=new Di;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const T=new iS({next:D=>{T.Nu(),d.enqueueAndForget((()=>K0(c,w)));const H=D.docs.has(p);!H&&D.fromCache?_.reject(new st(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&y&&y.source==="server"?_.reject(new st(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),w=new Y0(sp(p.path),T,{includeMetadataChanges:!0,Ka:!0});return Q0(c,w)})(await sS(s),s.asyncQueue,t,n,r))),r.promise}function wD(s,t,n={}){const r=new Di;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const T=new iS({next:D=>{T.Nu(),d.enqueueAndForget((()=>K0(c,w))),D.fromCache&&y.source==="server"?_.reject(new st(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),w=new Y0(p,T,{includeMetadataChanges:!0,Ka:!0});return Q0(c,w)})(await sS(s),s.asyncQueue,t,n,r))),r.promise}function bD(s,t){const n=new Di;return s.asyncQueue.enqueueAndForget((async()=>lD(await TD(s),t,n))),n.promise}function RD(s,t,n){const r=new Di;return s.asyncQueue.enqueueAndForget((async()=>{const l=await SD(s);new _D(s.asyncQueue,l,n,t,r).ju()})),r.promise}function rS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const ID="ComponentProvider",NE=new Map;function CD(s,t,n,r,l){return new GI(s,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const aS="firestore.googleapis.com",OE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=OE}else this.host=t.host,this.ssl=t.ssl??OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZC)throw new st(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new CI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=NE.get(n);r&&(rt(ID,"Removing Datastore"),NE.delete(n),r.terminate())})(this),Promise.resolve()}}function DD(s,t,n,r={}){s=Vi(s,Hh);const l=co(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;l&&(YE(`https://${p}`),XE("Firestore",!0)),c.host!==aS&&c.host!==p&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Fr(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=$e.MOCK_USER;else{_=Ow(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new st(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(w)}s._authCredentials=new bI(new HT(_,T))}}class cr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cr(this.firestore,t,this._query)}}class fe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fe(this.firestore,t,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ru(n,fe._jsonSchema))return new fe(t,r||null,new ft(ee.fromString(n.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:Ne("string",fe._jsonSchemaVersion),referencePath:Ne("string")};class Ws extends cr{constructor(t,n,r){super(t,n,sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fe(this.firestore,null,new ft(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Kc(s,t,...n){if(s=_e(s),FT("collection","path",t),s instanceof Hh){const r=ee.fromString(t,...n);return Gv(r),new Ws(s,null,r)}{if(!(s instanceof fe||s instanceof Ws))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Gv(r),new Ws(s.firestore,null,r)}}function Hs(s,t,...n){if(s=_e(s),arguments.length===1&&(t=Zm.newId()),FT("doc","path",t),s instanceof Hh){const r=ee.fromString(t,...n);return Fv(r),new fe(s,null,new ft(r))}{if(!(s instanceof fe||s instanceof Ws))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Fv(r),new fe(s.firestore,s instanceof Ws?s.converter:null,new ft(r))}}const ME="AsyncQueue";class xE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mp(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&rt(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;rt(ME,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=vp.createAndSchedule(this,t,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function UE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class vo extends Hh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new xE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xE(t),this._firestoreClient=void 0,await t}}}function ND(s,t){const n=typeof s=="object"?s:WE(),r=typeof s=="string"?s:ph,l=qm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Dw("firestore");c&&DD(l,...c)}return l}function Fh(s){if(s._terminated)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OD(s),s._firestoreClient}function OD(s){const t=s._freezeSettings(),n=CD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new vD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Sn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Sn(Ye.fromBase64String(t))}catch(n){throw new st(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Sn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,Sn._jsonSchema))return Sn.fromBase64String(t.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:Ne("string",Sn._jsonSchemaVersion),bytes:Ne("string")};class Gh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qh{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ei{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ei(t.vectorValues);throw new st(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ne("string",ei._jsonSchemaVersion),vectorValues:Ne("object")};const VD=/^__.*__$/;class MD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new ou(t,this.data,n,this.fieldTransforms)}}class oS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ur(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class bp{constructor(t,n,r,l,c,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return bh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(lS(this.dataSource)&&VD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class xD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||jh(t)}createContext(t,n,r,l=!1){return new bp({dataSource:t,methodName:n,targetDoc:r,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(s){const t=s._freezeSettings(),n=jh(s._databaseId);return new xD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function uS(s,t,n,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,n,l);Ip("Data must be an object, but it was:",d,r);const p=fS(r,d);let y,_;if(c.merge)y=new An(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const D=$r(t,w,n);if(!d.contains(D))throw new st(Q.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);pS(T,D)||T.push(D)}y=new An(T),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new MD(new nn(p),y,_)}class Yh extends Qh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yh}}class Rp extends Qh{_toFieldTransform(t){return new EC(t.path,new Xl)}isEqual(t){return t instanceof Rp}}function cS(s,t,n,r){const l=s.createContext(1,t,n);Ip("Data must be an object, but it was:",l,r);const c=[],d=nn.empty();lr(r,((y,_)=>{const T=mS(t,y,n);_=_e(_);const w=l.childContextForFieldPath(T);if(_ instanceof Yh)c.push(T);else{const D=hu(_,w);D!=null&&(c.push(T),d.set(T,D))}}));const p=new An(c);return new oS(d,p,l.fieldTransforms)}function hS(s,t,n,r,l,c){const d=s.createContext(1,t,n),p=[$r(t,r,n)],y=[l];if(c.length%2!=0)throw new st(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push($r(t,c[D])),y.push(c[D+1]);const _=[],T=nn.empty();for(let D=p.length-1;D>=0;--D)if(!pS(_,p[D])){const H=p[D];let $=y[D];$=_e($);const tt=d.childContextForFieldPath(H);if($ instanceof Yh)_.push(H);else{const et=hu($,tt);et!=null&&(_.push(H),T.set(H,et))}}const w=new An(_);return new oS(T,w,d.fieldTransforms)}function UD(s,t,n,r=!1){return hu(n,s.createContext(r?4:3,t))}function hu(s,t){if(dS(s=_e(s)))return Ip("Unsupported field value:",t,s),fS(s,t);if(s instanceof Qh)return(function(r,l){if(!lS(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=hu(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=_e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:Eh(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,c)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:R0(l.serializer,r._byteString)};if(r instanceof fe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:up(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ei)return(function(d,p){const y=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[WT]:{stringValue:t0},[gh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return rp(p.serializer,T)}))}}}}}})(r,l);if(x0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vh(r)}`)})(s,t)}function fS(s,t){const n={};return KT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(s,((r,l)=>{const c=hu(l,t.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function dS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Oi||s instanceof Sn||s instanceof fe||s instanceof Qh||s instanceof ei||x0(s))}function Ip(s,t,n){if(!dS(n)||!GT(n)){const r=Vh(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function $r(s,t,n){if((t=_e(t))instanceof Gh)return t._internalPath;if(typeof t=="string")return mS(s,t);throw bh("Field path arguments must be of type string or ",s,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function mS(s,t,n){if(t.search(PD)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Gh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function bh(s,t,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new st(Q.INVALID_ARGUMENT,p+s+y)}function pS(s,t){return s.some((n=>n.isEqual(t)))}class gS{convertValue(t,n="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return lr(t,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(t){const n=t.fields?.[gh].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ei(n)}convertGeoPoint(t){return new Oi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=xh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const n=nr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Bt(M0(r),9688,{name:t});const l=new Ql(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(n)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Cp extends gS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,n)}}function Vl(){return new Rp("serverTimestamp")}const PE="@firebase/firestore",LE="4.11.0";class Rh{constructor(t,n,r,l,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field($r("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends Rh{data(){return super.data()}}function kD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class Np extends Dp{}function fm(s,t,...n){let r=[];t instanceof Dp&&r.push(t),r=r.concat(n),(function(c){const d=c.filter((y=>y instanceof Op)).length,p=c.filter((y=>y instanceof Xh)).length;if(d>1||d>0&&p>0)throw new st(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Xh extends Np{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Xh(t,n,r)}_apply(t){const n=this._parse(t);return yS(t._query,n),new cr(t.firestore,t.converter,Nm(t._query,n))}_parse(t){const n=Kh(t.firestore);return(function(c,d,p,y,_,T,w){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){jE(w,T);const $=[];for(const tt of w)$.push(zE(y,c,tt));D={arrayValue:{values:$}}}else D=zE(y,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||jE(w,T),D=UD(p,d,w,T==="in"||T==="not-in");return De.create(_,T,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function dm(s,t,n){const r=t,l=$r("where",s);return Xh._create(l,r,n)}class Op extends Dp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Op(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)yS(d,y),d=Nm(d,y)})(t._query,n),new cr(t.firestore,t.converter,Nm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends Np{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Vp(t,n)}_apply(t){const n=(function(l,c,d){if(l.startAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(c,d)})(t._query,this._field,this._direction);return new cr(t.firestore,t.converter,uC(t._query,n))}}function zD(s,t="asc"){const n=t,r=$r("orderBy",s);return Vp._create(r,n)}class Mp extends Np{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Mp(t,n,r)}_apply(t){return new cr(t.firestore,t.converter,_h(t._query,this._limit,this._limitType))}}function kE(s){return Mp._create("limit",s,"F")}function zE(s,t,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new st(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(t)&&n.indexOf("/")!==-1)throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!ft.isDocumentKey(r))throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wv(s,new ft(r))}if(n instanceof fe)return Wv(s,n._key);throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function jE(s,t){if(!Array.isArray(s)||s.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yS(s,t){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function _S(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class jD extends gS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,n)}}class Ja{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tr extends Rh{constructor(t,n,r,l,c,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($r("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=tr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tr._jsonSchemaVersion="firestore/documentSnapshot/1.0",tr._jsonSchema={type:Ne("string",tr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class sh extends tr{data(t={}){return super.data(t)}}class no{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ja(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:BD(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ne("string",no._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};const qD={maxAttempts:5};function Ml(s,t){if((s=_e(s)).firestore!==t)throw new st(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class HD{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Kh(t)}get(t){const n=Ml(t,this._firestore),r=new jD(this._firestore);return this._transaction.lookup([n._key]).then((l=>{if(!l||l.length!==1)return pt(24041);const c=l[0];if(c.isFoundDocument())return new Rh(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Rh(this._firestore,r,n._key,null,n.converter);throw pt(18433,{doc:c})}))}set(t,n,r){const l=Ml(t,this._firestore),c=_S(l.converter,n,r),d=uS(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,n,r,...l){const c=Ml(t,this._firestore);let d;return d=typeof(n=_e(n))=="string"||n instanceof Gh?hS(this._dataReader,"Transaction.update",c._key,n,r,l):cS(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,d),this}delete(t){const n=Ml(t,this._firestore);return this._transaction.delete(n._key),this}}class FD extends HD{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ml(t,this._firestore),r=new Cp(this._firestore);return super.get(t).then((l=>new tr(this._firestore,r,n._key,l._document,new Ja(!1,!1),n.converter)))}}function GD(s,t,n){s=Vi(s,vo);const r={...qD,...n};(function(d){if(d.maxAttempts<1)throw new st(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const l=Fh(s);return RD(l,(c=>t(new FD(s,c))),r)}function QD(s){s=Vi(s,fe);const t=Vi(s.firestore,vo),n=Fh(t);return AD(n,s._key).then((r=>YD(t,s,r)))}function mm(s){s=Vi(s,cr);const t=Vi(s.firestore,vo),n=Fh(t),r=new Cp(t);return kD(s._query),wD(n,s._query).then((l=>new no(t,r,s,l)))}function rh(s,t,n){s=Vi(s,fe);const r=Vi(s.firestore,vo),l=_S(s.converter,t,n),c=Kh(r);return vS(r,[uS(c,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,sn.none())])}function KD(s,t,n,...r){s=Vi(s,fe);const l=Vi(s.firestore,vo),c=Kh(l);let d;return d=typeof(t=_e(t))=="string"||t instanceof Gh?hS(c,"updateDoc",s._key,t,n,r):cS(c,"updateDoc",s._key,t),vS(l,[d.toMutation(s._key,sn.exists(!0))])}function vS(s,t){const n=Fh(s);return bD(n,t)}function YD(s,t,n){const r=n.docs.get(t._key),l=new Cp(s);return new tr(s,l,t._key,r,new Ja(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){AI(ho),io(new Gr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new vo(new RI(r.getProvider("auth-internal")),new DI(d,r.getProvider("app-check-internal")),QI(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$s(PE,LE,t),$s(PE,LE,"esm2020")})();const xl={apiKey:"AIzaSyCZjegGhnr8FXTBDetqCOmmme5M7_IdUms",authDomain:"comics-a8a20.firebaseapp.com",projectId:"comics-a8a20",storageBucket:"comics-a8a20.firebasestorage.app",messagingSenderId:"273958580614",appId:"1:273958580614:web:92f1e677c77578529afc07"},Zl=!!(xl.apiKey&&xl.authDomain&&xl.projectId&&xl.appId),Ih=Zl?ZE(xl):null,qs=Ih?TI(Ih):null,kn=Ih?ND(Ih):null;function XD({track:s,onPlay:t}){const n=s.page_start&&s.page_end?`Pages ${s.page_start}-${s.page_end}`:"Pages TBD";return X.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-white/5 bg-ink-800/70 px-4 py-3",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-sm font-semibold",children:s.title}),X.jsx("p",{className:"text-xs text-white/60",children:n})]}),X.jsx(jn,{onClick:()=>t(s),className:"px-3 py-1.5 text-xs",children:"Open"})]})}function JD({soundtrack:s,onPlay:t,onVote:n,onEdit:r,currentUserId:l}){const c=s.currentUserVote===1,d=s.currentUserVote===-1,p=!!(l&&s.user_id===l),[y,_]=Vt.useState(!1),[T,w]=Vt.useState(!1),D=H=>{H===1?(_(!0),setTimeout(()=>_(!1),220)):(w(!0),setTimeout(()=>w(!1),220))};return X.jsxs(zn,{className:"flex flex-col gap-4 p-5",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-base font-semibold",children:s.title}),X.jsxs("p",{className:"text-xs text-white/60",children:["by ",s.user_name]})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[p?X.jsx(jn,{onClick:()=>r(s),className:"px-3 py-1.5 text-xs",children:"Edit"}):null,X.jsxs(jn,{onClick:()=>{n(s,1),D(1)},className:`px-3 py-1.5 text-xs transition-transform ${c?"border-emerald-400/60 bg-emerald-500/20 text-emerald-100":""} ${y?"scale-110":""}`,children:[" ",s.upvotes]}),X.jsxs(jn,{onClick:()=>{n(s,-1),D(-1)},className:`px-3 py-1.5 text-xs transition-transform ${d?"border-red-400/60 bg-red-500/20 text-red-100":""} ${T?"scale-110":""}`,children:[" ",s.downvotes]})]})]}),X.jsx("div",{className:"flex flex-col gap-3",children:s.tracks.length>0?s.tracks.map(H=>X.jsx(XD,{track:H,onPlay:t},H.id)):X.jsx("p",{className:"text-sm text-white/50",children:"No tracks yet for this soundtrack."})})]})}const ES=Vt.createContext(null);function $D({children:s}){const[t,n]=Vt.useState(null),[r,l]=Vt.useState(!1);Vt.useEffect(()=>{if(!Zl||!qs){l(!0);return}const _=uR(qs,T=>{n(T?{id:T.uid,email:T.email,name:T.displayName??T.email?.split("@")[0]??null}:null),l(!0)});return()=>_()},[]);const c=async(_,T,w)=>{if(!qs||!kn)throw new Error("Firebase is not configured.");const D=await iR(qs,_,T);await aR(D.user,{displayName:w}),await rh(Hs(kn,"users",D.user.uid),{email:_,name:w,created_at:Vl()})},d=async(_,T)=>{if(!qs)throw new Error("Firebase is not configured.");await sR(qs,_,T)},p=async()=>{qs&&await cR(qs)},y=Vt.useMemo(()=>({user:t,isReady:r,signIn:d,signUp:c,signOutUser:p}),[t,r]);return X.jsx(ES.Provider,{value:y,children:s})}function TS(){const s=Vt.useContext(ES);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}function ZD({issue:s,onBack:t}){const[n,r]=Vt.useState(!0),[l,c]=Vt.useState(null),[d,p]=Vt.useState([]),[y,_]=Vt.useState(!1),[T,w]=Vt.useState(""),[D,H]=Vt.useState([{title:"",youtube_url:"",page_start:"",page_end:""}]),[$,tt]=Vt.useState(!1),[et,at]=Vt.useState(0),[_t,ht]=Vt.useState(null),{user:mt}=TS();Vt.useEffect(()=>{let N=!0;return(async()=>{try{if(r(!0),c(null),!Zl||!kn)throw new Error("Missing Firebase configuration.");const gt=kn,Ht=Kc(gt,"issues"),B=fm(Ht,dm("comicvine_issue_id","==",String(s.id)),kE(1)),Z=await mm(B);let ot;if(Z.empty){const it=Hs(Ht);await rh(it,{comicvine_issue_id:String(s.id),title:`${s.volume?.name??"Untitled"} #${s.issue_number}`,cover_url:s.image?.super_url??s.image?.small_url??null,created_at:Vl()}),ot=it.id}else ot=Z.docs[0].id;const It=Kc(gt,"soundtracks"),Mt=fm(It,dm("issue_id","==",ot),zD("votes_count","desc")),G=(await mm(Mt)).docs.map(it=>{const ct=it.data();return{id:it.id,title:ct.title??"Untitled soundtrack",created_at:ct.created_at??"",tracks:(ct.tracks??[]).sort((Tt,Ct)=>(Tt.order_index??0)-(Ct.order_index??0)),votes:ct.votes_count??0,upvotes:ct.upvotes??0,downvotes:ct.downvotes??0,user_id:ct.user_id??"unknown",user_name:ct.user_name??"Anonymous",currentUserVote:0}}),nt=await Promise.all(G.map(async it=>{if(!mt)return it;const ct=Hs(gt,"soundtracks",it.id,"votes",mt.id),Tt=await QD(ct),Ct=Tt.exists()?Tt.data().value??0:0;return{...it,currentUserVote:Ct}}));nt.sort((it,ct)=>ct.votes-it.votes),N&&p(nt)}catch(gt){N&&c(gt instanceof Error?gt.message:"Failed to load data.")}finally{N&&r(!1)}})(),()=>{N=!1}},[s,et,mt]);const qt=N=>{window.open(N.youtube_url,"_blank","noopener,noreferrer")},Dt=()=>{H(N=>[...N,{title:"",youtube_url:"",page_start:"",page_end:""}])},I=N=>{H(A=>A.filter((gt,Ht)=>Ht!==N))},b=(N,A,gt)=>{H(Ht=>Ht.map((B,Z)=>Z===N?{...B,[A]:gt}:B))},C=async()=>{if(!kn||!Zl||!mt){c("You must be signed in to add a playlist.");return}const N=D.map((A,gt)=>({id:`${Date.now()}-${gt}`,title:A.title.trim(),youtube_url:A.youtube_url.trim(),page_start:A.page_start?Number(A.page_start):null,page_end:A.page_end?Number(A.page_end):null,order_index:gt})).filter(A=>A.title&&A.youtube_url);if(!T.trim()){c("Please enter a playlist title.");return}if(N.length===0){c("Please add at least one track with a YouTube URL.");return}tt(!0),c(null);try{const A=Kc(kn,"issues"),gt=fm(A,dm("comicvine_issue_id","==",String(s.id)),kE(1)),Ht=await mm(gt),B=Ht.empty?await(async()=>{const ot=Hs(A);return await rh(ot,{comicvine_issue_id:String(s.id),title:`${s.volume?.name??"Untitled"} #${s.issue_number}`,cover_url:s.image?.super_url??s.image?.small_url??null,created_at:Vl()}),ot.id})():Ht.docs[0].id,Z=Kc(kn,"soundtracks");_t?await KD(Hs(kn,"soundtracks",_t),{title:T.trim(),tracks:N,updated_at:Vl()}):await rh(Hs(Z),{issue_id:B,title:T.trim(),tracks:N,created_at:Vl(),user_id:mt.id,user_name:mt.name??mt.email??"User",votes_count:0,upvotes:0,downvotes:0}),w(""),H([{title:"",youtube_url:"",page_start:"",page_end:""}]),_(!1),ht(null),at(ot=>ot+1)}catch(A){c(A instanceof Error?A.message:"Failed to save playlist.")}finally{tt(!1)}},x=async(N,A)=>{if(!kn||!mt){c("Please sign in to vote.");return}const gt=Hs(kn,"soundtracks",N.id,"votes",mt.id),Ht=Hs(kn,"soundtracks",N.id);await GD(kn,async B=>{const Z=await B.get(gt),ot=await B.get(Ht);if(!ot.exists())throw new Error("Soundtrack not found.");const It=ot.data();let Mt=It.votes_count??0,O=It.upvotes??0,G=It.downvotes??0;Z.exists()?Z.data().value===A?(B.delete(gt),Mt-=A,A===1&&(O-=1),A===-1&&(G-=1)):(B.set(gt,{value:A}),Mt+=A*2,A===1?(O+=1,G-=1):(G+=1,O-=1)):(B.set(gt,{value:A}),Mt+=A,A===1&&(O+=1),A===-1&&(G+=1)),B.update(Ht,{votes_count:Mt,upvotes:O,downvotes:G})}),at(B=>B+1)},M=N=>{!mt||N.user_id!==mt.id||(ht(N.id),w(N.title),H(N.tracks.map(A=>({title:A.title,youtube_url:A.youtube_url,page_start:A.page_start?String(A.page_start):"",page_end:A.page_end?String(A.page_end):""}))),_(!0))};return X.jsxs("div",{className:"flex flex-col gap-8",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-sm text-white/60",children:"Issue details"}),X.jsxs("h2",{className:"text-2xl font-semibold",children:[s.volume?.name??"Untitled"," #",s.issue_number]})]}),X.jsxs("div",{className:"flex items-center gap-3",children:[mt?X.jsx(jn,{onClick:()=>_(N=>!N),children:y?"Close":"+ Add playlist"}):X.jsx("p",{className:"text-sm text-white/50",children:"Sign in to add a playlist."}),X.jsx(jn,{onClick:t,children:"Back to results"})]})]}),X.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_2fr]",children:[X.jsxs(zn,{className:"flex flex-col gap-4 p-4",children:[s.image?.super_url?X.jsx("img",{src:s.image.super_url,alt:s.name??"Issue cover",className:"h-80 w-full rounded-xl object-cover",loading:"lazy"}):X.jsx("div",{className:"flex h-80 items-center justify-center rounded-xl bg-ink-800 text-sm text-white/40",children:"No cover"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-lg font-semibold",children:s.name??"Unnamed Issue"}),X.jsxs("p",{className:"text-sm text-white/60",children:["Cover date: ",s.cover_date??"Unknown"]})]})]}),X.jsxs("div",{className:"flex flex-col gap-4",children:[l?X.jsx(zn,{className:"border-red-500/30 bg-red-500/10 p-4 text-sm text-red-200",children:l}):null,y?X.jsxs(zn,{className:"flex flex-col gap-4 p-5",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-sm font-semibold",children:_t?"Edit playlist":"New playlist"}),X.jsx("p",{className:"text-xs text-white/60",children:"Add tracks with page ranges and YouTube links."})]}),X.jsxs("div",{className:"flex flex-col gap-3",children:[X.jsx("label",{className:"text-xs text-white/60",children:"Playlist title"}),X.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-4 py-3 text-sm text-white placeholder:text-white/40 shadow-sm focus:border-white/30 focus:outline-none",value:T,onChange:N=>w(N.target.value),placeholder:"e.g. Noir city vibes"})]}),X.jsxs("div",{className:"flex flex-col gap-4",children:[D.map((N,A)=>X.jsxs("div",{className:"grid gap-3 rounded-xl border border-white/10 bg-ink-950/60 p-4 md:grid-cols-2",children:[X.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:N.title,onChange:gt=>b(A,"title",gt.target.value),placeholder:"Track title"}),X.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:N.youtube_url,onChange:gt=>b(A,"youtube_url",gt.target.value),placeholder:"YouTube URL"}),X.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:N.page_start,onChange:gt=>b(A,"page_start",gt.target.value),placeholder:"Page start (optional)"}),X.jsx("input",{className:"w-full rounded-xl border border-white/10 bg-ink-900 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/30 focus:outline-none",value:N.page_end,onChange:gt=>b(A,"page_end",gt.target.value),placeholder:"Page end (optional)"}),X.jsx("div",{className:"flex items-center justify-end md:col-span-2",children:X.jsx(jn,{onClick:()=>I(A),className:"px-3 py-1.5 text-xs",children:"Remove track"})})]},A)),X.jsx(jn,{onClick:Dt,className:"self-start",children:"+ Add another track"})]}),X.jsx("div",{className:"flex items-center justify-end gap-3",children:X.jsx(jn,{onClick:C,disabled:$,className:"px-4 py-2",children:$?"Saving...":_t?"Save changes":"Publish playlist"})})]}):null,n?X.jsx(zn,{className:"p-6 text-sm text-white/60",children:"Loading community soundtracks..."}):d.length>0?d.map(N=>X.jsx(JD,{soundtrack:N,onPlay:A=>qt(A),onVote:x,onEdit:M,currentUserId:mt?.id},N.id)):X.jsx(zn,{className:"p-6 text-sm text-white/60",children:"No soundtracks yet. Be the first to add one."})]})]})]})}function WD(){const{user:s,signIn:t,signUp:n,signOutUser:r}=TS(),[l,c]=Vt.useState(!1),[d,p]=Vt.useState(""),[y,_]=Vt.useState(""),[T,w]=Vt.useState(""),[D,H]=Vt.useState(null),[$,tt]=Vt.useState(!1),et=async()=>{H(null),tt(!0);try{if(l){if(!T.trim())throw new Error("Please enter a display name.");await n(d.trim(),y,T.trim())}else await t(d.trim(),y)}catch(at){H(at instanceof Error?at.message:"Authentication failed.")}finally{tt(!1)}};return s?X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsxs("div",{className:"text-right",children:[X.jsx("p",{className:"text-sm font-semibold",children:s.name??"User"}),X.jsx("p",{className:"text-xs text-white/50",children:s.email})]}),X.jsx(jn,{onClick:r,children:"Sign out"})]}):Zl?X.jsxs(zn,{className:"flex w-full flex-col gap-3 p-4 md:w-96",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx("p",{className:"text-sm font-semibold",children:l?"Create an account":"Sign in"}),X.jsx("button",{className:"text-xs text-white/60 hover:text-white",onClick:()=>c(at=>!at),children:l?"Have an account?":"New here?"})]}),l?X.jsx(Yc,{value:T,onChange:at=>w(at.target.value),placeholder:"Display name"}):null,X.jsx(Yc,{type:"email",value:d,onChange:at=>p(at.target.value),placeholder:"Email"}),X.jsx(Yc,{type:"password",value:y,onChange:at=>_(at.target.value),placeholder:"Password"}),D?X.jsx("p",{className:"text-xs text-red-200",children:D}):null,X.jsx(jn,{onClick:et,disabled:$,children:$?"Please wait...":l?"Create account":"Sign in"})]}):X.jsx(zn,{className:"flex w-full flex-col gap-2 p-4 text-xs text-white/60 md:w-96",children:"Firebase is not configured. Add your Firebase keys in `.env.local`."})}function tN(){const[s,t]=Vt.useState(""),[n,r]=Vt.useState([]),[l,c]=Vt.useState(!1),[d,p]=Vt.useState(null),[y,_]=Vt.useState(null),[T,w]=Vt.useState([]),[D,H]=Vt.useState([]),[$,tt]=Vt.useState(!1),et=Vt.useRef(null);Vt.useEffect(()=>{const ht=window.localStorage.getItem("comictracks:recent-searches");if(ht)try{const mt=JSON.parse(ht);w(mt)}catch{w([])}},[]);const at=Vt.useMemo(()=>{if(!s.trim())return T.slice(0,6);const ht=s.toLowerCase();return T.filter(mt=>mt.toLowerCase().includes(ht)).slice(0,6)},[s,T]);Vt.useEffect(()=>{if(!s.trim()){H(at);return}if(s.trim().length<2){H(at);return}et.current&&window.clearTimeout(et.current),et.current=window.setTimeout(async()=>{try{tt(!0);const mt=(await Ew(s.trim())).map(qt=>`${qt.volume?.name??"Untitled"} #${qt.issue_number}`);H(mt)}catch{H(at)}finally{tt(!1)}},350)},[s,at]);const _t=async ht=>{const mt=(ht??s).trim();if(!mt){p("Please enter a search query.");return}try{c(!0),p(null);const qt=await vw(mt);r(qt);const Dt=[mt,...T.filter(I=>I!==mt)].slice(0,8);w(Dt),window.localStorage.setItem("comictracks:recent-searches",JSON.stringify(Dt))}catch(qt){p(qt instanceof Error?qt.message:"Unable to search Comic Vine.")}finally{c(!1)}};return X.jsx("div",{className:"min-h-screen bg-ink-950 text-white",children:X.jsxs("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col gap-10 px-6 py-10",children:[X.jsxs("header",{className:"flex flex-col gap-6",children:[X.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-ink-800 text-lg font-semibold",children:"C"}),X.jsxs("div",{children:[X.jsx("p",{className:"text-lg font-semibold",children:"Comictracks"}),X.jsx("p",{className:"text-sm text-white/60",children:"Community soundtracks for comic issues"})]})]}),X.jsx(WD,{})]}),X.jsx("div",{className:"w-full md:max-w-xl",children:X.jsx(cw,{value:s,onChange:t,onSubmit:()=>_t(),isLoading:l,suggestions:D,isSuggesting:$,onSelectSuggestion:ht=>{t(ht),p(null),_t(ht)}})})]}),y?X.jsx(ZD,{issue:y,onBack:()=>_(null)}):X.jsxs("section",{className:"flex flex-col gap-6",children:[d?X.jsx(zn,{className:"border-red-500/30 bg-red-500/10 p-4 text-sm text-red-200",children:d}):null,n.length>0?X.jsx(uw,{issues:n,onSelect:_}):X.jsx(zn,{className:"p-6 text-sm text-white/60",children:"Search for a comic issue to see community soundtracks."})]})]})})}const SS=document.querySelector("#root");if(!SS)throw new Error("Root element not found");lw.createRoot(SS).render(X.jsx(Vt.StrictMode,{children:X.jsx($D,{children:X.jsx(tN,{})})}));
