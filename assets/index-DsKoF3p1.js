(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function tw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}},Al={};var tv;function ew(){if(tv)return Al;tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var ev;function nw(){return ev||(ev=1,Yd.exports=ew()),Yd.exports}var x=nw(),Xd={exports:{}},It={};var nv;function iw(){if(nv)return It;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function ft(D,K,et){this.props=D,this.context=K,this.refs=tt,this.updater=et||X}ft.prototype.isReactComponent={},ft.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},ft.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pt(){}pt.prototype=ft.prototype;function gt(D,K,et){this.props=D,this.context=K,this.refs=tt,this.updater=et||X}var vt=gt.prototype=new pt;vt.constructor=gt,Z(vt,ft.prototype),vt.isPureReactComponent=!0;var xt=Array.isArray;function ut(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(D,K,et){var st=et.ref;return{$$typeof:r,type:D,key:K,ref:st!==void 0?st:null,props:et}}function M(D,K){return C(D.type,K,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function U(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function rt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):K.toString(36)}function Tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ut,ut):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,et,st,ht){var yt=typeof D;(yt==="undefined"||yt==="boolean")&&(D=null);var Ot=!1;if(D===null)Ot=!0;else switch(yt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(D.$$typeof){case r:case t:Ot=!0;break;case T:return Ot=D._init,F(Ot(D._payload),K,et,st,ht)}}if(Ot)return ht=ht(D),Ot=st===""?"."+rt(D,0):st,xt(ht)?(et="",Ot!=null&&(et=Ot.replace(w,"$&/")+"/"),F(ht,K,et,"",function(cs){return cs})):ht!=null&&(V(ht)&&(ht=M(ht,et+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(w,"$&/")+"/")+Ot)),K.push(ht)),1;Ot=0;var ue=st===""?".":st+":";if(xt(D))for(var ae=0;ae<D.length;ae++)st=D[ae],yt=ue+rt(st,ae),Ot+=F(st,K,et,yt,ht);else if(ae=H(D),typeof ae=="function")for(D=ae.call(D),ae=0;!(st=D.next()).done;)st=st.value,yt=ue+rt(st,ae++),Ot+=F(st,K,et,yt,ht);else if(yt==="object"){if(typeof D.then=="function")return F(Tt(D),K,et,st,ht);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function W(D,K,et){if(D==null)return D;var st=[],ht=0;return F(D,st,"","",function(yt){return K.call(et,yt,ht++)}),st}function lt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var bt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},jt={map:W,forEach:function(D,K,et){W(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return W(D,function(){K++}),K},toArray:function(D){return W(D,function(K){return K})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return It.Activity=A,It.Children=jt,It.Component=ft,It.Fragment=n,It.Profiler=l,It.PureComponent=gt,It.StrictMode=s,It.Suspense=_,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=Z({},D.props),ht=D.key;if(K!=null)for(yt in K.key!==void 0&&(ht=""+K.key),K)!b.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(st[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)st.children=et;else if(1<yt){for(var Ot=Array(yt),ue=0;ue<yt;ue++)Ot[ue]=arguments[ue+2];st.children=Ot}return C(D.type,ht,st)},It.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},It.createElement=function(D,K,et){var st,ht={},yt=null;if(K!=null)for(st in K.key!==void 0&&(yt=""+K.key),K)b.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ht[st]=K[st]);var Ot=arguments.length-2;if(Ot===1)ht.children=et;else if(1<Ot){for(var ue=Array(Ot),ae=0;ae<Ot;ae++)ue[ae]=arguments[ae+2];ht.children=ue}if(D&&D.defaultProps)for(st in Ot=D.defaultProps,Ot)ht[st]===void 0&&(ht[st]=Ot[st]);return C(D,yt,ht)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:p,render:D}},It.isValidElement=V,It.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:lt}},It.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},It.startTransition=function(D){var K=R.T,et={};R.T=et;try{var st=D(),ht=R.S;ht!==null&&ht(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(ut,bt)}catch(yt){bt(yt)}finally{K!==null&&et.types!==null&&(K.types=et.types),R.T=K}},It.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},It.use=function(D){return R.H.use(D)},It.useActionState=function(D,K,et){return R.H.useActionState(D,K,et)},It.useCallback=function(D,K){return R.H.useCallback(D,K)},It.useContext=function(D){return R.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,K){return R.H.useDeferredValue(D,K)},It.useEffect=function(D,K){return R.H.useEffect(D,K)},It.useEffectEvent=function(D){return R.H.useEffectEvent(D)},It.useId=function(){return R.H.useId()},It.useImperativeHandle=function(D,K,et){return R.H.useImperativeHandle(D,K,et)},It.useInsertionEffect=function(D,K){return R.H.useInsertionEffect(D,K)},It.useLayoutEffect=function(D,K){return R.H.useLayoutEffect(D,K)},It.useMemo=function(D,K){return R.H.useMemo(D,K)},It.useOptimistic=function(D,K){return R.H.useOptimistic(D,K)},It.useReducer=function(D,K,et){return R.H.useReducer(D,K,et)},It.useRef=function(D){return R.H.useRef(D)},It.useState=function(D){return R.H.useState(D)},It.useSyncExternalStore=function(D,K,et){return R.H.useSyncExternalStore(D,K,et)},It.useTransition=function(){return R.H.useTransition()},It.version="19.2.4",It}var iv;function zm(){return iv||(iv=1,Xd.exports=iw()),Xd.exports}var Rt=zm(),$d={exports:{}},wl={},Jd={exports:{}},Zd={};var rv;function rw(){return rv||(rv=1,(function(r){function t(F,W){var lt=F.length;F.push(W);t:for(;0<lt;){var bt=lt-1>>>1,jt=F[bt];if(0<l(jt,W))F[bt]=W,F[lt]=jt,lt=bt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var W=F[0],lt=F.pop();if(lt!==W){F[0]=lt;t:for(var bt=0,jt=F.length,D=jt>>>1;bt<D;){var K=2*(bt+1)-1,et=F[K],st=K+1,ht=F[st];if(0>l(et,lt))st<jt&&0>l(ht,et)?(F[bt]=ht,F[st]=lt,bt=st):(F[bt]=et,F[K]=lt,bt=K);else if(st<jt&&0>l(ht,lt))F[bt]=ht,F[st]=lt,bt=st;else break t}}return W}function l(F,W){var lt=F.sortIndex-W.sortIndex;return lt!==0?lt:F.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,N=3,H=!1,X=!1,Z=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var W=n(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=F)s(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=n(y)}}function xt(F){if(Z=!1,vt(F),!X)if(n(_)!==null)X=!0,ut||(ut=!0,U());else{var W=n(y);W!==null&&Tt(xt,W.startTime-F)}}var ut=!1,R=-1,b=5,C=-1;function M(){return tt?!0:!(r.unstable_now()-C<b)}function V(){if(tt=!1,ut){var F=r.unstable_now();C=F;var W=!0;try{t:{X=!1,Z&&(Z=!1,pt(R),R=-1),H=!0;var lt=N;try{e:{for(vt(F),A=n(_);A!==null&&!(A.expirationTime>F&&M());){var bt=A.callback;if(typeof bt=="function"){A.callback=null,N=A.priorityLevel;var jt=bt(A.expirationTime<=F);if(F=r.unstable_now(),typeof jt=="function"){A.callback=jt,vt(F),W=!0;break e}A===n(_)&&s(_),vt(F)}else s(_);A=n(_)}if(A!==null)W=!0;else{var D=n(y);D!==null&&Tt(xt,D.startTime-F),W=!1}}break t}finally{A=null,N=lt,H=!1}W=void 0}}finally{W?U():ut=!1}}}var U;if(typeof gt=="function")U=function(){gt(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,rt=w.port2;w.port1.onmessage=V,U=function(){rt.postMessage(null)}}else U=function(){ft(V,0)};function Tt(F,W){R=ft(function(){F(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var W=3;break;default:W=N}var lt=N;N=W;try{return F()}finally{N=lt}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=N;N=F;try{return W()}finally{N=lt}},r.unstable_scheduleCallback=function(F,W,lt){var bt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?bt+lt:bt):lt=bt,F){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=lt+jt,F={id:T++,callback:W,priorityLevel:F,startTime:lt,expirationTime:jt,sortIndex:-1},lt>bt?(F.sortIndex=lt,t(y,F),n(_)===null&&F===n(y)&&(Z?(pt(R),R=-1):Z=!0,Tt(xt,lt-bt))):(F.sortIndex=jt,t(_,F),X||H||(X=!0,ut||(ut=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var W=N;return function(){var lt=N;N=W;try{return F.apply(this,arguments)}finally{N=lt}}}})(Zd)),Zd}var sv;function sw(){return sv||(sv=1,Jd.exports=rw()),Jd.exports}var Wd={exports:{}},Xe={};var av;function aw(){if(av)return Xe;av=1;var r=zm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,T)},Xe.flushSync=function(_){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=T,s.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:H}):T==="script"&&s.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Xe.requestFormReset=function(_){s.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var ov;function BE(){if(ov)return Wd.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=aw(),Wd.exports}var lv;function ow(){if(lv)return wl;lv=1;var r=sw(),t=zm(),n=BE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case xt:return"Suspense";case ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case gt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:rt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return rt(e(i))}catch{}}return null}var Tt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},bt=[],jt=-1;function D(e){return{current:e}}function K(e){0>jt||(e.current=bt[jt],bt[jt]=null,jt--)}function et(e,i){jt++,bt[jt]=e.current,e.current=i}var st=D(null),ht=D(null),yt=D(null),Ot=D(null);function ue(e,i){switch(et(yt,i),et(ht,e),et(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=A_(i),e=w_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function ae(){K(st),K(ht),K(yt)}function cs(e){e.memoizedState!==null&&et(Ot,e);var i=st.current,a=w_(i,e.type);i!==a&&(et(ht,e),et(st,a))}function ta(e){ht.current===e&&(K(st),K(ht)),Ot.current===e&&(K(Ot),vl._currentValue=lt)}var ea,na;function ni(e){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var vo=!1;function hs(e,i){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){j=q}e.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function Eo(e,i){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return ni("Activity");default:return""}}function To(e){try{var i="",a=null;do i+=Eo(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ar=r.unstable_cancelCallback,Xh=r.unstable_shouldYield,hu=r.unstable_requestPaint,We=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,or=r.unstable_NormalPriority,$h=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,jn=null,je=null;function bn(e){if(typeof du=="function"&&mu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(jn,e)}catch{}}var me=Math.clz32?Math.clz32:gu,pu=Math.log,ia=Math.LN2;function gu(e){return e>>>=0,e===0?32:31-(pu(e)/ia|0)|0}var ii=256,ds=262144,Te=4194304;function ri(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ai(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zh(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-me(a),$=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}a&=~$}o!==0&&ps(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function ps(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-me(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-me(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function bo(e,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(e.suspendedLanes|i))!==0?0:a}function gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _u(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function qn(e,i){var a=W.p;try{return W.p=e,i()}finally{W.p=a}}var Hn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Hn,ke="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ra="__reactEvents$"+Hn,Wh="__reactListeners$"+Hn,vu="__reactHandles$"+Hn,Eu="__reactResources$"+Hn,li="__reactMarker$"+Hn;function sa(e){delete e[Se],delete e[ke],delete e[ra],delete e[Wh],delete e[vu]}function ui(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[oi]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=D_(e);e!==null;){if(a=e[Se])return a;e=D_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Se]||e[oi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ci(e){var i=e[Eu];return i||(i=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[li]=!0}var Ro=new Set,Io={};function hi(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(Io[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},xo={};function Tu(e){return Ee.call(xo,e)?!0:Ee.call(No,e)?!1:Co.test(e)?xo[e]=!0:(No[e]=!0,!1)}function aa(e,i,a){if(Tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=lr(e)?"checked":"value";e._valueTracker=Do(e,i,""+e[i])}}function ys(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=lr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function sn(e){return e.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?Oo(e,g,Ue(i)):a!=null?Oo(e,g,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Su(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Oo(e,i,a){i==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ur(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Au(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function cr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function an(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Vo(e,f,i[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var ko=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,mi=null;function vs(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ys(o)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ur(e,!!a.multiple,i,!1)}}}var ca=!1;function dr(e,i,a){if(ca)return e(i,a);ca=!0;try{var o=e(i);return o}finally{if(ca=!1,(fr!==null||mi!==null)&&(_c(),fr&&(i=fr,e=mi,mi=fr=null,vs(i),e)))for(i=0;i<e.length;i++)vs(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Es=!1}var pi=null,Uo=null,Ts=null;function Lo(){if(Ts)return Ts;var e,i=Uo,a=i.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return Ts=h.slice(e,1<o?1-o:void 0)}function Ss(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Qn(){return!1}function Be(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(Mi),mr=A({},Mi,{view:0,detail:0}),Po=Be(mr),pr,ha,yi,fa=A({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(pr=e.screenX-yi.screenX,ha=e.screenY-yi.screenY):ha=pr=0,yi=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),zo=Be(fa),As=A({},fa,{dataTransfer:0}),Ru=Be(As),Iu=A({},mr,{relatedTarget:0}),ws=Be(Iu),jo=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Be(jo),da=A({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Be(da),xu=A({},Mi,{data:0}),_i=Be(xu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vu[e])?!!i[e]:!1}function gr(){return Mu}var tn=A({},mr,{key:function(e){if(e.key){var i=Du[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=Be(tn),Uu=A({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(Uu),c=A({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=Be(c),v=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),L=A({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),nt=A({},Mi,{newState:0,oldState:0}),Ct=Be(nt),pe=[9,13,27,32],Qt=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!oe,vi=Cn&&(!Qt||oe&&8<oe&&11>=oe),Kn=" ",Yn=!1;function bs(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function wS(e,i){switch(e){case"compositionend":return ma(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Yn?null:e;default:return null}}function bS(e,i){if(pa)return e==="compositionend"||!Qt&&bs(e,i)?(e=Lo(),Ts=Uo=pi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!RS[e.type]:i==="textarea"}function kp(e,i,a,o){fr?mi?mi.push(o):mi=[o]:fr=o,i=bc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Bo=null,qo=null;function IS(e){y_(e,0)}function Lu(e){var i=dn(e);if(ys(i))return e}function Up(e,i){if(e==="change")return i}var Lp=!1;if(Cn){var tf;if(Cn){var ef="oninput"in document;if(!ef){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),ef=typeof Pp.oninput=="function"}tf=ef}else tf=!1;Lp=tf&&(!document.documentMode||9<document.documentMode)}function zp(){Bo&&(Bo.detachEvent("onpropertychange",jp),qo=Bo=null)}function jp(e){if(e.propertyName==="value"&&Lu(qo)){var i=[];kp(i,qo,e,In(e)),dr(IS,i)}}function CS(e,i,a){e==="focusin"?(zp(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",jp)):e==="focusout"&&zp()}function NS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(qo)}function xS(e,i){if(e==="click")return Lu(i)}function DS(e,i){if(e==="input"||e==="change")return Lu(i)}function OS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:OS;function Ho(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,i){var a=Bp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Hp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=di(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=di(e.document)}return i}function nf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VS=Cn&&"documentMode"in document&&11>=document.documentMode,ga=null,rf=null,Fo=null,sf=!1;function Gp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||ga==null||ga!==di(o)||(o=ga,"selectionStart"in o&&nf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=bc(rf,"onSelect"),0<o.length&&(i=new gi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ga)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},af={},Qp={};Cn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Is(e){if(af[e])return af[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return af[e]=i[a];return e}var Kp=Is("animationend"),Yp=Is("animationiteration"),Xp=Is("animationstart"),MS=Is("transitionrun"),kS=Is("transitionstart"),US=Is("transitioncancel"),$p=Is("transitionend"),Jp=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Xn(e,i){Jp.set(e,i),hi(i,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],_a=0,lf=0;function zu(){for(var e=_a,i=lf=_a=0;i<e;){var a=xn[i];xn[i++]=null;var o=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var f=xn[i];if(xn[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function ju(e,i,a,o){xn[_a++]=e,xn[_a++]=i,xn[_a++]=a,xn[_a++]=o,lf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function uf(e,i,a,o){return ju(e,i,a,o),Bu(e)}function Cs(e,i){return ju(e,null,null,i),Bu(e)}function Zp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-me(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Bu(e){if(50<fl)throw fl=0,_d=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function LS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new LS(e,i,a,o)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function qu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")cf(e)&&(g=1);else if(typeof e=="string")g=qA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,i,h),e.elementType=C,e.lanes=f,e;case Z:return Ns(a.children,h,f,i);case tt:g=8,h|=24;break;case ft:return e=gn(12,a,i,h|2),e.elementType=ft,e.lanes=f,e;case xt:return e=gn(13,a,i,h),e.elementType=xt,e.lanes=f,e;case ut:return e=gn(19,a,i,h),e.elementType=ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case pt:g=9;break t;case vt:g=11;break t;case R:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=gn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Ns(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function hf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function tg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function ff(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var eg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:To(i)},eg.set(e,i),i)}return{value:e,source:i,stack:To(i)}}var Ea=[],Ta=0,Hu=null,Go=0,On=[],Vn=0,yr=null,Ei=1,Ti="";function Li(e,i){Ea[Ta++]=Go,Ea[Ta++]=Hu,Hu=e,Go=i}function ng(e,i,a){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=yr,yr=e;var o=Ei;e=Ti;var h=32-me(o)-1;o&=~(1<<h),a+=1;var f=32-me(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-me(i)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function df(e){e.return!==null&&(Li(e,1),ng(e,1,0))}function mf(e){for(;e===Hu;)Hu=Ea[--Ta],Ea[Ta]=null,Go=Ea[--Ta],Ea[Ta]=null;for(;e===yr;)yr=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null,Ei=On[--Vn],On[Vn]=null}function ig(e,i){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=yr,Ei=i.id,Ti=i.overflow,yr=e}var qe=null,ie=null,Bt=!1,_r=null,Mn=!1,pf=Error(s(519));function vr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Dn(i,e)),pf}function rg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Se]=e,i[ke]=o,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Mt(ml[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),cr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||T_(i.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),o.onScroll!=null&&Mt("scroll",i),o.onScrollEnd!=null&&Mt("scrollend",i),o.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||vr(e,!0)}function sg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function Sa(e){if(e!==qe)return!1;if(!Bt)return sg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&ie&&vr(e),sg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=x_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=x_(e)}else i===27?(i=ie,Vr(e.type)?(e=Pd,Pd=null,ie=e):ie=i):ie=qe?Un(e.stateNode.nextSibling):null;return!0}function xs(){ie=qe=null,Bt=!1}function gf(){var e=_r;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),_r=null),e}function Qo(e){_r===null?_r=[e]:_r.push(e)}var yf=D(null),Ds=null,Pi=null;function Er(e,i,a){et(yf,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=yf.current,K(yf)}function _f(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),_f(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),_f(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&vf(i,e,a,o),i.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return ag(Ds,e)}function Gu(e,i){return Ds===null&&Os(e),ag(e,i)}function ag(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Pi=Pi.next=i;return a}var PS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},zS=r.unstable_scheduleCallback,jS=r.unstable_NormalPriority,be={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new PS,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&zS(jS,function(){e.controller.abort()})}var Yo=null,Tf=0,wa=0,ba=null;function BS(e,i){if(Yo===null){var a=Yo=[];Tf=0,wa=wd(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,i.then(og,og),i}function og(){if(--Tf===0&&Yo!==null){ba!==null&&(ba.status="fulfilled");var e=Yo;Yo=null,wa=0,ba=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=F.S;F.S=function(e,i){Gy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BS(e,i),lg!==null&&lg(e,i)};var Vs=D(null);function Sf(){var e=Vs.current;return e!==null?e:ne.pooledCache}function Qu(e,i){i===null?et(Vs,Vs.current):et(Vs,i.pool)}function ug(){var e=Sf();return e===null?null:{parent:be._currentValue,pool:e}}var Ra=Error(s(460)),Af=Error(s(474)),Ku=Error(s(542)),Yu={then:function(){}};function cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e}throw ks=i,Ra}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Ra):a}}var ks=null;function fg(){if(ks===null)throw Error(s(459));var e=ks;return ks=null,e}function dg(e){if(e===Ra||e===Ku)throw Error(s(483))}var Ia=null,Xo=0;function Xu(e){var i=Xo;return Xo+=1,Ia===null&&(Ia=[]),hg(Ia,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function mg(e){function i(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ui(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Y){return O===null||O.tag!==6?(O=hf(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function I(k,O,P,Y){var mt=P.type;return mt===Z?G(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Ms(mt)===O.type)?(O=h(O,P.props),$o(O,P),O.return=k,O):(O=qu(P.type,P.key,P.props,null,k.mode,Y),$o(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=ff(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Y,mt){return O===null||O.tag!==7?(O=Ns(P,k.mode,Y,mt),O.return=k,O):(O=h(O,P),O.return=k,O)}function $(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hf(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=qu(O.type,O.key,O.props,null,k.mode,P),$o(P,O),P.return=k,P;case X:return O=ff(O,k.mode,P),O.return=k,O;case b:return O=Ms(O),$(k,O,P)}if(Tt(O)||U(O))return O=Ns(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return $(k,Xu(O),P);if(O.$$typeof===gt)return $(k,Gu(k,O),P);$u(k,O)}return null}function j(k,O,P,Y){var mt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===mt?I(k,O,P,Y):null;case X:return P.key===mt?z(k,O,P,Y):null;case b:return P=Ms(P),j(k,O,P,Y)}if(Tt(P)||U(P))return mt!==null?null:G(k,O,P,Y,null);if(typeof P.then=="function")return j(k,O,Xu(P),Y);if(P.$$typeof===gt)return j(k,O,Gu(k,P),Y);$u(k,P)}return null}function q(k,O,P,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(O,k,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return k=k.get(Y.key===null?P:Y.key)||null,I(O,k,Y,mt);case X:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,mt);case b:return Y=Ms(Y),q(k,O,P,Y,mt)}if(Tt(Y)||U(Y))return k=k.get(P)||null,G(O,k,Y,mt,null);if(typeof Y.then=="function")return q(k,O,P,Xu(Y),mt);if(Y.$$typeof===gt)return q(k,O,P,Gu(O,Y),mt);$u(O,Y)}return null}function ot(k,O,P,Y){for(var mt=null,Ft=null,ct=O,Dt=O=0,Ut=null;ct!==null&&Dt<P.length;Dt++){ct.index>Dt?(Ut=ct,ct=null):Ut=ct.sibling;var Gt=j(k,ct,P[Dt],Y);if(Gt===null){ct===null&&(ct=Ut);break}e&&ct&&Gt.alternate===null&&i(k,ct),O=f(Gt,O,Dt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt,ct=Ut}if(Dt===P.length)return a(k,ct),Bt&&Li(k,Dt),mt;if(ct===null){for(;Dt<P.length;Dt++)ct=$(k,P[Dt],Y),ct!==null&&(O=f(ct,O,Dt),Ft===null?mt=ct:Ft.sibling=ct,Ft=ct);return Bt&&Li(k,Dt),mt}for(ct=o(ct);Dt<P.length;Dt++)Ut=q(ct,k,Dt,P[Dt],Y),Ut!==null&&(e&&Ut.alternate!==null&&ct.delete(Ut.key===null?Dt:Ut.key),O=f(Ut,O,Dt),Ft===null?mt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&ct.forEach(function(Pr){return i(k,Pr)}),Bt&&Li(k,Dt),mt}function Et(k,O,P,Y){if(P==null)throw Error(s(151));for(var mt=null,Ft=null,ct=O,Dt=O=0,Ut=null,Gt=P.next();ct!==null&&!Gt.done;Dt++,Gt=P.next()){ct.index>Dt?(Ut=ct,ct=null):Ut=ct.sibling;var Pr=j(k,ct,Gt.value,Y);if(Pr===null){ct===null&&(ct=Ut);break}e&&ct&&Pr.alternate===null&&i(k,ct),O=f(Pr,O,Dt),Ft===null?mt=Pr:Ft.sibling=Pr,Ft=Pr,ct=Ut}if(Gt.done)return a(k,ct),Bt&&Li(k,Dt),mt;if(ct===null){for(;!Gt.done;Dt++,Gt=P.next())Gt=$(k,Gt.value,Y),Gt!==null&&(O=f(Gt,O,Dt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&Li(k,Dt),mt}for(ct=o(ct);!Gt.done;Dt++,Gt=P.next())Gt=q(ct,k,Dt,Gt.value,Y),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?Dt:Gt.key),O=f(Gt,O,Dt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ct.forEach(function(WA){return i(k,WA)}),Bt&&Li(k,Dt),mt}function te(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var mt=P.key;O!==null;){if(O.key===mt){if(mt=P.type,mt===Z){if(O.tag===7){a(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Ms(mt)===O.type){a(k,O.sibling),Y=h(O,P.props),$o(Y,P),Y.return=k,k=Y;break t}a(k,O);break}else i(k,O);O=O.sibling}P.type===Z?(Y=Ns(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=qu(P.type,P.key,P.props,null,k.mode,Y),$o(Y,P),Y.return=k,k=Y)}return g(k);case X:t:{for(mt=P.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Y=ff(P,k.mode,Y),Y.return=k,k=Y}return g(k);case b:return P=Ms(P),te(k,O,P,Y)}if(Tt(P))return ot(k,O,P,Y);if(U(P)){if(mt=U(P),typeof mt!="function")throw Error(s(150));return P=mt.call(P),Et(k,O,P,Y)}if(typeof P.then=="function")return te(k,O,Xu(P),Y);if(P.$$typeof===gt)return te(k,O,Gu(k,P),Y);$u(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(a(k,O),Y=hf(P,k.mode,Y),Y.return=k,k=Y),g(k)):a(k,O)}return function(k,O,P,Y){try{Xo=0;var mt=te(k,O,P,Y);return Ia=null,mt}catch(ct){if(ct===Ra||ct===Ku)throw ct;var Ft=gn(29,ct,null,k.mode);return Ft.lanes=Y,Ft.return=k,Ft}}}var Us=mg(!0),pg=mg(!1),Tr=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Bu(e),Zp(e,null,a),i}return ju(e,o,i,a),Bu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}function Rf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function Zo(){if(If){var e=ba;if(e!==null)throw e}}function Wo(e,i,a,o){If=!1;var h=e.updateQueue;Tr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(kt&j)===j:(o&j)===j){j!==0&&j===wa&&(If=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,Et=E;j=i;var te=a;switch(Et.tag){case 1:if(ot=Et.payload,typeof ot=="function"){$=ot.call(te,$,j);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Et.payload,j=typeof ot=="function"?ot.call(te,$,j):ot,j==null)break t;$=A({},$,j);break t;case 2:Tr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=$):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Cr|=g,e.lanes=g,e.memoizedState=$}}function gg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function yg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gg(a[e],i)}var Ca=D(null),Ju=D(0);function _g(e,i){e=Yi,et(Ju,e),et(Ca,i),Yi=e|i.baseLanes}function Cf(){et(Ju,Yi),et(Ca,Ca.current)}function Nf(){Yi=Ju.current,K(Ca),K(Ju)}var yn=D(null),kn=null;function wr(e){var i=e.alternate;et(ge,ge.current&1),et(yn,e),kn===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(kn=e)}function xf(e){et(ge,ge.current),et(yn,e),kn===null&&(kn=e)}function vg(e){e.tag===22?(et(ge,ge.current),et(yn,e),kn===null&&(kn=e)):br()}function br(){et(ge,ge.current),et(yn,yn.current)}function _n(e){K(yn),kn===e&&(kn=null),K(ge)}var ge=D(0);function Zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Nt=null,Zt=null,Re=null,Wu=!1,Na=!1,Ls=!1,tc=0,tl=0,xa=null,HS=0;function he(){throw Error(s(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Of(e,i,a,o,h,f){return ji=f,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ny:Kf,Ls=!1,f=a(o,h),Ls=!1,Na&&(f=Tg(i,a,o,h)),Eg(e),f}function Eg(e){F.H=il;var i=Zt!==null&&Zt.next!==null;if(ji=0,Re=Zt=Nt=null,Wu=!1,tl=0,xa=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&Fu(e)&&(Ie=!0))}function Tg(e,i,a,o){Nt=e;var h=0;do{if(Na&&(xa=null),tl=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Re=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=iy,f=i(a,o)}while(Na);return f}function FS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?el(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function Vf(){var e=tc!==0;return tc=0,e}function Mf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(Wu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Wu=!1}ji=0,Re=Zt=Nt=null,Na=!1,tl=tc=0,xa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Nt.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Zt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Re===null?Nt.memoizedState:Re.next;if(i!==null)Re=i,Zt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Nt.memoizedState=Re=e:Re=Re.next=e}return Re}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var i=tl;return tl+=1,xa===null&&(xa=[]),e=hg(xa,e,i),i=Nt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ny:Kf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===gt)return He(e)}throw Error(s(438,String(e)))}function Uf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function ic(e){var i=ye();return Lf(i,Zt,e)}function Lf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,I=null,z=i,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(kt&$)===$:(ji&$)===$){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===wa&&(G=!0);else if((ji&j)===j){z=z.next,j===wa&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=$,g=f):I=I.next=$,Nt.lanes|=j,Cr|=j;$=z.action,Ls&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Nt.lanes|=$,Cr|=$;z=z.next}while(z!==null&&z!==i);if(I===null?g=f:I.next=E,!pn(f,e.memoizedState)&&(Ie=!0,G&&(a=ba,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Pf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,i.memoizedState)||(Ie=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Sg(e,i,a){var o=Nt,h=ye(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!pn((Zt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Bf(bg.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},wg.bind(null,o,h,a,i),null),ne===null)throw Error(s(349));f||(ji&127)!==0||Ag(o,i,a)}return a}function Ag(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=ec(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function wg(e,i,a,o){i.value=a,i.getSnapshot=o,Rg(i)&&Ig(e)}function bg(e,i,a){return a(function(){Rg(i)&&Ig(e)})}function Rg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Ig(e){var i=Cs(e,2);i!==null&&hn(i,e,2)}function zf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ls){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function Cg(e,i,a,o){return e.baseState=a,Lf(e,Zt,typeof o=="function"?o:Bi)}function GS(e,i,a,o,h){if(ac(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ng(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ng(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),I=F.S;I!==null&&I(g,E),xg(e,i,E)}catch(z){jf(e,i,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),xg(e,i,f)}catch(z){jf(e,i,z)}}function xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(e,i,o)},function(o){return jf(e,i,o)}):Dg(e,i,a)}function Dg(e,i,a){i.status="fulfilled",i.value=a,Og(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ng(e,a)))}function jf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Og(i),i=i.next;while(i!==o)}e.action=null}function Og(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Vg(e,i){return i}function Mg(e,i){if(Bt){var a=ne.formState;if(a!==null){t:{var o=Nt;if(Bt){if(ie){e:{for(var h=ie,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Un(h.nextSibling),o=h.data==="F!";break t}}vr(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=o,a=Wg.bind(null,Nt,o),o.dispatch=a,o=zf(!1),f=Qf.bind(null,Nt,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=GS.bind(null,Nt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function kg(e){var i=ye();return Ug(i,Zt,e)}function Ug(e,i,a){if(i=Lf(e,i,Vg)[0],e=ic(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=el(i)}catch(g){throw g===Ra?Ku:g}else o=i;i=ye();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Da(9,{destroy:void 0},QS.bind(null,h,a),null)),[o,f,e]}function QS(e,i){e.action=i}function Lg(e){var i=ye(),a=Zt;if(a!==null)return Ug(i,a,e);ye(),i=i.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Da(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=ec(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Pg(){return ye().memoizedState}function rc(e,i,a,o){var h=en();Nt.flags|=e,h.memoizedState=Da(1|i,{destroy:void 0},a,o===void 0?null:o)}function sc(e,i,a,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&Df(o,Zt.memoizedState.deps)?h.memoizedState=Da(i,f,a,o):(Nt.flags|=e,h.memoizedState=Da(1|i,f,a,o))}function zg(e,i){rc(8390656,8,e,i)}function Bf(e,i){sc(2048,8,e,i)}function KS(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=ec(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function jg(e){var i=ye().memoizedState;return KS({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Bg(e,i){return sc(4,2,e,i)}function qg(e,i){return sc(4,4,e,i)}function Hg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fg(e,i,a){a=a!=null?a.concat([e]):null,sc(4,4,Hg.bind(null,i,e),a)}function qf(){}function Gg(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Df(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Qg(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Df(i,o[1]))return o[0];if(o=e(),Ls){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function Hf(e,i,a){return a===void 0||(ji&1073741824)!==0&&(kt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Ky(),Nt.lanes|=e,Cr|=e,a)}function Kg(e,i,a,o){return pn(a,i)?a:Ca.current!==null?(e=Hf(e,a,o),pn(e,i)||(Ie=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(kt&261930)===0?(Ie=!0,e.memoizedState=a):(e=Ky(),Nt.lanes|=e,Cr|=e,i)}function Yg(e,i,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Qf(e,!1,i,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=qS(I,o);nl(e,i,G,Tn(e))}else nl(e,i,o,Tn(e))}catch($){nl(e,i,{then:function(){},status:"rejected",reason:$},Tn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function YS(){}function Ff(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Xg(e).queue;Yg(e,h,i,lt,a===null?YS:function(){return $g(e),a(o)})}function Xg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function $g(e){var i=Xg(e);i.next===null&&(i=e.alternate.memoizedState),nl(e,i.next.queue,{},Tn())}function Gf(){return He(vl)}function Jg(){return ye().memoizedState}function Zg(){return ye().memoizedState}function XS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Sr(a);var o=Ar(i,e,a);o!==null&&(hn(o,i,a),Jo(o,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function $S(e,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?ty(i,a):(a=uf(e,i,a,o),a!==null&&(hn(a,e,o),ey(a,i,o)))}function Wg(e,i,a){var o=Tn();nl(e,i,a,o)}function nl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))ty(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return ju(e,i,h,0),ne===null&&zu(),!1}catch{}if(a=uf(e,i,h,o),a!==null)return hn(a,e,o),ey(a,i,o),!0}return!1}function Qf(e,i,a,o){if(o={lane:2,revertLane:wd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(i)throw Error(s(479))}else i=uf(e,a,o,2),i!==null&&hn(i,e,2)}function ac(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function ty(e,i){Na=Wu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ey(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}var il={readContext:He,use:nc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};il.useEffectEvent=he;var ny={readContext:He,use:nc,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Hg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return rc(4194308,4,e,i)},useInsertionEffect:function(e,i){rc(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ls){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ls){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$S.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=Wg.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=en();return Hf(a,e,i)},useTransition:function(){var e=zf(!1);return e=Yg.bind(null,Nt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Nt,h=en();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(kt&127)!==0||Ag(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(bg.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},wg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=ne.identifierPrefix;if(Bt){var a=Ti,o=Ei;a=(o&~(1<<32-me(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=HS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Uf,useCacheRefresh:function(){return en().memoizedState=XS.bind(null,Nt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:He,use:nc,useCallback:Gg,useContext:He,useEffect:Bf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:ic,useRef:Pg,useState:function(){return ic(Bi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ye();return Kg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=ic(Bi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Sg,useId:Jg,useHostTransitionStatus:Gf,useFormState:kg,useActionState:kg,useOptimistic:function(e,i){var a=ye();return Cg(a,Zt,e,i)},useMemoCache:Uf,useCacheRefresh:Zg};Kf.useEffectEvent=jg;var iy={readContext:He,use:nc,useCallback:Gg,useContext:He,useEffect:Bf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Pf,useRef:Pg,useState:function(){return Pf(Bi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ye();return Zt===null?Hf(a,e,i):Kg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Pf(Bi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Sg,useId:Jg,useHostTransitionStatus:Gf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,i){var a=ye();return Zt!==null?Cg(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:Zg};iy.useEffectEvent=jg;function Yf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Sr(o);h.payload=i,a!=null&&(h.callback=a),i=Ar(e,h,o),i!==null&&(hn(i,e,o),Jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ar(e,h,o),i!==null&&(hn(i,e,o),Jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=Sr(a);o.tag=2,i!=null&&(o.callback=i),i=Ar(e,o,a),i!==null&&(hn(i,e,a),Jo(i,e,a))}};function ry(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function sy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Ps(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ay(e){Pu(e)}function oy(e){console.error(e)}function ly(e){Pu(e)}function oc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function uy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,i)},a}function cy(e){return e=Sr(e),e.tag=3,e}function hy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){uy(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){uy(i,a,o),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function JS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Aa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?vc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Td(e,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Td(e,o,h)),!1}throw Error(s(435,a.tag))}return Td(e,o,h),vc(),!1}if(Bt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==pf&&(e=Error(s(422),{cause:o}),Qo(Dn(e,a)))):(o!==pf&&(i=Error(s(423),{cause:o}),Qo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=$f(e.stateNode,o,h),Rf(e,h),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:o});if(f=Dn(f,a),hl===null?hl=[f]:hl.push(f),fe!==4&&(fe=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,o,e),Rf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,e,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Jf=Error(s(461)),Ie=!1;function Fe(e,i,a,o){i.child=e===null?pg(i,null,a,o):Us(i,e.child,a,o)}function fy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Os(i),o=Of(e,i,a,g,f,h),E=Vf(),e!==null&&!Ie?(Mf(e,i,h),qi(e,i,h)):(Bt&&E&&df(i),i.flags|=1,Fe(e,i,o,h),i.child)}function dy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!cf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,my(e,i,f,o,h)):(e=qu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!sd(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(g,o)&&e.ref===i.ref)return qi(e,i,h)}return i.flags|=1,e=Ui(f,o),e.ref=i.ref,e.return=i,i.child=e}function my(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=f,sd(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,qi(e,i,h)}return Zf(e,i,a,o,h)}function py(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return gy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(i,f!==null?f.cachePool:null),f!==null?_g(i,f):Cf(),vg(i);else return o=i.lanes=536870912,gy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(i,f.cachePool),_g(i,f),br(),i.memoizedState=null):(e!==null&&Qu(i,null),Cf(),br());return Fe(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gy(e,i,a,o,h){var f=Sf();return f=f===null?null:{parent:be._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Qu(i,null),Cf(),vg(i),e!==null&&Aa(e,i,o,!0),i.childLanes=h,null}function lc(e,i){return i=cc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function yy(e,i,a){return Us(i,e.child,null,a),e=lc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function ZS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=lc(i,o),i.lanes=536870912,rl(null,e);if(xf(i),(e=ie)?(e=N_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw vr(i);return i.lanes=536870912,null}return lc(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(xf(i),h)if(i.flags&256)i.flags&=-257,i=yy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Aa(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(g=bo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cs(e,g),hn(o,e,g),Jf;vc(),i=yy(e,i,a)}else e=f.treeContext,ie=Un(g.nextSibling),qe=i,Bt=!0,_r=null,Mn=!1,e!==null&&ig(i,e),i=lc(i,o),i.flags|=4096;return i}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function uc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Zf(e,i,a,o,h){return Os(i),a=Of(e,i,a,o,void 0,h),o=Vf(),e!==null&&!Ie?(Mf(e,i,h),qi(e,i,h)):(Bt&&o&&df(i),i.flags|=1,Fe(e,i,a,h),i.child)}function _y(e,i,a,o,h,f){return Os(i),i.updateQueue=null,a=Tg(i,o,a,h),Eg(e),o=Vf(),e!==null&&!Ie?(Mf(e,i,f),qi(e,i,f)):(Bt&&o&&df(i),i.flags|=1,Fe(e,i,a,f),i.child)}function vy(e,i,a,o,h){if(Os(i),i.stateNode===null){var f=va,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},wf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):va,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Xf.enqueueReplaceState(f,f.state,null),Wo(i,o,f,h),Zo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,I=Ps(a,E);f.props=I;var z=f.context,G=a.contextType;g=va,typeof G=="object"&&G!==null&&(g=He(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&sy(i,f,o,g),Tr=!1;var j=i.memoizedState;f.state=j,Wo(i,o,f,h),Zo(),z=i.memoizedState,E||j!==z||Tr?(typeof $=="function"&&(Yf(i,a,$,o),z=i.memoizedState),(I=Tr||ry(i,a,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,bf(e,i),g=i.memoizedProps,G=Ps(a,g),f.props=G,$=i.pendingProps,j=f.context,z=a.contextType,I=va,typeof z=="object"&&z!==null&&(I=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||j!==I)&&sy(i,f,o,I),Tr=!1,j=i.memoizedState,f.state=j,Wo(i,o,f,h),Zo();var q=i.memoizedState;g!==$||j!==q||Tr||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof E=="function"&&(Yf(i,a,E,o),q=i.memoizedState),(G=Tr||ry(i,a,G,o,j,q,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,uc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Us(i,e.child,null,h),i.child=Us(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=qi(e,i,h),e}function Ey(e,i,a,o){return xs(),i.flags|=256,Fe(e,i,a,o),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:ug()}}function ed(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Ty(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?wr(i):br(),(e=ie)?(e=N_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw vr(i);return Ld(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(br(),h=i.mode,E=cc({mode:"hidden",children:E},h),o=Ns(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=td(a),o.childLanes=ed(e,g,a),i.memoizedState=Wf,rl(null,o)):(wr(i),nd(i,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)i.flags&256?(wr(i),i.flags&=-257,i=id(e,i,a)):i.memoizedState!==null?(br(),i.child=e.child,i.flags|=128,i=null):(br(),E=o.fallback,h=i.mode,o=cc({mode:"visible",children:o.children},h),E=Ns(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Us(i,e.child,null,a),o=i.child,o.memoizedState=td(a),o.childLanes=ed(e,g,a),i.memoizedState=Wf,i=rl(null,o));else if(wr(i),Ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Qo({value:o,source:null,stack:null}),i=id(e,i,a)}else if(Ie||Aa(e,i,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=ne,g!==null&&(o=bo(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Cs(e,o),hn(g,e,o),Jf;Ud(E)||vc(),i=id(e,i,a)}else Ud(E)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ie=Un(E.nextSibling),qe=i,Bt=!0,_r=null,Mn=!1,e!==null&&ig(i,e),i=nd(i,o.children),i.flags|=4096);return i}return h?(br(),E=o.fallback,h=i.mode,I=e.child,z=I.sibling,o=Ui(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=Ns(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,rl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=td(a):(h=E.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=ed(e,g,a),i.memoizedState=Wf,rl(e.child,o)):(wr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function nd(e,i){return i=cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function id(e,i,a){return Us(i,e.child,null,a),e=nd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),_f(e.return,i,a)}function rd(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ay(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,et(ge,g),Fe(e,i,o,a),o=Bt?Go:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,i);else if(e.tag===19)Sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(i,!0,a,null,f,o);break;case"together":rd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Aa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function WS(e,i,a){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),Er(i,be,e.memoizedState.cache),xs();break;case 27:case 5:cs(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:Er(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ty(e,i,a):(wr(i),e=qi(e,i,a),e!==null?e.sibling:null);wr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Aa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ge,ge.current),o)break;return null;case 22:return i.lanes=0,py(e,i,a,i.pendingProps);case 24:Er(i,be,e.memoizedState.cache)}return qi(e,i,a)}function wy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!sd(e,a)&&(i.flags&128)===0)return Ie=!1,WS(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(i.flags&1048576)!==0&&ng(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")cf(e)?(o=Ps(e,o),i.tag=1,i=vy(null,i,e,o,a)):(i.tag=0,i=Zf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===vt){i.tag=11,i=fy(null,i,e,o,a);break t}else if(h===R){i.tag=14,i=dy(null,i,e,o,a);break t}}throw i=rt(e)||e,Error(s(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ps(o,i.pendingProps),vy(e,i,o,h,a);case 3:t:{if(ue(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,bf(e,i),Wo(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Er(i,be,o),o!==f.cache&&vf(i,[be],a,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ey(e,i,o,a);break t}else if(o!==h){h=Dn(Error(s(424)),i),Qo(h),i=Ey(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Un(e.firstChild),qe=i,Bt=!0,_r=null,Mn=!0,a=pg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xs(),o===h){i=qi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return uc(e,i),e===null?(a=k_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Rc(yt.current).createElement(a),o[Se]=i,o[ke]=e,Ge(o,a,e),Ae(o),i.stateNode=o):i.memoizedState=k_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cs(i),e===null&&Bt&&(o=i.stateNode=O_(i.type,i.pendingProps,yt.current),qe=i,Mn=!0,h=ie,Vr(i.type)?(Pd=h,ie=Un(o.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),uc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ie)&&(o=NA(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,qe=i,ie=Un(o.firstChild),Mn=!1,h=!0):h=!1),h||vr(i)),cs(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Vd(h,f)?o=null:g!==null&&Vd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,FS,null,null,a),vl._currentValue=h),uc(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ie)&&(a=xA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qe=i,ie=null,e=!0):e=!1),e||vr(i)),null;case 13:return Ty(e,i,a);case 4:return ue(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Us(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return fy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Er(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Os(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return dy(e,i,i.type,i.pendingProps,a);case 15:return my(e,i,i.type,i.pendingProps,a);case 19:return Ay(e,i,a);case 31:return ZS(e,i,a);case 22:return py(e,i,a,i.pendingProps);case 24:return Os(i),o=He(be),e===null?(h=Sf(),h===null&&(h=ne,f=Ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},wf(i),Er(i,be,h)):((e.lanes&a)!==0&&(bf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Er(i,be,o)):(o=f.cache,Er(i,be,o),o!==h.cache&&vf(i,[be],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function ad(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw ks=Yu,Af}else e.flags&=-16777217}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j_(i))if(Jy())e.flags|=8192;else throw ks=Yu,Af}function hc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?yu():536870912,e.lanes|=i,ka|=i)}function sl(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function tA(e,i,a){var o=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),zi(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Sa(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Hi(i),f!==null?(re(i),by(i,f)):(re(i),ad(i,h,null,o,a))):f?f!==e.memoizedState?(Hi(i),re(i),by(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(i),re(i),ad(i,h,e,o,a)),null;case 27:if(ta(i),a=yt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=st.current,Sa(i)?rg(i):(e=O_(h,o,a),i.stateNode=e,Hi(i))}return re(i),null;case 5:if(ta(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(f=st.current,Sa(i))rg(i);else{var g=Rc(yt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=i,f[ke]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(i)}}return re(i),ad(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Hi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Sa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T_(e.nodeValue,a)),e||vr(i,!0)}else e=Rc(e).createTextNode(o),e[Se]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),re(i),null);case 4:return ae(),e===null&&Cd(i.stateNode.containerInfo),re(i),null;case 10:return zi(i.type),re(i),null;case 19:if(K(ge),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Zu(e),f!==null){for(i.flags|=128,sl(o,!1),e=f.updateQueue,i.updateQueue=e,hc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Wp(a,e),a=a.sibling;return et(ge,ge.current&1|2),Bt&&Li(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>gc&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Zu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,hc(i,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return re(i),null}else 2*We()-o.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=ge.current,et(ge,h?a&1|2:a&1),Bt&&Li(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return _n(i),Nf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&K(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eA(e,i){switch(mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(be),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(ge),null;case 4:return ae(),null;case 10:return zi(i.type),null;case 22:case 23:return _n(i),Nf(),e!==null&&K(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(be),null;case 25:return null;default:return null}}function Ry(e,i){switch(mf(i),i.tag){case 3:zi(be),ae();break;case 26:case 27:case 5:ta(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:K(ge);break;case 10:zi(i.type);break;case 22:case 23:_n(i),Nf(),e!==null&&K(Vs);break;case 24:zi(be)}}function al(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function Rr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var I=a,z=E;try{z()}catch(G){$t(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){$t(i,i.return,G)}}function Iy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{yg(i,a)}catch(o){$t(e,e.return,o)}}}function Cy(e,i,a){a.props=Ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function Si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Ny(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function od(e,i,a){try{var o=e.stateNode;AA(o,e.type,a,i),o[ke]=i}catch(h){$t(e,e.return,h)}}function xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(o!==4&&(o===27&&Vr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ud(e,i,a),e=e.sibling;e!==null;)ud(e,i,a),e=e.sibling}function fc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,i,a),e=e.sibling;e!==null;)fc(e,i,a),e=e.sibling}function Dy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Se]=e,i[ke]=a}catch(f){$t(e,e.return,f)}}var Fi=!1,Ce=!1,cd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function nA(e,i){if(e=e.containerInfo,Dd=Vc,e=Fp(e),nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,z=0,G=0,$=e,j=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(I=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Vc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Ps(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){$t(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function Vy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&al(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){$t(a,a.return,g)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}o&64&&Iy(a),o&512&&ol(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(e,i)}catch(g){$t(a,a.return,g)}}break;case 27:i===null&&o&4&&Dy(a);case 26:case 5:Qi(e,a),i===null&&o&4&&Ny(a),o&512&&ol(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&Uy(e,a);break;case 13:Qi(e,a),o&4&&Ly(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),DA(e,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){i=i!==null&&i.memoizedState!==null||Ce,h=Fi;var f=Ce;Fi=o,(Ce=i)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Fi=h,Ce=f}break;case 30:break;default:Qi(e,a)}}function My(e){var i=e.alternate;i!==null&&(e.alternate=null,My(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&sa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Gi(e,i,a){for(a=a.child;a!==null;)ky(e,i,a),a=a.sibling}function ky(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ce||Si(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Si(a,i);var o=le,h=on;Vr(a.type)&&(le=a.stateNode,on=!1),Gi(e,i,a),gl(a.stateNode),le=o,on=h;break;case 5:Ce||Si(a,i);case 6:if(o=le,h=on,le=null,Gi(e,i,a),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:le!==null&&(on?(e=le,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):I_(le,a.stateNode));break;case 4:o=le,h=on,le=a.stateNode.containerInfo,on=!0,Gi(e,i,a),le=o,on=h;break;case 0:case 11:case 14:case 15:Rr(2,a,i),Ce||Rr(4,a,i),Gi(e,i,a);break;case 1:Ce||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,i,o)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Gi(e,i,a),Ce=o;break;default:Gi(e,i,a)}}function Uy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){$t(i,i.return,a)}}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){$t(i,i.return,a)}}function iA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Oy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Oy),i;default:throw Error(s(435,e.tag))}}function dc(e,i){var a=iA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=fA.bind(null,e,o);o.then(h,h)}})}function ln(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(s(160));ky(f,g,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Py(i,e),i=i.sibling}var $n=null;function Py(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),o&4&&(Rr(3,e,e.return),al(3,e),Rr(5,e,e.return));break;case 1:ln(i,e),un(e),o&512&&(Ce||a===null||Si(a,a.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(ln(i,e),un(e),o&512&&(Ce||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=P_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(g=P_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else z_(h,e.type,e.stateNode);else e.stateNode=L_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z_(h,e.type,e.stateNode):L_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),o&512&&(Ce||a===null||Si(a,a.return)),a!==null&&o&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),o&512&&(Ce||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,a!==null?a.memoizedProps:h)),o&1024&&(cd=!0);break;case 6:if(ln(i,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(Nc=null,h=$n,$n=Ic(i.containerInfo),ln(i,e),$n=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(ot){$t(e,e.return,ot)}cd&&(cd=!1,zy(e));break;case 4:o=$n,$n=Ic(e.stateNode.containerInfo),ln(i,e),un(e),$n=o;break;case 12:ln(i,e),un(e);break;case 31:ln(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,G=Ce;if(Fi=z||h,Ce=G||I,ln(i,e),Ce=G,Fi=z,un(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||Ce||zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){$t(I,I.return,ot)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){$t(I,I.return,ot)}}}else if(i.tag===18){if(a===null){I=i;try{var q=I.stateNode;h?C_(q,!0):C_(I.stateNode,!1)}catch(ot){$t(I,I.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(e,a))));break;case 19:ln(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(xy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(e);fc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=ld(e);fc(e,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=ld(e);ud(e,z,I);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vy(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Rr(4,i,i.return),zs(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),zs(i);break;case 27:gl(i.stateNode);case 26:case 5:Si(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function Ki(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),al(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)gg(I[h],E)}catch(z){$t(o,o.return,z)}}a&&g&64&&Iy(f),ol(f,f.return);break;case 27:Dy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&g&4&&Ny(f),ol(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&g&4&&Uy(h,f);break;case 13:Ki(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),ol(f,f.return);break;case 30:break;default:Ki(h,f,a)}i=i.sibling}}function hd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function fd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function Jn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(e,i,a,o),i=i.sibling}function jy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i,a,o),h&2048&&al(9,i);break;case 1:Jn(e,i,a,o);break;case 3:Jn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){Jn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(i,i.return,I)}}else Jn(e,i,a,o);break;case 31:Jn(e,i,a,o);break;case 13:Jn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?Jn(e,i,a,o):ll(e,i):f._visibility&2?Jn(e,i,a,o):(f._visibility|=2,Oa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(g,i);break;case 24:Jn(e,i,a,o),h&2048&&fd(i.alternate,i);break;default:Jn(e,i,a,o)}}function Oa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,I,h),al(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,I,h):ll(f,g):(G._visibility|=2,Oa(f,g,E,I,h)),h&&z&2048&&hd(g.alternate,g);break;case 24:Oa(f,g,E,I,h),h&&z&2048&&fd(g.alternate,g);break;default:Oa(f,g,E,I,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&hd(o.alternate,o);break;case 24:ll(a,o),h&2048&&fd(o.alternate,o);break;default:ll(a,o)}i=i.sibling}}var ul=8192;function Va(e,i,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)By(e,i,a),e=e.sibling}function By(e,i,a){switch(e.tag){case 26:Va(e,i,a),e.flags&ul&&e.memoizedState!==null&&HA(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Va(e,i,a);break;case 3:case 4:var o=$n;$n=Ic(e.stateNode.containerInfo),Va(e,i,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Va(e,i,a),ul=o):Va(e,i,a));break;default:Va(e,i,a)}}function qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Fy(o,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,mc(e)):cl(e);break;default:cl(e)}}function mc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Fy(o,e)}qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Rr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}e=e.sibling}}function Fy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(My(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var rA={getCacheForType:function(e){var i=He(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},sA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Vt=null,kt=0,Xt=0,vn=null,Ir=!1,Ma=!1,dd=!1,Yi=0,fe=0,Cr=0,js=0,md=0,En=0,ka=0,hl=null,cn=null,pd=!1,pc=0,Gy=0,gc=1/0,yc=null,Nr=null,Ve=0,xr=null,Ua=null,Xi=0,gd=0,yd=null,Qy=null,fl=0,_d=null;function Tn(){return(Kt&2)!==0&&kt!==0?kt&-kt:F.T!==null?wd():_u()}function Ky(){if(En===0)if((kt&536870912)===0||Bt){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Dr(e,kt,En,!1)),ms(e,a),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(js|=a),fe===4&&Dr(e,kt,En,!1)),Ai(e))}function Yy(e,i,a){if((Kt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=o?lA(e,i):Ed(e,i,!0),f=o;do{if(h===0){Ma&&!o&&Dr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!aA(a)){h=Ed(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=hl;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,g).flags|=256),g=Ed(E,g,!1),g!==2){if(dd&&!I){E.errorRecoveryDisabledLanes|=f,js|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Dr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Dr(o,i,En,!Ir);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-We(),10<h)){if(Dr(o,i,En,!Ir),si(o,0,!0)!==0)break t;Xi=i,o.timeoutHandle=b_(Xy.bind(null,o,a,cn,yc,pd,i,En,js,ka,Ir,f,"Throttled",-0,0),h);break t}Xy(o,a,cn,yc,pd,i,En,js,ka,Ir,f,null,-0,0)}}break}while(!0);Ai(e)}function Xy(e,i,a,o,h,f,g,E,I,z,G,$,j,q){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},By(i,f,$);var ot=(f&62914560)===f?pc-We():(f&4194048)===f?Gy-We():0;if(ot=FA($,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot(i_.bind(null,e,i,f,a,o,h,g,E,I,G,$,null,j,q)),Dr(e,f,g,!z);return}}i_(e,i,f,a,o,h,g,E,I)}function aA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dr(e,i,a,o){i&=~md,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ps(e,a,i)}function _c(){return(Kt&6)===0?(dl(0),!1):!0}function vd(){if(Vt!==null){if(Xt===0)var e=Vt.return;else e=Vt,Pi=Ds=null,kf(e),Ia=null,Xo=0,e=Vt;for(;e!==null;)Ry(e.alternate,e),e=e.return;Vt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,RA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,vd(),ne=e,Vt=a=Ui(e.current,null),kt=i,Xt=0,vn=null,Ir=!1,Ma=Bn(e,i),dd=!1,ka=En=md=js=Cr=fe=0,cn=hl=null,pd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-me(o),f=1<<h;i|=e[h],o&=~f}return Yi=i,zu(),a}function $y(e,i){Nt=null,F.H=il,i===Ra||i===Ku?(i=fg(),Xt=3):i===Af?(i=fg(),Xt=4):Xt=i===Jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Vt===null&&(fe=1,oc(e,Dn(i,e.current)))}function Jy(){var e=yn.current;return e===null?!0:(kt&4194048)===kt?kn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===kn:!1}function Zy(){var e=F.H;return F.H=il,e===null?il:e}function Wy(){var e=F.A;return F.A=rA,e}function vc(){fe=4,Ir||(kt&4194048)!==kt&&yn.current!==null||(Ma=!0),(Cr&134217727)===0&&(js&134217727)===0||ne===null||Dr(ne,kt,En,!1)}function Ed(e,i,a){var o=Kt;Kt|=2;var h=Zy(),f=Wy();(ne!==e||kt!==i)&&(yc=null,La(e,i)),i=!1;var g=fe;t:do try{if(Xt!==0&&Vt!==null){var E=Vt,I=vn;switch(Xt){case 8:vd(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Xt;if(Xt=0,vn=null,Pa(e,E,I,z),a&&Ma){g=0;break t}break;default:z=Xt,Xt=0,vn=null,Pa(e,E,I,z)}}oA(),g=fe;break}catch(G){$y(e,G)}while(!0);return i&&e.shellSuspendCounter++,Pi=Ds=null,Kt=o,F.H=h,F.A=f,Vt===null&&(ne=null,kt=0,zu()),g}function oA(){for(;Vt!==null;)t_(Vt)}function lA(e,i){var a=Kt;Kt|=2;var o=Zy(),h=Wy();ne!==e||kt!==i?(yc=null,gc=We()+500,La(e,i)):Ma=Bn(e,i);t:do try{if(Xt!==0&&Vt!==null){i=Vt;var f=vn;e:switch(Xt){case 1:Xt=0,vn=null,Pa(e,i,f,1);break;case 2:case 9:if(cg(f)){Xt=0,vn=null,e_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ai(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:cg(f)?(Xt=0,vn=null,e_(i)):(Xt=0,vn=null,Pa(e,i,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?j_(g):E.stateNode.complete){Xt=0,vn=null;var I=E.sibling;if(I!==null)Vt=I;else{var z=E.return;z!==null?(Vt=z,Ec(z)):Vt=null}break e}}Xt=0,vn=null,Pa(e,i,f,5);break;case 6:Xt=0,vn=null,Pa(e,i,f,6);break;case 8:vd(),fe=6;break t;default:throw Error(s(462))}}uA();break}catch(G){$y(e,G)}while(!0);return Pi=Ds=null,F.H=o,F.A=h,Kt=a,Vt!==null?0:(ne=null,kt=0,zu(),fe)}function uA(){for(;Vt!==null&&!Xh();)t_(Vt)}function t_(e){var i=wy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?Ec(e):Vt=i}function e_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=_y(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=_y(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:kf(i);default:Ry(a,i),i=Vt=Wp(i,Yi),i=wy(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?Ec(e):Vt=i}function Pa(e,i,a,o){Pi=Ds=null,kf(i),Ia=null,Xo=0;var h=i.return;try{if(JS(e,h,i,a,kt)){fe=1,oc(e,Dn(a,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;fe=1,oc(e,Dn(a,e.current)),Vt=null;return}i.flags&32768?(Bt||o===1?e=!0:Ma||(kt&536870912)!==0?e=!1:(Ir=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),n_(i,e)):Ec(i)}function Ec(e){var i=e;do{if((i.flags&32768)!==0){n_(i,Ir);return}e=i.return;var a=tA(i.alternate,i,Yi);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);fe===0&&(fe=5)}function n_(e,i){do{var a=eA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);fe=6,Vt=null}function i_(e,i,a,o,h,f,g,E,I){e.cancelPendingCommit=null;do Tc();while(Ve!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=lf,Zh(e,a,f,g,E,I),e===ne&&(Vt=ne=null,kt=0),Ua=i,xr=e,Xi=a,gd=f,yd=h,Qy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dA(or,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=W.p,W.p=2,g=Kt,Kt|=4;try{nA(e,i,a)}finally{Kt=g,W.p=h,F.T=o}}Ve=1,r_(),s_(),a_()}}function r_(){if(Ve===1){Ve=0;var e=xr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=W.p;W.p=2;var h=Kt;Kt|=4;try{Py(i,e);var f=Od,g=Fp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(I!==null&&nf(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,Et=Math.min(I.start,ot),te=I.end===void 0?Et:Math.min(I.end,ot);!q.extend&&Et>te&&(g=te,te=Et,Et=g);var k=qp(E,Et),O=qp(E,te);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=$.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),Et>te?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Vc=!!Dd,Od=Dd=null}finally{Kt=h,W.p=o,F.T=a}}e.current=i,Ve=2}}function s_(){if(Ve===2){Ve=0;var e=xr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=W.p;W.p=2;var h=Kt;Kt|=4;try{Vy(e,i.alternate,i)}finally{Kt=h,W.p=o,F.T=a}}Ve=3}}function a_(){if(Ve===4||Ve===3){Ve=0,hu();var e=xr,i=Ua,a=Xi,o=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,Ua=xr=null,o_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Nr=null),Oi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=W.p,W.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=i,W.p=h}}(Xi&3)!==0&&Tc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===_d?fl++:(fl=0,_d=e):fl=0,dl(0)}}function o_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function Tc(){return r_(),s_(),a_(),l_()}function l_(){if(Ve!==5)return!1;var e=xr,i=gd;gd=0;var a=Oi(Xi),o=F.T,h=W.p;try{W.p=32>a?32:a,F.T=null,a=yd,yd=null;var f=xr,g=Xi;if(Ve=0,Ua=xr=null,Xi=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,Hy(f.current),jy(f,f.current,g,a),Kt=E,dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{W.p=h,F.T=o,o_(e,i)}}function u_(e,i,a){i=Dn(a,i),i=$f(e.stateNode,i,2),e=Ar(e,i,2),e!==null&&(ms(e,2),Ai(e))}function $t(e,i,a){if(e.tag===3)u_(e,e,a);else for(;i!==null;){if(i.tag===3){u_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){e=Dn(a,e),a=cy(2),o=Ar(i,a,2),o!==null&&(hy(a,o,i,e),ms(o,2),Ai(o));break}}i=i.return}}function Td(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new sA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(dd=!0,h.add(a),e=cA.bind(null,e,i,a),i.then(e,e))}function cA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(kt&a)===a&&(fe===4||fe===3&&(kt&62914560)===kt&&300>We()-pc?(Kt&2)===0&&La(e,0):md|=a,ka===kt&&(ka=0)),Ai(e)}function c_(e,i){i===0&&(i=yu()),e=Cs(e,i),e!==null&&(ms(e,i),Ai(e))}function hA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(e,a)}function fA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),c_(e,a)}function dA(e,i){return Oe(e,i)}var Sc=null,za=null,Sd=!1,Ac=!1,Ad=!1,Or=0;function Ai(e){e!==za&&e.next===null&&(za===null?Sc=za=e:za=za.next=e),Ac=!0,Sd||(Sd=!0,pA())}function dl(e,i){if(!Ad&&Ac){Ad=!0;do for(var a=!1,o=Sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m_(o,f))}else f=kt,f=si(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,m_(o,f));o=o.next}while(a);Ad=!1}}function mA(){h_()}function h_(){Ac=Sd=!1;var e=0;Or!==0&&bA()&&(e=Or);for(var i=We(),a=null,o=Sc;o!==null;){var h=o.next,f=f_(o,i);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(Ac=!0)),o=h}Ve!==0&&Ve!==5||dl(e),Or!==0&&(Or=0)}function f_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Jh(E,i)):I<=i&&(e.expiredLanes|=E),f&=~E}if(i=ne,a=kt,a=si(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ar(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ar(o),Oi(a)){case 2:case 8:a=Ao;break;case 32:a=or;break;case 268435456:a=fu;break;default:a=or}return o=d_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ar(o),e.callbackPriority=2,e.callbackNode=null,2}function d_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var o=kt;return o=si(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,i),f_(e,We()),e.callbackNode!=null&&e.callbackNode===a?d_.bind(null,e):null)}function m_(e,i){if(Tc())return null;Yy(e,i,!0)}function pA(){IA(function(){(Kt&6)!==0?Oe(So,mA):h_()})}function wd(){if(Or===0){var e=wa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Or=e}return Or}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function g_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function gA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=p_((h[ke]||null).action),g=o.submitter;g&&(i=(i=g[ke]||null)?p_(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var I=g?g_(h,g):new FormData(h);Ff(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?g_(h,g):new FormData(h),Ff(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var bd=0;bd<of.length;bd++){var Rd=of[bd],yA=Rd.toLowerCase(),_A=Rd[0].toUpperCase()+Rd.slice(1);Xn(yA,"on"+_A)}Xn(Kp,"onAnimationEnd"),Xn(Yp,"onAnimationIteration"),Xn(Xp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(MS,"onTransitionRun"),Xn(kS,"onTransitionStart"),Xn(US,"onTransitionCancel"),Xn($p,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function y_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=I}}}}function Mt(e,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var o=e+"__bubble";a.has(o)||(__(i,e,2,!1),a.add(o))}function Id(e,i,a){var o=0;i&&(o|=4),__(a,e,o,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[wc]){e[wc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,Id("selectionchange",!1,i))}}function __(e,i,a,o){switch(K_(i)){case 2:var h=KA;break;case 8:h=YA;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}dr(function(){var z=f,G=In(a),$=[];t:{var j=Jp.get(e);if(j!==void 0){var q=gi,ot=e;switch(e){case"keypress":if(Ss(a)===0)break t;case"keydown":case"keyup":q=ku;break;case"focusin":ot="focus",q=ws;break;case"focusout":ot="blur",q=ws;break;case"beforeblur":case"afterblur":q=ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Kp:case Yp:case Xp:q=Cu;break;case $p:q=S;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=Ct}var Et=(i&4)!==0,te=!Et&&(e==="scroll"||e==="scrollend"),k=Et?j!==null?j+"Capture":null:j;Et=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Gn(O,k),Y!=null&&Et.push(pl(O,Y,P))),te)break;O=O.return}0<Et.length&&(j=new q(j,ot,null,a,G),$.push({event:j,listeners:Et}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==ko&&(ot=a.relatedTarget||a.fromElement)&&(ui(ot)||ot[oi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?ui(ot):null,ot!==null&&(te=u(ot),Et=ot.tag,ot!==te||Et!==5&&Et!==27&&Et!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(Et=zo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=ki,Y="onPointerLeave",k="onPointerEnter",O="pointer"),te=q==null?j:dn(q),P=ot==null?j:dn(ot),j=new Et(Y,O+"leave",q,a,G),j.target=te,j.relatedTarget=P,Y=null,ui(G)===z&&(Et=new Et(k,O+"enter",ot,a,G),Et.target=P,Et.relatedTarget=te,Y=Et),te=Y,q&&ot)e:{for(Et=EA,k=q,O=ot,P=0,Y=k;Y;Y=Et(Y))P++;Y=0;for(var mt=O;mt;mt=Et(mt))Y++;for(;0<P-Y;)k=Et(k),P--;for(;0<Y-P;)O=Et(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){Et=k;break e}k=Et(k),O=Et(O)}Et=null}else Et=null;q!==null&&v_($,j,q,Et,!1),ot!==null&&te!==null&&v_($,te,ot,Et,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=Up;else if(Mp(j))if(Lp)Ft=DS;else{Ft=NS;var ct=CS}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(Ft=Up):Ft=xS;if(Ft&&(Ft=Ft(e,z))){kp($,Ft,a,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Oo(j,"number",j.value)}switch(ct=z?dn(z):window,e){case"focusin":(Mp(ct)||ct.contentEditable==="true")&&(ga=ct,rf=z,Fo=null);break;case"focusout":Fo=rf=ga=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Gp($,a,G);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Gp($,a,G)}var Dt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else pa?bs(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(vi&&a.locale!=="ko"&&(pa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&pa&&(Dt=Lo()):(pi=G,Uo="value"in pi?pi.value:pi.textContent,pa=!0)),ct=bc(z,Ut),0<ct.length&&(Ut=new _i(Ut,e,null,a,G),$.push({event:Ut,listeners:ct}),Dt?Ut.data=Dt:(Dt=ma(a),Dt!==null&&(Ut.data=Dt)))),(Dt=Nn?wS(e,a):bS(e,a))&&(Ut=bc(z,"onBeforeInput"),0<Ut.length&&(ct=new _i("onBeforeInput","beforeinput",null,a,G),$.push({event:ct,listeners:Ut}),ct.data=Dt)),gA($,e,z,a,G)}y_($,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function bc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(pl(e,h,f)),h=Gn(e,i),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function EA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Gn(a,f),z!=null&&g.unshift(pl(a,z,I))):h||(z=Gn(a,f),z!=null&&g.push(pl(a,z,I)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var TA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(TA,`
`).replace(SA,"")}function T_(e,i){return i=E_(i),E_(e)===i}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,aa(e,a,o))}}function xd(e,i,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,f,g,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,o,G,a,null)}}Su(e,f,E,I,z,g,h,!1);return;case"select":Mt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?ur(e,!!o,i,!1):a!=null&&ur(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,g,E,a,null)}cr(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,i,I,o,a,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)Mt(ml[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,z,o,a,null)}return;default:if(la(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&xd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function AA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(q)||Wt(e,i,q,null,o,$)}}for(var j in o){var q=o[j];if($=a[j],o.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==$&&Wt(e,i,j,q,o,$)}}oa(e,g,E,I,z,G,f,h);return;case"select":q=g=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Wt(e,i,h,f,o,I)}i=E,a=g,o=q,j!=null?ur(e,!!a,j,!1):!!o!=!!a&&(i!=null?ur(e,!!a,i,!0):ur(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,i,g,h,o,f)}Au(e,j,q);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Wt(e,i,ot,null,o,j));for(I in o)j=o[I],q=a[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,i,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!o.hasOwnProperty(Et)&&Wt(e,i,Et,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Wt(e,i,z,j,o,q)}return;default:if(la(i)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&xd(e,i,te,void 0,o,j);for(G in o)j=o[G],q=a[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||xd(e,i,G,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,i,k,null,o,j);for($ in o)j=o[$],q=a[$],!o.hasOwnProperty($)||j===q||j==null&&q==null||Wt(e,i,$,j,o,q)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&S_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,$=I.initiatorType;G&&S_($)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,Od=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function bA(){var e=window.event;return e&&e.type==="popstate"?e===Md?!1:(Md=e,!0):(Md=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(CA)}:b_;function CA(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function I_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")gl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&gl(e.ownerDocument.body);a=h}while(a);Ha(i)}function C_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function xA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function N_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function DA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Pd=null;function x_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function D_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function O_(e,i,a){switch(i=Rc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);sa(e)}var Ln=new Map,V_=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=W.d;W.d={f:OA,r:VA,D:MA,C:kA,L:UA,m:LA,X:zA,S:PA,M:jA};function OA(){var e=$i.f(),i=_c();return e||i}function VA(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?$g(i):$i.r(e)}var ja=typeof document>"u"?null:document;function M_(e,i,a){var o=ja;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Ae(i),o.head.appendChild(i)))}}function MA(e){$i.D(e),M_("dns-prefetch",e,null)}function kA(e,i){$i.C(e,i),M_("preconnect",e,i)}function UA(e,i,a){$i.L(e,i,a);var o=ja;if(o&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=Ba(e);break;case"script":f=qa(e)}Ln.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(yl(f))||i==="script"&&o.querySelector(_l(f))||(i=o.createElement("link"),Ge(i,"link",e),Ae(i),o.head.appendChild(i)))}}function LA(e,i){$i.m(e,i);var a=ja;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ae(o),a.head.appendChild(o)}}}function PA(e,i,a){$i.S(e,i,a);var o=ja;if(o&&e){var h=ci(o).hoistableStyles,f=Ba(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(yl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&zd(e,a);var I=g=o.createElement("link");Ae(I),Ge(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function zA(e,i){$i.X(e,i);var a=ja;if(a&&e){var o=ci(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(e=A({src:e,async:!0},i),(i=Ln.get(h))&&jd(e,i),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jA(e,i){$i.M(e,i);var a=ja;if(a&&e){var o=ci(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&jd(e,i),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k_(e,i,a,o){var h=(h=yt.current)?Ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=ci(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(yl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||BA(h,e,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=ci(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+sn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function BA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Ae(i),e.head.appendChild(i))}function qa(e){return'[src="'+sn(e)+'"]'}function _l(e){return"script[async]"+e}function L_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,Ae(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ge(o,"style",h),Cc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(yl(h));if(f)return i.state.loading|=4,i.instance=f,Ae(f),f;o=U_(a),(h=Ln.get(h))&&zd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",o),i.state.loading|=4,Cc(f,a.precedence,e),i.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(_l(f)))?(i.instance=h,Ae(h),h):(o=a,(h=Ln.get(f))&&(o=A({},a),jd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Cc(o,a.precedence,e));return i.instance}function Cc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function P_(e,i,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function z_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function qA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function j_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function HA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=i.querySelector(yl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=i.ownerDocument||i,o=U_(o),(h=Ln.get(h))&&zd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function FA(e,i){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Bd===0&&(Bd=62500*wA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Bd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function Oc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,i.forEach(GA,e),Dc=null,xc.call(e))}function GA(e,i){if(!(i.state.loading&4)){var a=Dc.get(e);if(a)var o=a.get(null);else{a=new Map,Dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function QA(e,i,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function B_(e,i,a,o,h,f,g,E,I,z,G,$){return e=new QA(e,i,a,g,I,z,G,$,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},wf(f),e}function q_(e){return e?(e=va,e):va}function H_(e,i,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ar(e,o,i),a!==null&&(hn(a,e,i),Jo(a,e,i))}function F_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function qd(e,i){F_(e,i),(e=e.alternate)&&F_(e,i)}function G_(e){if(e.tag===13||e.tag===31){var i=Cs(e,67108864);i!==null&&hn(i,e,67108864),qd(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var i=Tn();i=gs(i);var a=Cs(e,i);a!==null&&hn(a,e,i),qd(e,i)}}var Vc=!0;function KA(e,i,a,o){var h=F.T;F.T=null;var f=W.p;try{W.p=2,Hd(e,i,a,o)}finally{W.p=f,F.T=h}}function YA(e,i,a,o){var h=F.T;F.T=null;var f=W.p;try{W.p=8,Hd(e,i,a,o)}finally{W.p=f,F.T=h}}function Hd(e,i,a,o){if(Vc){var h=Fd(o);if(h===null)Nd(e,i,o,Mc,a),Y_(e,o);else if($A(h,e,i,a,o))o.stopPropagation();else if(Y_(e,o),i&4&&-1<XA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-me(g);E.entanglements[1]|=I,g&=~I}Ai(f),(Kt&6)===0&&(gc=We()+500,dl(0))}}break;case 31:case 13:E=Cs(f,2),E!==null&&hn(E,f,2),_c(),qd(f,2)}if(f=Fd(o),f===null&&Nd(e,i,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Nd(e,i,o,null,a)}}function Fd(e){return e=In(e),Gd(e)}var Mc=null;function Gd(e){if(Mc=null,e=ui(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Mc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case So:return 2;case Ao:return 8;case or:case $h:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Qd=!1,Mr=null,kr=null,Ur=null,El=new Map,Tl=new Map,Lr=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,i){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&G_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function $A(e,i,a,o,h){switch(i){case"focusin":return Mr=Sl(Mr,e,i,a,o,h),!0;case"dragenter":return kr=Sl(kr,e,i,a,o,h),!0;case"mouseover":return Ur=Sl(Ur,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Sl(El.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Sl(Tl.get(f)||null,e,i,a,o,h)),!0}return!1}function X_(e){var i=ui(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,qn(e.priority,function(){Q_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,qn(e.priority,function(){Q_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Fd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ko=o,a.target.dispatchEvent(o),ko=null}else return i=Rn(a),i!==null&&G_(i),e.blockedOn=a,!1;i.shift()}return!0}function $_(e,i,a){kc(e)&&a.delete(i)}function JA(){Qd=!1,Mr!==null&&kc(Mr)&&(Mr=null),kr!==null&&kc(kr)&&(kr=null),Ur!==null&&kc(Ur)&&(Ur=null),El.forEach($_),Tl.forEach($_)}function Uc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JA)))}var Lc=null;function J_(e){Lc!==e&&(Lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Gd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Ff(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function i(I){return Uc(I,e)}Mr!==null&&Uc(Mr,e),kr!==null&&Uc(kr,e),Ur!==null&&Uc(Ur,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&Lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ke]||null;if(typeof f=="function")g||J_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Gd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),J_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}Pc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();H_(a,o,e,i,null,null)},Pc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;H_(e.current,2,null,e,null,null),_c(),i[oi]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=_u();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Lr.length&&i!==0&&i<Lr[a].priority;a++);Lr.splice(a,0,e),a===0&&X_(e)}};var W_=t.version;if(W_!=="19.2.4")throw Error(s(527,W_,"19.2.4"));W.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{jn=zc.inject(ZA),je=zc}catch{}}return wl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=ay,f=oy,g=ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=B_(e,1,!1,null,null,a,o,null,h,f,g,Z_),e[oi]=i.current,Cd(e),new Kd(i)},wl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=ay,g=oy,E=ly,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=B_(e,1,!0,i,a??null,o,h,I,f,g,E,Z_),i.context=q_(null),a=i.current,o=Tn(),o=gs(o),h=Sr(o),h.callback=null,Ar(a,h,o),a=o,i.current.lanes=a,ms(i,a),Ai(i),e[oi]=i.current,Cd(e),new Pc(i)},wl.version="19.2.4",wl}var uv;function lw(){if(uv)return $d.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$d.exports=ow(),$d.exports}var uw=lw();function cw({issues:r,onSelect:t}){return r.length===0?x.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-ink-900/40 p-6 text-sm text-white/40 text-center",children:"No issues found. Try another search."}):x.jsx("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:r.map((n,s)=>x.jsx("button",{onClick:()=>t(n),className:"group text-left animate-fade-in cursor-pointer",style:{animationDelay:`${s*40}ms`},children:x.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-xl border border-white/[0.06] bg-ink-900/50 transition-all duration-300 hover:border-white/[0.12] hover:bg-ink-800/60 hover:shadow-xl hover:shadow-black/30 hover:-translate-y-1",children:[x.jsxs("div",{className:"relative overflow-hidden",children:[n.image?.small_url?x.jsx("img",{src:n.image.small_url,alt:n.name??"Issue cover",className:"aspect-[2/3] w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}):x.jsx("div",{className:"flex aspect-[2/3] items-center justify-center bg-ink-800 text-xs text-white/25",children:"No cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-ink-950/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),x.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 p-3",children:[x.jsxs("p",{className:"text-sm font-semibold text-white/85 group-hover:text-white transition-colors line-clamp-2",children:[n.volume?.name??"Untitled"," ",x.jsxs("span",{className:"text-white/35",children:["#",n.issue_number]})]}),x.jsx("p",{className:"text-xs text-white/35 truncate",children:n.name??"Unnamed Issue"}),x.jsx("p",{className:"text-[10px] text-white/20 mt-1",children:n.cover_date??"Unknown date"})]})]})},n.id))})}function hw({value:r,onChange:t,onSubmit:n,isLoading:s=!1,suggestions:l=[],localSuggestions:u=[],isSuggesting:d=!1,onSelectSuggestion:p,onSelectIssueSuggestion:_}){const[y,T]=Rt.useState(!1),A=Rt.useRef(null);Rt.useEffect(()=>{const X=Z=>{A.current&&!A.current.contains(Z.target)&&T(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const N=X=>{X.preventDefault(),T(!1),n()},H=y&&(l.length>0||u.length>0||d);return x.jsxs("div",{className:"relative",ref:A,children:[x.jsxs("form",{onSubmit:N,className:"relative",children:[x.jsx("div",{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-white/30",children:x.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})}),x.jsx("input",{value:r,onChange:X=>t(X.target.value),onFocus:()=>T(!0),placeholder:"Search comic issue...",className:"w-full rounded-xl border border-white/[0.08] bg-ink-800/50 py-3.5 pl-11 pr-28 text-sm text-white placeholder:text-white/30 shadow-lg shadow-black/20 transition-all duration-200 focus:border-accent-red/25 focus:bg-ink-800/80 focus:outline-none focus:ring-1 focus:ring-accent-red/15 focus:shadow-accent-red/5"}),x.jsx("button",{type:"submit",disabled:s,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-lg bg-accent-red px-4 py-2 text-sm font-medium text-white shadow-md shadow-accent-red/20 transition-all duration-200 hover:bg-accent-red-hover hover:shadow-accent-red/30 disabled:opacity-50 disabled:pointer-events-none active:scale-95 cursor-pointer",children:s?x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching"]}):"Search"})]}),H?x.jsx("div",{className:"absolute z-50 mt-2 w-full overflow-hidden rounded-xl border border-white/[0.08] bg-ink-900/95 backdrop-blur-lg shadow-2xl shadow-black/40 animate-slide-down",children:d?x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[x.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-accent-red/50 border-t-transparent animate-spin"}),x.jsx("span",{className:"text-sm text-white/40",children:"Searching..."})]}):x.jsxs(x.Fragment,{children:[l.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"px-4 pt-3 pb-1.5",children:x.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-white/25",children:"Issues"})}),l.map(X=>x.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 px-4 py-2.5 text-left transition-colors duration-150 hover:bg-white/[0.05] cursor-pointer group",onClick:()=>{T(!1),_?.(X)},children:[X.image?.small_url?x.jsx("img",{src:X.image.small_url,alt:"",className:"h-10 w-7 rounded-sm object-cover flex-shrink-0 opacity-80 group-hover:opacity-100 transition-opacity"}):x.jsx("div",{className:"h-10 w-7 rounded-sm bg-ink-700 flex-shrink-0"}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsxs("p",{className:"truncate text-sm font-medium text-white/80 group-hover:text-white transition-colors",children:[X.volume?.name??"Untitled"," #",X.issue_number]}),x.jsxs("p",{className:"truncate text-xs text-white/30",children:[X.name??"Unnamed"," ",X.cover_date?`- ${X.cover_date}`:""]})]}),x.jsx("svg",{className:"h-4 w-4 text-white/20 group-hover:text-white/50 transition-colors flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x.jsx("path",{d:"M9 18l6-6-6-6"})})]},X.id))]}):null,u.length>0&&l.length===0?x.jsxs("div",{children:[x.jsx("div",{className:"px-4 pt-3 pb-1.5",children:x.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-white/25",children:"Recent"})}),u.map(X=>x.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 px-4 py-2.5 text-left transition-colors duration-150 hover:bg-white/[0.05] cursor-pointer",onClick:()=>{T(!1),p?.(X)},children:[x.jsxs("svg",{className:"h-4 w-4 text-white/20 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polyline",{points:"12 6 12 12 16 14"})]}),x.jsx("span",{className:"text-sm text-white/60",children:X})]},X))]}):null]})}):null]})}const fw="05dda6b0fbaf2a4b6f96a8c533e649afc3903551",dw="https://api.allorigins.win/raw?url=",cv=[dw,"https://api.allorigins.win/raw?url=","https://cors.isomorphic-git.org/"].filter(Boolean),mw=360*60*1e3,pw="https://comicvine.gamespot.com/api";function gw(r,t){const n=new URL(`${pw}${r}`);return Object.entries(t).forEach(([s,l])=>n.searchParams.set(s,l)),n.toString()}function yw(r){if(typeof window>"u")return null;const t=`comicvine:search:${r.toLowerCase()}`,n=window.localStorage.getItem(t);if(!n)return null;try{const s=JSON.parse(n);return Date.now()-s.timestamp>mw?(window.localStorage.removeItem(t),null):s.results}catch{return null}}function _w(r,t){if(typeof window>"u")return;const n=`comicvine:search:${r.toLowerCase()}`,s=JSON.stringify({timestamp:Date.now(),results:t});window.localStorage.setItem(n,s)}async function vw(r){const t=cv.length>0?cv.map(s=>`${s}${encodeURIComponent(r)}`):[r];let n=null;for(let s=0;s<2;s+=1){for(const l of t){const u=new AbortController,d=setTimeout(()=>u.abort(),8e3);try{const p=await fetch(l,{signal:u.signal});if(!p.ok)throw new Error(`HTTP ${p.status}`);return p}catch(p){n=p}finally{clearTimeout(d)}}await new Promise(l=>setTimeout(l,300*(s+1)))}throw n??new Error("Network error")}async function qE(r,t){const n=yw(r);if(n&&!t)return n;const s=gw("/search/",{api_key:fw,format:"json",resources:"issue",query:r,limit:t?String(t):"20",field_list:"id,name,issue_number,cover_date,image,volume"}),l=await vw(s);if(!l.ok)throw new Error("Comic Vine request failed");const u=await l.json();if(u.error&&u.error!=="OK")throw new Error(u.error);const d=u.results??[];return t||_w(r,d),d}async function Ew(r){return qE(r)}async function Tw(r){return qE(r,6)}function rh({className:r="",...t}){return x.jsx("div",{className:`rounded-xl border border-white/[0.07] bg-ink-900/80 backdrop-blur-sm shadow-lg shadow-black/20 ${r}`,...t})}const Sw=()=>{};var hv={};const HE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Aw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(N=64)),s.push(n[T],n[A],n[N],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(HE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Aw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||A==null)throw new ww;const N=u<<2|p>>4;if(s.push(N),y!==64){const H=p<<4&240|y>>2;if(s.push(H),A!==64){const X=y<<6&192|A;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ww extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(r){const t=HE(r);return FE.encodeByteArray(t,!0)},sh=function(r){return bw(r).replace(/\./g,"")},GE=function(r){try{return FE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Iw=()=>Rw().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof hv>"u")return;const r=hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&GE(r[1]);return t&&JSON.parse(t)},Ih=()=>{try{return Sw()||Iw()||Cw()||Nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QE=r=>Ih()?.emulatorHosts?.[r],xw=r=>{const t=QE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},KE=()=>Ih()?.config,YE=r=>Ih()?.[`_${r}`];class Dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(r){return(await fetch(r,{credentials:"include"})).ok}function Ow(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sh(JSON.stringify(n)),sh(JSON.stringify(d)),""].join(".")}const Ml={};function Vw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function Mw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let fv=!1;function $E(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Ml[r]===t||Ml[r]||fv)return;Ml[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=Vw().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{fv=!0,d()},N}function T(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=Mw(s),H=n("text"),X=document.getElementById(H)||document.createElement("span"),Z=n("learnmore"),tt=document.getElementById(Z)||document.createElement("a"),ft=n("preprendIcon"),pt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const gt=N.element;p(gt),T(tt,Z);const vt=y();_(pt,ft),gt.append(pt,X,tt,vt),document.body.appendChild(gt)}u?(X.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Uw(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jw(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Bw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Hw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const Fw="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Fw,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Gw(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new rr(l,p,s)}}function Gw(r,t){return r.replace(Qw,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Qw=/\{\$([^}]+)}/g;function Kw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(dv(u)&&dv(d)){if(!Hs(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function dv(r){return r!==null&&typeof r=="object"}function Wl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Rl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Yw(r,t){const n=new Xw(r,t);return n.subscribe.bind(n)}class Xw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$w(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=tm),l.error===void 0&&(l.error=tm),l.complete===void 0&&(l.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $w(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}function ve(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Bs="[DEFAULT]";class Jw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Dw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ww(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(r){return r===Bs?void 0:r}function Ww(r){return r.instantiationMode==="EAGER"}class t1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Jw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const e1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},n1=Lt.INFO,i1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},r1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=i1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=n1,this._logHandler=r1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?e1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const s1=(r,t)=>t.some(n=>r instanceof n);let mv,pv;function a1(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,pm=new WeakMap,ZE=new WeakMap,em=new WeakMap,Bm=new WeakMap;function l1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&JE.set(n,r)}).catch(()=>{}),Bm.set(t,r),t}function u1(r){if(pm.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});pm.set(r,t)}let gm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return pm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ZE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function c1(r){gm=r(gm)}function h1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(nm(this),t,...n);return ZE.set(s,t.sort?t.sort():[t]),Yr(s)}:o1().includes(r)?function(...t){return r.apply(nm(this),t),Yr(JE.get(this))}:function(...t){return Yr(r.apply(nm(this),t))}}function f1(r){return typeof r=="function"?h1(r):(r instanceof IDBTransaction&&u1(r),s1(r,a1())?new Proxy(r,gm):r)}function Yr(r){if(r instanceof IDBRequest)return l1(r);if(em.has(r))return em.get(r);const t=f1(r);return t!==r&&(em.set(r,t),Bm.set(t,r)),t}const nm=r=>Bm.get(r);function d1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),p=Yr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Yr(d.result),_.oldVersion,_.newVersion,Yr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const m1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],im=new Map;function gv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=p1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||m1.includes(n)))return;const u=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&_.done]))[0]};return im.set(t,u),u}c1(r=>({...r,get:(t,n,s)=>gv(t,n)||r.get(t,n,s),has:(t,n)=>!!gv(t,n)||r.has(t,n)}));class g1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function y1(r){return r.getComponent()?.type==="VERSION"}const ym="@firebase/app",yv="0.14.8";const tr=new jm("@firebase/app"),_1="@firebase/app-compat",v1="@firebase/analytics-compat",E1="@firebase/analytics",T1="@firebase/app-check-compat",S1="@firebase/app-check",A1="@firebase/auth",w1="@firebase/auth-compat",b1="@firebase/database",R1="@firebase/data-connect",I1="@firebase/database-compat",C1="@firebase/functions",N1="@firebase/functions-compat",x1="@firebase/installations",D1="@firebase/installations-compat",O1="@firebase/messaging",V1="@firebase/messaging-compat",M1="@firebase/performance",k1="@firebase/performance-compat",U1="@firebase/remote-config",L1="@firebase/remote-config-compat",P1="@firebase/storage",z1="@firebase/storage-compat",j1="@firebase/firestore",B1="@firebase/ai",q1="@firebase/firestore-compat",H1="firebase",F1="12.9.0";const _m="[DEFAULT]",G1={[ym]:"fire-core",[_1]:"fire-core-compat",[E1]:"fire-analytics",[v1]:"fire-analytics-compat",[S1]:"fire-app-check",[T1]:"fire-app-check-compat",[A1]:"fire-auth",[w1]:"fire-auth-compat",[b1]:"fire-rtdb",[R1]:"fire-data-connect",[I1]:"fire-rtdb-compat",[C1]:"fire-fn",[N1]:"fire-fn-compat",[x1]:"fire-iid",[D1]:"fire-iid-compat",[O1]:"fire-fcm",[V1]:"fire-fcm-compat",[M1]:"fire-perf",[k1]:"fire-perf-compat",[U1]:"fire-rc",[L1]:"fire-rc-compat",[P1]:"fire-gcs",[z1]:"fire-gcs-compat",[j1]:"fire-fst",[q1]:"fire-fst-compat",[B1]:"fire-vertex","fire-js":"fire-js",[H1]:"fire-js-all"};const ah=new Map,Q1=new Map,vm=new Map;function _v(r,t){try{r.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const t=r.name;if(vm.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;vm.set(t,r);for(const n of ah.values())_v(n,r);for(const n of Q1.values())_v(n,r);return!0}function qm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}const K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Zl("app","Firebase",K1);class Y1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const co=F1;function WE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:_m,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(n||(n=KE()),!n)throw Xr.create("no-options");const u=ah.get(l);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Xr.create("duplicate-app",{appName:l})}const d=new t1(l);for(const _ of vm.values())d.addComponent(_);const p=new Y1(n,s,d);return ah.set(l,p),p}function t0(r=_m){const t=ah.get(r);if(!t&&r===_m&&KE())return WE();if(!t)throw Xr.create("no-app",{appName:r});return t}function $r(r,t,n){let s=G1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(d.join(" "));return}no(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const X1="firebase-heartbeat-database",$1=1,Bl="firebase-heartbeat-store";let rm=null;function e0(){return rm||(rm=d1(X1,$1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function J1(r){try{const n=(await e0()).transaction(Bl),s=await n.objectStore(Bl).get(n0(r));return await n.done,s}catch(t){if(t instanceof rr)tr.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(n.message)}}}async function vv(r,t){try{const s=(await e0()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(t,n0(r)),await s.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function n0(r){return`${r.name}!${r.options.appId}`}const Z1=1024,W1=30;class tb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>W1){const l=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:n,unsentEntries:s}=eb(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return tr.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function eb(r,t=Z1){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Tv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Tv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?Hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Tv(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function ib(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function rb(r){no(new Fs("platform-logger",t=>new g1(t),"PRIVATE")),no(new Fs("heartbeat",t=>new tb(t),"PRIVATE")),$r(ym,yv,r),$r(ym,yv,"esm2020"),$r("fire-js","")}rb("");var sb="firebase",ab="12.9.0";$r(sb,ab,"app");function i0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=i0,r0=new Zl("auth","Firebase",i0());const oh=new jm("@firebase/auth");function lb(r,...t){oh.logLevel<=Lt.WARN&&oh.warn(`Auth (${co}): ${r}`,...t)}function Kc(r,...t){oh.logLevel<=Lt.ERROR&&oh.error(`Auth (${co}): ${r}`,...t)}function ti(r,...t){throw Hm(r,...t)}function bi(r,...t){return Hm(r,...t)}function s0(r,t,n){const s={...ob(),[t]:n};return new Zl("auth","Firebase",s).create(t,{appName:r.name})}function Wi(r){return s0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return r0.create(r,...t)}function At(r,t,...n){if(!r)throw Hm(t,...n)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Kc(t),new Error(t)}function er(r,t){r||Ji(t)}function Em(){return typeof self<"u"&&self.location?.href||""}function ub(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||Pw()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=kw()||zw()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(r,t){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class a0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new tu(3e4,6e4);function as(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function sr(r,t,n,s,l={}){return o0(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=Wl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...u};return Lw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),a0.fetch()(await l0(r,r.config.apiHost,n,p),y)})}async function o0(r,t,n){r._canInitEmulator=!1;const s={...fb,...t};try{const l=new gb(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw jc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw jc(r,"user-disabled",d);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw s0(r,T,y);ti(r,T)}}catch(l){if(l instanceof rr)throw l;ti(r,"network-request-failed",{message:String(l)})}}async function eu(r,t,n,s,l={}){const u=await sr(r,t,n,s,l);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function l0(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Fm(r.config,l):`${r.config.apiScheme}://${l}`;return db.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function pb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),mb.get())})}}function jc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=bi(r,t,s);return l.customData._tokenResponse=n,l}function Av(r){return r!==void 0&&r.enterprise!==void 0}class yb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return pb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _b(r,t){return sr(r,"GET","/v2/recaptchaConfig",as(r,t))}async function vb(r,t){return sr(r,"POST","/v1/accounts:delete",t)}async function lh(r,t){return sr(r,"POST","/v1/accounts:lookup",t)}function kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Eb(r,t=!1){const n=ve(r),s=await n.getIdToken(t),l=Gm(s);At(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:kl(sm(l.auth_time)),issuedAtTime:kl(sm(l.iat)),expirationTime:kl(sm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Gm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=GE(n);return l?JSON.parse(l):(Kc("Failed to decode base64 JWT payload"),null)}catch(l){return Kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(r){const t=Gm(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function io(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&Tb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Tb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Sb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(r){const t=r.auth,n=await r.getIdToken(),s=await io(r,lh(t,{idToken:n}));At(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?u0(l.providerUserInfo):[],d=wb(r.providerData,u),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function Ab(r){const t=ve(r);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function u0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bb(r,t){const n=await o0(r,{},async()=>{const s=Wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await l0(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),a0.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rb(r,t){return sr(r,"POST","/v2/accounts:revokeToken",as(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=wv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await bb(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new $a;return s&&(At(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(At(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function zr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Sb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await io(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Eb(this,t)}reload(){return Ab(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await io(this,vb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:H,providerData:X,stsTokenManager:Z}=n;At(A&&Z,t,"internal-error");const tt=$a.fromJSON(this.name,Z);At(typeof A=="string",t,"internal-error"),zr(s,t.name),zr(l,t.name),At(typeof N=="boolean",t,"internal-error"),At(typeof H=="boolean",t,"internal-error"),zr(u,t.name),zr(d,t.name),zr(p,t.name),zr(_,t.name),zr(y,t.name),zr(T,t.name);const ft=new Zn({uid:A,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:T});return X&&Array.isArray(X)&&(ft.providerData=X.map(pt=>({...pt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,n,s=!1){const l=new $a;l.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];At(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?u0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new $a;p.updateFromIdToken(s);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const bv=new Map;function Zi(r){er(r instanceof Function,"Expected a class definition");let t=bv.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,bv.set(r,t),t)}class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}c0.type="NONE";const Rv=c0;function Yc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ja{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Yc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await lh(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ja(Zi(Rv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Zi(Rv);const d=Yc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const N=await lh(t,{idToken:T}).catch(()=>{});if(!N)break;A=await Zn._fromGetAccountInfoResponse(t,N,T)}else A=Zn._fromJSON(t,T);y!==u&&(p=A),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ja(u,t,s):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Ja(u,t,s))}}function Iv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(g0(t))return"Blackberry";if(y0(t))return"Webos";if(f0(t))return"Safari";if((t.includes("chrome/")||d0(t))&&!t.includes("edge/"))return"Chrome";if(p0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function h0(r=Ze()){return/firefox\//i.test(r)}function f0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function d0(r=Ze()){return/crios\//i.test(r)}function m0(r=Ze()){return/iemobile/i.test(r)}function p0(r=Ze()){return/android/i.test(r)}function g0(r=Ze()){return/blackberry/i.test(r)}function y0(r=Ze()){return/webos/i.test(r)}function Qm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Ib(r=Ze()){return Qm(r)&&!!window.navigator?.standalone}function Cb(){return jw()&&document.documentMode===10}function _0(r=Ze()){return Qm(r)||p0(r)||y0(r)||g0(r)||/windows phone/i.test(r)||m0(r)}function v0(r,t=[]){let n;switch(r){case"Browser":n=Iv(Ze());break;case"Worker":n=`${Iv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}class Nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const _=t(u);d(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function xb(r,t={}){return sr(r,"GET","/v2/passwordPolicy",as(r,t))}const Db=6;class Ob{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Db,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Vb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await lh(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Wi(this));const n=t?ve(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xb(this),n=new Ob(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Rb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Js(r){return ve(r)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yw(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mb(r){Ch=r}function E0(r){return Ch.loadJS(r)}function kb(){return Ch.recaptchaEnterpriseScript}function Ub(){return Ch.gapiScript}function Lb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Pb{constructor(){this.enterprise=new zb}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class zb{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const jb="recaptcha-enterprise",T0="NO_RECAPTCHA";class Bb{constructor(t){this.type=jb,this.auth=Js(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{_b(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new yb(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(u,d,p){const _=window.grecaptcha;Av(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:t}).then(y=>{d(y)}).catch(()=>{d(T0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pb().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&Av(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=kb();_.length!==0&&(_+=p),E0(_).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Nv(r,t,n,s=!1,l=!1){const u=new Bb(r);let d;if(l)d=T0;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sm(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Nv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Nv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function qb(r,t){const n=qm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Hs(u,t??{}))return l;ti(l,"already-initialized")}return n.initialize({options:t})}function Hb(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Fb(r,t,n){const s=Js(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=S0(t),{host:d,port:p}=Gb(t),_=p===null?"":`:${p}`,y={url:`${u}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Hs(y,s.config.emulator)&&Hs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,uo(d)?(XE(`${u}//${d}${_}`),$E("Auth",!0)):Qb()}function S0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Gb(r){const t=S0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:xv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:xv(d)}}}function xv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Qb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Km{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,n){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Kb(r,t){return sr(r,"POST","/v1/accounts:signUp",t)}async function Yb(r,t){return eu(r,"POST","/v1/accounts:signInWithPassword",as(r,t))}async function Xb(r,t){return eu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}async function $b(r,t){return eu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}class ql extends Km{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new ql(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ql(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,n,"signInWithPassword",Yb);case"emailLink":return Xb(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,s,"signUpPassword",Kb);case"emailLink":return $b(t,{idToken:n,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(r,t){return eu(r,"POST","/v1/accounts:signInWithIdp",as(r,t))}const Jb="http://localhost";class Gs extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Za(t,n)}buildRequest(){const t={requestUri:Jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Wl(n)}return t}}function Zb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wb(r){const t=Rl(Il(r)).link,n=t?Rl(Il(t)).deep_link_id:null,s=Rl(Il(r)).deep_link_id;return(s?Rl(Il(s)).link:null)||s||n||t||r}class Ym{constructor(t){const n=Rl(Il(t)),s=n.apiKey??null,l=n.oobCode??null,u=Zb(n.mode??null);At(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Wb(t);try{return new Ym(n)}catch{return null}}}class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return ql._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Ym.parseLink(n);return At(s,"argument-error"),ql._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class A0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nu extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends nu{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends nu{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends nu{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function tR(r,t){return eu(r,"POST","/v1/accounts:signUp",as(r,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await Zn._fromIdTokenResponse(t,s,l),d=Dv(s);return new Qs({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Dv(s);return new Qs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ch extends rr{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new ch(t,n,s,l)}}function w0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,t,s):u})}async function eR(r,t,n=!1){const s=await io(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function nR(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Wi(s));const l="reauthenticate";try{const u=await io(r,w0(s,l,t,r),n);At(u.idToken,s,"internal-error");const d=Gm(u.idToken);At(d,s,"internal-error");const{sub:p}=d;return At(r.uid===p,s,"user-mismatch"),Qs._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}async function b0(r,t,n=!1){if(zn(r.app))return Promise.reject(Wi(r));const s="signIn",l=await w0(r,s,t),u=await Qs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function iR(r,t){return b0(Js(r),t)}async function R0(r){const t=Js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rR(r,t,n){if(zn(r.app))return Promise.reject(Wi(r));const s=Js(r),d=await Sm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tR).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&R0(r),_}),p=await Qs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function sR(r,t,n){return zn(r.app)?Promise.reject(Wi(r)):iR(ve(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&R0(r),s})}async function aR(r,t){return sr(r,"POST","/v1/accounts:update",t)}async function oR(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=ve(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},d=await io(s,aR(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function lR(r,t,n,s){return ve(r).onIdTokenChanged(t,n,s)}function uR(r,t,n){return ve(r).beforeAuthStateChanged(t,n)}function cR(r,t,n,s){return ve(r).onAuthStateChanged(t,n,s)}function hR(r){return ve(r).signOut()}const hh="__sak";class I0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fR=1e3,dR=10;class C0 extends I0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Cb()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dR):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}C0.type="LOCAL";const mR=C0;class N0 extends I0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}N0.type="SESSION";const x0=N0;function pR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),_=await pR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Xm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class gR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const y=Xm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function yR(r){Ri().location.href=r}function D0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function _R(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vR(){return navigator?.serviceWorker?.controller||null}function ER(){return D0()?self:null}const O0="firebaseLocalStorageDb",TR=1,fh="firebaseLocalStorage",V0="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,t){return r.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function SR(){const r=indexedDB.deleteDatabase(O0);return new iu(r).toPromise()}function Am(){const r=indexedDB.open(O0,TR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(fh,{keyPath:V0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(fh)?t(s):(s.close(),await SR(),t(await Am()))})})}async function Ov(r,t,n){const s=xh(r,!0).put({[V0]:t,value:n});return new iu(s).toPromise()}async function AR(r,t){const n=xh(r,!1).get(t),s=await new iu(n).toPromise();return s===void 0?null:s.value}function Vv(r,t){const n=xh(r,!0).delete(t);return new iu(n).toPromise()}const wR=800,bR=3;class M0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>bR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(ER()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _R(),!this.activeServiceWorker)return;this.sender=new gR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await Ov(t,hh,"1"),await Vv(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ov(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>AR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=xh(l,!1).getAll();return new iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M0.type="LOCAL";const RR=M0;new tu(3e4,6e4);function IR(r,t){return t?Zi(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class $m extends Km{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function CR(r){return b0(r.auth,new $m(r),r.bypassAuthState)}function NR(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),nR(n,new $m(r),r.bypassAuthState)}async function xR(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),eR(n,new $m(r),r.bypassAuthState)}class k0{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CR;case"linkViaPopup":case"linkViaRedirect":return xR;case"reauthViaPopup":case"reauthViaRedirect":return NR;default:ti(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DR=new tu(2e3,1e4);class Ya extends k0{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,DR.get())};t()}}Ya.currentPopupAction=null;const OR="pendingRedirect",Xc=new Map;class VR extends k0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const s=await MR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MR(r,t){const n=LR(t),s=UR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function kR(r,t){Xc.set(r._key(),t)}function UR(r){return Zi(r._redirectPersistence)}function LR(r){return Yc(OR,r.config.apiKey,r.name)}async function PR(r,t,n=!1){if(zn(r.app))return Promise.reject(Wi(r));const s=Js(r),l=IR(s,t),d=await new VR(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const zR=600*1e3;class jR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!U0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function U0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function BR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(r);default:return!1}}async function qR(r,t={}){return sr(r,"GET","/v1/projects",t)}const HR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FR=/^https?/;async function GR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await qR(r);for(const n of t)try{if(QR(n))return}catch{}ti(r,"unauthorized-domain")}function QR(r){const t=Em(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!FR.test(n))return!1;if(HR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const KR=new tu(3e4,6e4);function kv(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YR(r){return new Promise((t,n)=>{function s(){kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(bi(r,"network-request-failed"))},timeout:KR.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const l=Lb("iframefcb");return Ri()[l]=()=>{gapi.load?s():n(bi(r,"network-request-failed"))},E0(`${Ub()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw $c=null,t})}let $c=null;function XR(r){return $c=$c||YR(r),$c}const $R=new tu(5e3,15e3),JR="__/auth/iframe",ZR="emulator/auth/iframe",WR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Fm(t,ZR):`https://${r.config.authDomain}/${JR}`,s={apiKey:t.apiKey,appName:r.name,v:co},l=tI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wl(s).slice(1)}`}async function nI(r){const t=await XR(r),n=Ri().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:eI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WR,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),p=Ri().setTimeout(()=>{u(d)},$R.get());function _(){Ri().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{u(d)})}))}const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,sI=600,aI="_blank",oI="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,t,n,s=rI,l=sI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...iI,width:s.toString(),height:l.toString(),top:u,left:d},y=Ze().toLowerCase();n&&(p=d0(y)?aI:n),h0(y)&&(t=t||oI,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[H,X])=>`${N}${H}=${X},`,"");if(Ib(y)&&p!=="_self")return uI(t||"",p),new Uv(null);const A=window.open(t||"",p,T);At(A,r,"popup-blocked");try{A.focus()}catch{}return new Uv(A)}function uI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function Lv(r,t,n,s,l,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:l};if(t instanceof A0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Kw(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof nu){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${fI}=${encodeURIComponent(_)}`:"";return`${dI(r)}?${Wl(p).slice(1)}${y}`}function dI({config:r}){return r.emulator?Fm(r,hI):`https://${r.authDomain}/${cI}`}const am="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x0,this._completeRedirectFn=PR,this._overrideRedirectResult=kR}async _openPopup(t,n,s,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Lv(t,n,s,Em(),l);return lI(t,u,Xm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Lv(t,n,s,Em(),l);return yR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await nI(t),s=new jR(t);return n.register("authEvent",l=>(At(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},l=>{const u=l?.[0]?.[am];u!==void 0&&n(!!u),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||f0()||Qm()}}const pI=mI;var Pv="@firebase/auth",zv="1.12.0";class gI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(r){no(new Fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v0(r)},y=new Vb(s,l,u,_);return Hb(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),no(new Fs("auth-internal",t=>{const n=Js(t.getProvider("auth").getImmediate());return(s=>new gI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(Pv,zv,yI(r)),$r(Pv,zv,"esm2020")}const vI=300,EI=YE("authIdTokenMaxAge")||vI;let jv=null;const TI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const l=n?.token;jv!==l&&(jv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SI(r=t0()){const t=qm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=qb(r,{popupRedirectResolver:pI,persistence:[RR,mR,x0]}),s=YE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=TI(u.toString());uR(n,d,()=>d(n.currentUser)),lR(n,p=>d(p))}}const l=QE("auth");return l&&Fb(n,`http://${l}`),n}function AI(){return document.getElementsByTagName("head")?.[0]??document}Mb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=bi("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",AI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,L0;(function(){var r;function t(R,b){function C(){}C.prototype=b.prototype,R.F=b.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,V,U){for(var w=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)w[rt-2]=arguments[rt];return b.prototype[V].apply(M,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=R.g[0],C=R.g[1],V=R.g[2];let U=R.g[3],w;w=b+(U^C&(V^U))+M[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(V^b&(C^V))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(C^U&(b^C))+M[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(b^V&(U^b))+M[3]+3250441966&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(U^C&(V^U))+M[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(V^b&(C^V))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(C^U&(b^C))+M[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(b^V&(U^b))+M[7]+4249261313&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(U^C&(V^U))+M[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(V^b&(C^V))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(C^U&(b^C))+M[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(b^V&(U^b))+M[11]+2304563134&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(U^C&(V^U))+M[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(V^b&(C^V))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(C^U&(b^C))+M[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(b^V&(U^b))+M[15]+1236535329&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(V^U&(C^V))+M[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(b^C))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(U^b))+M[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(V^U))+M[0]+3921069994&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(C^V))+M[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(b^C))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(U^b))+M[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(V^U))+M[4]+3889429448&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(C^V))+M[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(b^C))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(U^b))+M[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(V^U))+M[8]+1163531501&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(C^V))+M[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(b^C))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(U^b))+M[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(V^U))+M[12]+2368359562&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(C^V^U)+M[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^V)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^C)+M[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^b)+M[14]+4259657740&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^U)+M[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^V)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^C)+M[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^b)+M[10]+3200236656&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^U)+M[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^V)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^C)+M[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^b)+M[6]+76029189&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^U)+M[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^V)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^C)+M[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^b)+M[2]+3299628645&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(V^(C|~U))+M[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~V))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~C))+M[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~b))+M[5]+4237533241&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~U))+M[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~V))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~C))+M[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~b))+M[1]+2240044497&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~U))+M[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~V))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~C))+M[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~b))+M[13]+1309151649&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~U))+M[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~V))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~C))+M[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~b))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const C=b-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=C;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<b;)if(M[V++]=R.charCodeAt(U++),V==this.blockSize){l(this,M),V=0;break}}else for(;U<b;)if(M[V++]=R[U++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[b++]=this.g[C]>>>M&255;return R};function u(R,b){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=b(R)}function d(R,b){this.h=b;const C=[];let M=!0;for(let V=R.length-1;V>=0;V--){const U=R[V]|0;M&&U==b||(C[V]=U,M=!1)}this.g=C}var p={};function _(R){return-128<=R&&R<128?u(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return tt(y(-R));const b=[];let C=1;for(let M=0;R>=C;M++)b[M]=R/C|0,C*=4294967296;return new d(b,0)}function T(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return tt(T(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let M=A;for(let U=0;U<R.length;U+=8){var V=Math.min(8,R.length-U);const w=parseInt(R.substring(U,U+V),b);V<8?(V=y(Math.pow(b,V)),M=M.j(V).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var A=_(0),N=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-tt(this).m();let R=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*b,b*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(X(this))return"0";if(Z(this))return"-"+tt(this).toString(R);const b=y(Math.pow(R,6));var C=this;let M="";for(;;){const V=vt(C,b).g;C=ft(C,V.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,X(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function X(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function Z(R){return R.h==-1}r.l=function(R){return R=ft(this,R),Z(R)?-1:X(R)?0:1};function tt(R){const b=R.g.length,C=[];for(let M=0;M<b;M++)C[M]=~R.g[M];return new d(C,~R.h).add(N)}r.abs=function(){return Z(this)?tt(this):this},r.add=function(R){const b=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let V=0;V<=b;V++){let U=M+(this.i(V)&65535)+(R.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=w>>>16,U&=65535,w&=65535,C[V]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(R,b){return R.add(tt(b))}r.j=function(R){if(X(this)||X(R))return A;if(Z(this))return Z(R)?tt(this).j(tt(R)):tt(tt(this).j(R));if(Z(R))return tt(this.j(tt(R)));if(this.l(H)<0&&R.l(H)<0)return y(this.m()*R.m());const b=this.g.length+R.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<R.g.length;V++){const U=this.i(M)>>>16,w=this.i(M)&65535,rt=R.i(V)>>>16,Tt=R.i(V)&65535;C[2*M+2*V]+=w*Tt,pt(C,2*M+2*V),C[2*M+2*V+1]+=U*Tt,pt(C,2*M+2*V+1),C[2*M+2*V+1]+=w*rt,pt(C,2*M+2*V+1),C[2*M+2*V+2]+=U*rt,pt(C,2*M+2*V+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new d(C,0)};function pt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function gt(R,b){this.g=R,this.h=b}function vt(R,b){if(X(b))throw Error("division by zero");if(X(R))return new gt(A,A);if(Z(R))return b=vt(tt(R),b),new gt(tt(b.g),tt(b.h));if(Z(b))return b=vt(R,tt(b)),new gt(tt(b.g),b.h);if(R.g.length>30){if(Z(R)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var C=N,M=b;M.l(R)<=0;)C=xt(C),M=xt(M);var V=ut(C,1),U=ut(M,1);for(M=ut(M,2),C=ut(C,2);!X(M);){var w=U.add(M);w.l(R)<=0&&(V=V.add(C),U=w),M=ut(M,1),C=ut(C,1)}return b=ft(R,V.j(b)),new gt(V,b)}for(V=A;R.l(b)>=0;){for(C=Math.max(1,Math.floor(R.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),w=U.j(b);Z(w)||w.l(R)>0;)C-=M,U=y(C),w=U.j(b);X(U)&&(U=N),V=V.add(U),R=ft(R,w)}return new gt(V,R)}r.B=function(R){return vt(this,R).h},r.and=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&R.i(M);return new d(C,this.h&R.h)},r.or=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|R.i(M);return new d(C,this.h|R.h)},r.xor=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^R.i(M);return new d(C,this.h^R.h)};function xt(R){const b=R.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(C,R.h)}function ut(R,b){const C=b>>5;b%=32;const M=R.g.length-C,V=[];for(let U=0;U<M;U++)V[U]=b>0?R.i(U+C)>>>b|R.i(U+C+1)<<32-b:R.i(U+C);return new d(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,L0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Jr=d}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var P0,Cl,z0,Jc,wm,j0,B0,q0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break t;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=_,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,B){for(var nt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)nt[Ct-2]=arguments[Ct];return m.prototype[L].apply(S,nt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function X(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let nt=0;nt<B;nt++)c[v+nt]=L[nt]}else c.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(c){d.setTimeout(()=>{throw c},0)}function ft(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const S=gt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var gt=new Z(()=>new vt,c=>c.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,ut=!1,R=new pt,b=()=>{const c=Promise.resolve(void 0);xt=()=>{c.then(C)}};function C(){for(var c;c=ft();){try{c.h.call(c.g)}catch(v){tt(v)}var m=gt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function rt(c,m){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(rt,V),rt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),F=0;function W(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bt(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function jt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,S,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const nt=yt(c,m,S,L);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new W(m,this.src,B,!!S,L),m.fa=v,c.push(m)),m};function ht(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(lt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yt(c,m,v,S){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ue={};function ae(c,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(c,m[B],v,S,L);return null}return v=To(v),c&&c[Tt]?c.J(m,v,p(S)?!!S.capture:!1,L):cs(c,m,v,!1,S,L)}function cs(c,m,v,S,L,B){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let Ct=hs(c);if(Ct||(c[Ot]=Ct=new st(c)),v=Ct.add(m,v,S,nt,B),v.proxy)return v;if(S=ta(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(ni(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return m.call(c.src,c.listener,v)}const m=vo;return c}function ea(c,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ea(c,m[B],v,S,L);else S=p(S)?!!S.capture:!!S,v=To(v),c&&c[Tt]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=yt(m,v,S,L),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=hs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=yt(m,v,S,L)),(v=c>-1?m[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Tt])ht(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ni(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=hs(m))?(ht(v,c),v.h==0&&(v.src=null,m[Ot]=null)):lt(c)}}}function ni(c){return c in ue?ue[c]:ue[c]="on"+c}function vo(c,m){if(c.da)c=!0;else{m=new rt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&na(c),c=v.call(S,m)}return c}function hs(c){return c=c[Ot],c instanceof st?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(m){return c.handleEvent(m)}),c[Eo])}function Ee(){M.call(this),this.i=new st(this),this.M=this,this.G=null}A(Ee,M),Ee.prototype[Tt]=!0,Ee.prototype.removeEventListener=function(c,m,v,S){ea(this,c,m,v,S)};function Oe(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new V(m,c);else if(m instanceof V)m.target=m.target||c;else{var L=m;m=new V(S,c),et(m,L)}L=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],L=ar(B,S,!0,m)&&L;if(B=m.g=c,L=ar(B,S,!0,m)&&L,L=ar(B,S,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],L=ar(B,S,!1,m)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)lt(v[S]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Ee.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ar(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const Ct=nt.listener,pe=nt.ha||nt.src;nt.fa&&ht(c.i,nt),L=Ct.call(pe,S)!==!1&&L}}return L&&!S.defaultPrevented}function Xh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function hu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){M.call(this),this.h=c,this.g={}}A(fs,M);var So=[];function Ao(c){bt(c.g,function(m,v){this.g.hasOwnProperty(v)&&na(m)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),Ao(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,$h=d.JSON.parse,fu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function du(){}function mu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){V.call(this,"d")}A(je,V);function bn(){V.call(this,"c")}A(bn,V);var me={},pu=null;function ia(){return pu=pu||new Ee}me.Ia="serverreachability";function gu(c){V.call(this,me.Ia,c)}A(gu,V);function ii(c){const m=ia();Oe(m,new gu(m))}me.STAT_EVENT="statevent";function ds(c,m){V.call(this,me.STAT_EVENT,c),this.stat=m}A(ds,V);function Te(c){const m=ia();Oe(m,new ds(m,c))}me.Ja="timingevent";function ri(c,m){V.call(this,me.Ja,c),this.size=m}A(ri,V);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Jh(c,m,v,S,L,B){c.info(function(){if(c.g)if(B){var nt="",Ct=B.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var pe=Ct[Qt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const Nn=oe.split("_");nt=Nn.length>=2&&Nn[1]=="type"?nt+(oe+"="+pe+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function yu(c,m,v,S,L,B,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+nt})}function ai(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zh(c,v)+(S?" "+S:"")})}function ms(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Zh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return or(B)}catch{return m}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function gs(){}A(gs,du),gs.prototype.g=function(){return new XMLHttpRequest},bo=new gs;function Oi(c){return encodeURIComponent(String(c))}function _u(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function qn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Se={},ke={};function oi(c,m,v){c.M=1,c.A=ys(we(m)),c.u=v,c.R=!0,ra(c,null)}function ra(c,m){c.F=Date.now(),li(c),c.B=we(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),la(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Hn,c.g=Vu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(So[0]=L.toString()),L=So);for(let B=0;B<L.length;B++){const nt=ae(v,L[B],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Jh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Qn(this.g),pe=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Ct!=4||pe==7||(pe==8||Qt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Wh(this);if(this.o=m==200,yu(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break e}}B=null}if(c=B)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Te(12),dn(this),Rn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Eu(this,v),oe==ke){Ct==4&&(this.m=4,Te(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(nt),nt.P=!0,Te(11))}}else ai(this.i,this.l,v,null),ci(this,v);Ct==4&&dn(this),this.o&&!this.K&&(Ct==4?Nu(this.j,this):(this.o=!1,li(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),dn(this),Rn(this)}}}catch{}};function Wh(c){if(!vu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const S=m.length,L=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?ke:(v=Number(m.substring(v,S)),isNaN(v)?Se:(S+=1,S+v>m.length?ke:(m=m.slice(S,S+v),c.C=S+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function li(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),m)}function ui(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ii(),Te(17)),dn(this),this.m=2,Rn(this)):sa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Nu(c.j,c)}function dn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),pr(v);else break t;ws(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&da(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const oe=Qt[0];if(!(oe<=v.K))if(v.K=oe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Nn=Qt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=Qt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=Qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(S=1.5*Kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=c.g;if(Yn){const bs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var B=S.h;B.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(S.G){const ma=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(S.wa=ma,Yt(S.J,S.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=c;if(S.na=Ou(S,S.L?S.ba:null,S.W),nt.L){No(S.h,nt);var Ct=nt,pe=S.O;pe&&(Ct.H=pe),Ct.D&&(ui(Ct),li(Ct)),S.g=nt}else Iu(S);v.i.length>0&&yi(v)}else Qt[0]!="stop"&&Qt[0]!="close"||_i(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?_i(v,7):Po(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Co(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return H(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,B=null;S>=0?(L=c[v].substring(0,S),B=c[v].substring(S+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.u),this.h=c.h,Do(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(Tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),lr(this,m[4]),this.h=di(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_s(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_s(m,oa,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?Oo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,Au)),c.join("")},mn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)lr(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const Ct=L[nt++];Ct=="."?S&&nt==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&nt==L.length&&B.push("")):(B.push(Ct),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?Do(m,bu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new mn(c)}function Ue(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof cr?(c.i=m,ua(c.i,c.l)):(v||(m=_s(m,ur)),c.i=new cr(m,c.l))}function Yt(c,m,v){c.i.set(m,v)}function ys(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,Su=/[#\?:]/g,Oo=/[#\?]/g,ur=/[#\?@]/g,Au=/#/g;function cr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=cr.prototype,r.add=function(c,m){an(this),this.i=null,c=hr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function wu(c,m){an(c),m=hr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return an(c),m=hr(c,m),c.g.has(m)}r.forEach=function(c,m){an(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function Mo(c,m){an(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(hr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return an(this),this.i=null,c=hr(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function la(c,m,v){wu(c,m),v.length>0&&(c.i=null,c.g.set(hr(c,m),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Oi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let nt=L;v[B]!==""&&(nt+="="+Oi(v[B])),c.push(nt)}}return this.i=c.join("&")};function bu(c){const m=new cr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function hr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ua(c,m){m&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(wu(this,S),la(this,L,v))},c)),c.j=m}function Fn(c,m){const v=new Bn;if(d.Image){const S=new Image;S.onload=T(In,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(In,v,"TestLoadImage: error",!1,m,S),S.onabort=T(In,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function ko(c,m){const v=new Bn,S=new AbortController,L=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function fr(){this.g=new fu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(mi,du),mi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vs,Ee),r=vs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?dr(this):Gn(this),this.readyState==3&&ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,dr(this))},r.Na=function(c){this.g&&(this.response=c,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return bt(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Es(c,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Cn(v),typeof c=="string"?v!=null&&Oi(v):Yt(c,m,v))}function Jt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,Ee);var pi=/^https?$/i,Uo=["POST","PUT"];r=Jt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Ts(this,B);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Ts(this,B)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Vi(c)}function Lo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let nt=String(c.D).match(Tu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),S=!pi.test(nt?nt.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var L=Qn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Lo(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$h(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var v=_u(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}jt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function mr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=mr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,S){Te(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ou(this,null,this.W),yi(this)};function Po(c){if(ha(c),c.I==3){var m=c.V++,v=we(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),As(c,v),m=new qn(c,c.j,m),m.M=2,m.A=ys(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Du(c)}function pr(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ha(c){pr(c),c.v&&(d.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function yi(c){if(!Io(c.h)&&!c.m){c.m=!0;var m=c.Ea;xt||b(),ut||(xt(),ut=!0),R.add(m,c),c.D=0}}function fa(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,m),xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=D(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ru(this,L,m),v=we(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),As(this,v),B&&(this.R?m="headers="+Oi(Cn(B))+"&"+m:this.u&&Es(v,this.u,B)),Co(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Io(this.h)||zo(this))};function zo(c,m){var v;m?v=m.l:v=c.V++;const S=we(c.J);Yt(S,"SID",c.M),Yt(S,"RID",v),Yt(S,"AID",c.K),As(c,S),c.u&&c.o&&Es(S,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Co(c.h,v),oi(v,S,m)}function As(c,m){c.H&&bt(c.H,function(v,S){Yt(m,S,v)}),c.l&&bt({},function(v,S){Yt(m,S,v)})}function Ru(c,m,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let Ct=-1;for(;;){const pe=["count="+v];Ct==-1?v>0?(Ct=L[0].g,pe.push("ofs="+Ct)):Ct=0:pe.push("ofs="+Ct);let Qt=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const Nn=L[oe].map;if(B-=Ct,B<0)Ct=Math.max(0,L[oe].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var nt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Kn]of nt){let Yn=Kn;p(Kn)&&(Yn=or(Kn)),pe.push(B+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw pe.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(Nn)}}if(Qt){nt=pe.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function Iu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;xt||b(),ut||(xt(),ut=!0),R.add(m,c),c.A=0}}function ws(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),pr(this),Cu(this))};function jo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Yt(m,"RID","rpc"),Yt(m,"SID",c.M),Yt(m,"AID",c.K),Yt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(m,"TO",c.ia),Yt(m,"TYPE","xmlhttp"),As(c,m),c.u&&c.o&&Es(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(we(m)),v.u=null,v.R=!0,ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,pr(this),ws(this),Te(19))};function da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Nu(c,m){var v=null;if(c.g==m){da(c),jo(c),c.g=null;var S=2}else if(fi(c.h,m))v=m.G,No(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=ia(),Oe(S,new ri(S,v)),yi(c)}else Iu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&fa(c,m)||S==2&&ws(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function xu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(S,"https"),ys(S),L?Fn(S.toString(),v):ko(S.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Du(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const m=xo(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ja,m),X(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function Ou(c,m,v){var S=v instanceof mn?we(v):new mn(v);if(S.g!="")m&&(S.g=m+"."+S.g),lr(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);S&&Ue(B,S),m&&(B.g=m),L&&lr(B,L),v&&(B.h=v),S=B}return v=c.G,m=c.wa,v&&m&&Yt(S,v,m),Yt(S,"VER",c.ka),As(c,S),S}function Vu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Jt(new mi({ab:v})):new Jt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gr(){}gr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){Ee.call(this),this.g=new mr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}A(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Po(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=or(c),c=v);m.i.push(new Ae(m.Ya++,c)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,tn.Z.N.call(this)};function ku(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(ku,je);function Uu(){bn.call(this),this.status=1}A(Uu,bn);function ki(c){this.g=c}A(ki,Mu),ki.prototype.ra=function(){Oe(this.g,"a")},ki.prototype.qa=function(c){Oe(this.g,new ku(c))},ki.prototype.pa=function(c){Oe(this.g,new Uu)},ki.prototype.oa=function(){Oe(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,q0=function(){return new gr},B0=function(){return ia()},j0=me,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Jc=ps,wo.COMPLETE="complete",z0=wo,mu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Cl=mu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,P0=Jt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let fo="12.9.0";function wI(r){fo=r}const Ks=new jm("@firebase/firestore");function Fa(){return Ks.logLevel}function at(r,...t){if(Ks.logLevel<=Lt.DEBUG){const n=t.map(Jm);Ks.debug(`Firestore (${fo}): ${r}`,...n)}}function nr(r,...t){if(Ks.logLevel<=Lt.ERROR){const n=t.map(Jm);Ks.error(`Firestore (${fo}): ${r}`,...n)}}function Ys(r,...t){if(Ks.logLevel<=Lt.WARN){const n=t.map(Jm);Ks.warn(`Firestore (${fo}): ${r}`,...n)}}function Jm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,H0(r,s,n)}function H0(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||H0(t,l,s)}function wt(r,t){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class F0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class II{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ii,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ii)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new F0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class CI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=DI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function bm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return om(l)===om(u)?Pt(l,u):om(l)?1:-1}return Pt(r.length,t.length)}const OI=55296,VI=57343;function om(r){const t=r.charCodeAt(0);return t>=OI&&t<=VI}function ro(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const Hv="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=wi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),l=wi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?wi.extractNumericId(t).compare(wi.extractNumericId(n)):bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ee extends wi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends wi{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return MI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Ke([Hv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function G0(r,t,n){if(!n)throw new it(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kI(r,t,n,s){if(t===!0&&s===!0)throw new it(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Fv(r){if(!dt.isDocumentKey(r))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gv(r){if(dt.isDocumentKey(r))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function xi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(r);throw new it(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function ru(r,t){if(!Q0(r))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(Q.INVALID_ARGUMENT,n);return!0}const Qv=-62135596800,Kv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Kv);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Qv)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function UI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ts(l,dt.empty(),t)}function LI(r){return new ts(r.readTime,r.key,Hl)}class ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(St.min(),dt.empty(),Hl)}static max(){return new ts(St.max(),dt.empty(),Hl)}}function PI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==zI)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(_=>s(_)))})),d=!0,u===l&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,l)=>{const u=t.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(t[y]).next((T=>{d[y]=T,++p,p===u&&s(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new J(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function BI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;const Wm=-1;function su(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function qI(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K0="";function HI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Yv(t)),t=FI(r.get(n),t);return Yv(t)}function FI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case K0:n+="";break;default:n+=u}}return n}function Yv(r){return r+K0+""}function Xv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function os(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Qe(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(t){return new $v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class $v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new Me(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const GI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=GI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const $0="server_timestamp",J0="__type__",Z0="__previous_value__",W0="__local_write_time__";function tp(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===$0}function Vh(r){const t=r.mapValue.fields[Z0];return tp(t)?Vh(t):t}function Fl(r){const t=es(r.mapValue.fields[W0].timestampValue);return new se(t.seconds,t.nanos)}class QI{constructor(t,n,s,l,u,d,p,_,y,T,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=A}}const mh="(default)";class Gl{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}function KI(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(r.options.projectId,t)}const tT="__type__",YI="__max__",Hc={mapValue:{}},eT="__vector__",ph="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:$I(r)?9007199254740991:XI(r)?10:11:_t(28295,{value:r})}function Di(r,t){if(r===t)return!0;const n=is(r);if(n!==is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fl(r).isEqual(Fl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=es(l.timestampValue),p=es(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ns(l.bytesValue).isEqual(ns(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return _e(l.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _e(l.integerValue)===_e(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=_e(l.doubleValue),p=_e(u.doubleValue);return d===p?dh(d)===dh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Xv(d)!==Xv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Di(d[_],p[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Ql(r,t){return(r.values||[]).find((n=>Di(n,t)))!==void 0}function so(r,t){if(r===t)return 0;const n=is(r),s=is(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=_e(u.integerValue||u.doubleValue),_=_e(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Jv(r.timestampValue,t.timestampValue);case 4:return Jv(Fl(r),Fl(t));case 5:return bm(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=ns(u),_=ns(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Pt(p[y],_[y]);if(T!==0)return T}return Pt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Pt(_e(u.latitude),_e(d.latitude));return p!==0?p:Pt(_e(u.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Zv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},_=d.fields||{},y=p[ph]?.arrayValue,T=_[ph]?.arrayValue,A=Pt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:Zv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Hc.mapValue&&d===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const N=bm(_[A],T[A]);if(N!==0)return N;const H=so(p[_[A]],y[T[A]]);if(H!==0)return H}return Pt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function Jv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=es(r),s=es(t),l=Pt(n.seconds,s.seconds);return l!==0?l:Pt(n.nanos,s.nanos)}function Zv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=so(n[l],s[l]);if(u)return u}return Pt(n.length,s.length)}function ao(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Rm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Rm(n.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Zc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(r);return t?16+Zc(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Zc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return os(s.fields,((u,d)=>{l+=u.length+Zc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function Wv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function ep(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function eE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function XI(r){return(r?.mapValue?.fields||{})[tT]?.stringValue===eT}function Ul(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return os(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ul(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ul(r.arrayValue.values[n]);return t}return{...r}}function $I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(n)}setAll(t){let n=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Ul(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){os(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new nn(Ul(this.value))}}function nT(r){const t=[];return os(r.fields,((n,s)=>{const l=new Ke([n]);if(Wc(s)){const u=nT(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new An(t)}class ze{constructor(t,n,s,l,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new ze(t,0,St.min(),St.min(),St.min(),nn.empty(),0)}static newFoundDocument(t,n,s,l){return new ze(t,1,n,St.min(),s,l,0)}static newNoDocument(t,n){return new ze(t,2,n,St.min(),St.min(),nn.empty(),0)}static newUnknownDocument(t,n){return new ze(t,3,n,St.min(),St.min(),nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(t,n){this.position=t,this.inclusive=n}}function nE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=so(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],t.position[n]))return!1;return!0}class Kl{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class iT{}class xe extends iT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new WI(t,n,s):n==="array-contains"?new nC(t,s):n==="in"?new iC(t,s):n==="not-in"?new rC(t,s):n==="array-contains-any"?new sC(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new tC(t,s):new eC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends iT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ei(t,n)}matches(t){return rT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function sT(r){return ZI(r)&&rT(r)}function ZI(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function Cm(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(sT(r))return r.filters.map((t=>Cm(t))).join(",");{const t=r.filters.map((n=>Cm(n))).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof xe?(function(s,l){return l instanceof xe&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&aT(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function oT(r){return r instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"})(r):"Filter"}class WI extends xe{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tC extends xe{constructor(t,n){super(t,"in",n),this.keys=lT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class eC extends xe{constructor(t,n){super(t,"not-in",n),this.keys=lT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function lT(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class nC extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ep(n)&&Ql(n.arrayValue,this.value)}}class iC extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class rC extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class sC extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}class aC{constructor(t,n=null,s=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function rE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new aC(r,t,n,s,l,u,d)}function np(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Cm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),su(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ao(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ao(s))).join(",")),t.Te=n}return t.Te}function ip(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!iE(r.startAt,t.startAt)&&iE(r.endAt,t.endAt)}function Nm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class go{constructor(t,n=null,s=[],l=[],u=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oC(r,t,n,s,l,u,d,p){return new go(r,t,n,s,l,u,d,p)}function rp(r){return new go(r)}function sE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lC(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function uT(r){return r.collectionGroup!==null}function Ll(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Kl(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Kl(Ke.keyField(),s))}return t.Ie}function Ci(r){const t=wt(r);return t.Ee||(t.Ee=uC(t,Ll(r))),t.Ee}function uC(r,t){if(r.limitType==="F")return rE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Kl(l.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return rE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function xm(r,t){const n=r.filters.concat([t]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function cC(r,t){const n=r.explicitOrderBy.concat([t]);return new go(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function yh(r,t,n){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Mh(r,t){return ip(Ci(r),Ci(t))&&r.limitType===t.limitType}function cT(r){return`${np(Ci(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>oT(l))).join(", ")}]`),su(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function kh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Ll(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=nE(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Ll(s),l)||s.endAt&&!(function(d,p,_){const y=nE(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Ll(s),l))})(r,t)}function hC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hT(r){return(t,n)=>{let s=!1;for(const l of Ll(r)){const u=fC(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function fC(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,d,p){const _=d.data.field(u),y=p.data.field(u);return _!==null&&y!==null?so(_,y):_t(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class Zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}const dC=new ce(dt.comparator);function ir(){return dC}const fT=new ce(dt.comparator);function Nl(...r){let t=fT;for(const n of r)t=t.insert(n.key,n);return t}function dT(r){let t=fT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function qs(){return Pl()}function mT(){return Pl()}function Pl(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const mC=new ce(dt.comparator),pC=new Me(dt.comparator);function zt(...r){let t=pC;for(const n of r)t=t.add(n);return t}const gC=new Me(Pt);function yC(){return gC}function sp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function pT(r){return{integerValue:""+r}}function _C(r,t){return qI(t)?pT(t):sp(r,t)}class Uh{constructor(){this._=void 0}}function vC(r,t,n){return r instanceof Yl?(function(l,u){const d={fields:{[J0]:{stringValue:$0},[W0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&tp(u)&&(u=Vh(u)),u&&(d.fields[Z0]=u),{mapValue:d}})(n,t):r instanceof Xl?yT(r,t):r instanceof $l?_T(r,t):(function(l,u){const d=gT(l,u),p=aE(d)+aE(l.Ae);return Im(d)&&Im(l.Ae)?pT(p):sp(l.serializer,p)})(r,t)}function EC(r,t,n){return r instanceof Xl?yT(r,t):r instanceof $l?_T(r,t):n}function gT(r,t){return r instanceof _h?(function(s){return Im(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Yl extends Uh{}class Xl extends Uh{constructor(t){super(),this.elements=t}}function yT(r,t){const n=vT(t);for(const s of r.elements)n.some((l=>Di(l,s)))||n.push(s);return{arrayValue:{values:n}}}class $l extends Uh{constructor(t){super(),this.elements=t}}function _T(r,t){let n=vT(t);for(const s of r.elements)n=n.filter((l=>!Di(l,s)));return{arrayValue:{values:n}}}class _h extends Uh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function aE(r){return _e(r.integerValue||r.doubleValue)}function vT(r){return ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TC{constructor(t,n){this.field=t,this.transform=n}}function SC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Xl&&l instanceof Xl||s instanceof $l&&l instanceof $l?ro(s.elements,l.elements,Di):s instanceof _h&&l instanceof _h?Di(s.Ae,l.Ae):s instanceof Yl&&l instanceof Yl})(r.transform,t.transform)}class AC{constructor(t,n){this.version=t,this.transformResults=n}}class rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rn}static exists(t){return new rn(void 0,t)}static updateTime(t){return new rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Lh{}function ET(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ap(r.key,rn.none()):new au(r.key,r.data,rn.none());{const n=r.data,s=nn.empty();let l=new Me(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ls(r.key,s,new An(l.toArray()),rn.none())}}function wC(r,t,n){r instanceof au?(function(l,u,d){const p=l.value.clone(),_=lE(l.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof ls?(function(l,u,d){if(!th(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=lE(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(TT(l)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function zl(r,t,n,s){return r instanceof au?(function(u,d,p,_){if(!th(u.precondition,d))return p;const y=u.value.clone(),T=uE(u.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ls?(function(u,d,p,_){if(!th(u.precondition,d))return p;const y=uE(u.fieldTransforms,_,d),T=d.data;return T.setAll(TT(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,d,p){return th(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function bC(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=gT(s.transform,l||null);u!=null&&(n===null&&(n=nn.empty()),n.set(s.field,u))}return n||null}function oE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((u,d)=>SC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class au extends Lh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ls extends Lh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function lE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=t.data.field(u.field);s.set(u.field,EC(d,p,n[l]))}return s}function uE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,vC(u,d,t))}return s}class ap extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ST extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RC{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&wC(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=zl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=zl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mT();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const _=ET(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,s)=>oE(n,s)))&&ro(this.baseMutations,t.baseMutations,((n,s)=>oE(n,s)))}}class op{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return mC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new op(t,n,s,l)}}class IC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,qt;function AT(r){switch(r){case Q.OK:return _t(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function wT(r){if(r===void 0)return nr("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Ne.OK:return Q.OK;case Ne.CANCELLED:return Q.CANCELLED;case Ne.UNKNOWN:return Q.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Q.INTERNAL;case Ne.UNAVAILABLE:return Q.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Q.NOT_FOUND;case Ne.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ne.ABORTED:return Q.ABORTED;case Ne.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ne.DATA_LOSS:return Q.DATA_LOSS;default:return _t(39323,{code:r})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function NC(){return new TextEncoder}const xC=new Jr([4294967295,4294967295],0);function cE(r){const t=NC().encode(r),n=new L0;return n.update(t),new Uint8Array(n.digest())}function hE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Jr([n,s],0),new Jr([l,u],0)]}class lp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Jr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Jr.fromNumber(s)));return l.compare(xC)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=cE(t),[s,l]=hE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new lp(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=cE(t),[s,l]=hE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.be(d)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ph(St.min(),l,new ce(Pt),ir(),zt())}}class ou{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ou(s,n,zt(),zt(),zt())}}class eh{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class bT{constructor(t,n){this.targetId=t,this.Ce=n}}class RT{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:u})}})),new ou(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=Fc(),this.Je=Fc(),this.Ze=new ce(Pt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Nm(u))if(s===0){const d=new dt(u.path);this.et(n,d,ze.newNoDocument(d,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=ns(s).toUint8Array()}catch(_){if(_ instanceof X0)return Ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lp(d,l,u)}catch(_){return Ys(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Nm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,ze.newNoDocument(_,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=zt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Ph(t,n,this.Ze,this.je,s);return this.je=ir(),this.He=Fc(),this.Je=Fc(),this.Ze=new ce(Pt),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new fE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Me(Pt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Me(Pt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fc(){return new ce(dt.comparator)}function dE(){return new ce(dt.comparator)}const OC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class kC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dm(r,t){return r.useProto3Json||su(t)?t:{value:t}}function vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function UC(r,t){return vh(r,t.toTimestamp())}function wn(r){return Ht(!!r,49232),St.fromTimestamp((function(n){const s=es(n);return new se(s.seconds,s.nanos)})(r))}function up(r,t){return Om(r,t).canonicalString()}function Om(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function CT(r){const t=ee.fromString(r);return Ht(MT(t),10190,{key:t.toString()}),t}function Eh(r,t){return up(r.databaseId,t.path)}function jl(r,t){const n=CT(t);if(n.get(1)!==r.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(xT(n))}function NT(r,t){return up(r.databaseId,t)}function LC(r){const t=CT(r);return t.length===4?ee.emptyPath():xT(t)}function Vm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mE(r,t,n){return{name:Eh(r,t),fields:n.value.mapValue.fields}}function PC(r,t){return"found"in t?(function(s,l){Ht(!!l.found,43571),l.found.name,l.found.updateTime;const u=jl(s,l.found.name),d=wn(l.found.updateTime),p=l.found.createTime?wn(l.found.createTime):St.min(),_=new nn({mapValue:{fields:l.found.fields}});return ze.newFoundDocument(u,d,p,_)})(r,t):"missing"in t?(function(s,l){Ht(!!l.missing,3894),Ht(!!l.readTime,22933);const u=jl(s,l.missing),d=wn(l.readTime);return ze.newNoDocument(u,d)})(r,t):_t(7234,{result:t})}function zC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Q.UNKNOWN:wT(y.code);return new it(T,y.message||"")})(d);n=new RT(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=jl(r,s.document.name),u=wn(s.document.updateTime),d=s.document.createTime?wn(s.document.createTime):St.min(),p=new nn({mapValue:{fields:s.document.fields}}),_=ze.newFoundDocument(l,u,d,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new eh(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=jl(r,s.document),u=s.readTime?wn(s.readTime):St.min(),d=ze.newNoDocument(l,u),p=s.removedTargetIds||[];n=new eh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=jl(r,s.document),u=s.removedTargetIds||[];n=new eh([],u,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new CC(l,u),p=s.targetId;n=new bT(p,d)}}return n}function DT(r,t){let n;if(t instanceof au)n={update:mE(r,t.key,t.value)};else if(t instanceof ap)n={delete:Eh(r,t.key)};else if(t instanceof ls)n={update:mE(r,t.key,t.data),updateMask:YC(t.fieldMask)};else{if(!(t instanceof ST))return _t(16599,{dt:t.type});n={verify:Eh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _h)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:UC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,t.precondition)),n}function jC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?wn(l.updateTime):wn(u);return d.isEqual(St.min())&&(d=wn(u)),new AC(d,l.transformResults||[])})(n,t)))):[]}function BC(r,t){return{documents:[NT(r,t.path)]}}function qC(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,l);const u=(function(y){if(y.length!==0)return VT(ei.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:Qa(N.field),direction:GC(N.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Dm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function HC(r){let t=LC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const N=OT(A);return N instanceof ei&&sT(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((N=>(function(X){return new Kl(Ka(X.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,su(N)?null:N})(n.limit));let _=null;n.startAt&&(_=(function(A){const N=!!A.before,H=A.values||[];return new gh(H,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const N=!A.before,H=A.values||[];return new gh(H,N)})(n.endAt)),oC(t,l,d,u,p,"F",_,y)}function FC(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(n.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(n.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xe.create(Ka(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>OT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(r):_t(30097,{filter:r})}function GC(r){return OC[r]}function QC(r){return VC[r]}function KC(r){return MC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ke.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof xe?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:QC(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((l=>VT(l)));return s.length===1?s[0]:{compositeFilter:{op:KC(n.op),filters:s}}})(r):_t(54877,{filter:r})}function YC(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function MT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function kT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Qr{constructor(t,n,s,l,u=St.min(),d=St.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class XC{constructor(t){this.yt=t}}function $C(r){const t=HC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yh(t,t.limit,"L"):t}class JC{constructor(){this.Sn=new ZC}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(ts.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class ZC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Me(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(UT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const gE="LruGarbageCollector",WC=1048576;function yE([r,t],[n,s]){const l=Pt(r,n);return l===0?Pt(t,s):l}class t2{constructor(t){this.Pr=t,this.buffer=new Me(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?at(gE,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Ar(3e5)}))}}class n2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Oh.ce);const s=new t2(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(pE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,u,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(y=Date.now(),Fa()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function i2(r,t){return new n2(r,t)}class r2{constructor(){this.changes=new Zs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class s2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class a2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&zl(s.mutation,l,An.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const l=qs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Nl();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=qs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let u=ir();const d=Pl(),p=(function(){return Pl()})();return n.forEach(((_,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ls)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),zl(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new s2(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Pl();let l=new ce(((d,p)=>d-p)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let T=s.get(_)||An.empty();T=p.applyToLocalView(y,T),s.set(_,T);const A=(l.get(p.batchId)||zt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=mT();T.forEach((N=>{if(!u.has(N)){const H=ET(n.get(N),s.get(N));H!==null&&A.set(N,H),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return lC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):J.resolve(qs());let p=Hl,_=u;return d.next((y=>J.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,zt()))).next((T=>({batchId:p,changes:dT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let l=Nl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,u).next((p=>J.forEach(p,(_=>{const y=(function(A,N){return new go(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,ze.newInvalidDocument(T)))}));let p=Nl();return d.forEach(((_,y)=>{const T=u.get(_);T!==void 0&&zl(T.mutation,y,An.empty(),se.now()),kh(n,y)&&(p=p.insert(_,y))})),p}))}}class o2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wn(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:$C(l.bundledQuery),readTime:wn(l.readTime)}})(n)),J.resolve()}}class l2{constructor(){this.overlays=new ce(dt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=qs();return J.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const l=qs(),u=n.length+1,d=new dt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ce(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=qs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=qs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return J.resolve(p)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new IC(n,s));let u=this.Lr.get(n);u===void 0&&(u=zt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class u2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class cp{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Pe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new dt(new ee([])),s=new Pe(n,t),l=new Pe(n,t+1),u=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new dt(new ee([])),s=new Pe(n,t),l=new Pe(n,t+1);let u=zt();return this.qr.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return dt.comparator(t.key,n.key)||Pt(t.Hr,n.Hr)}static Ur(t,n){return Pt(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}class c2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RC(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Pt);return n.forEach((l=>{const u=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const d=new Pe(new dt(u),0);let p=new Me(Pt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(n.mutations,(l=>{const u=new Pe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Pe(n,0),l=this.Jr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class h2{constructor(t){this.ti=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(t,n){let s=ir();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():ze.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=ir();const d=n.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||PI(LI(T),s)<=0||(l.has(T.key)||kh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,l){_t(9500)}ni(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new f2(this)}getSize(t){return J.resolve(this.size)}}class f2 extends r2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class d2{constructor(t){this.persistence=t,this.ri=new Zs((n=>np(n)),ip),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new cp,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new oo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class LT{constructor(t,n){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new u2,this.referenceDelegate=t(this),this.li=new d2(this),this.indexManager=new JC,this.remoteDocumentCache=(function(l){return new h2(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new XC(n),this.Pi=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new l2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new c2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const l=new m2(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class m2 extends jI{constructor(t){super(),this.currentSequenceNumber=t}}class hp{constructor(t){this.persistence=t,this.Ri=new cp,this.Ai=null}static Vi(t){return new hp(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const l=dt.fromPath(s);return this.mi(t,l).next((u=>{u||n.removeEntry(l,St.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.fi=new Zs((s=>HI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=i2(this,n)}static Vi(t,n){return new Th(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(s++,u.removeEntry(d,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zc(t.data.value)),n}wr(t,n,s){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class fp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=zt(),l=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new fp(t,n.fromCache,s,l)}}class p2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class g2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bw()?8:BI(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new p2;return this.ys(t,n,d).next((p=>{if(u.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>u.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Fa()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Fa()<=Lt.DEBUG&&at("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Fa()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):J.resolve())}gs(t,n){if(sE(n))return J.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=yh(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=zt(...u);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(n,p);return this.Ss(n,y,d,_.readTime)?this.gs(t,yh(n,null,"F")):this.Ds(t,y,n,_)}))))})))))}ps(t,n,s,l){return sE(n)||l.isEqual(St.min())?J.resolve(null):this.fs.getDocuments(t,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,l)?J.resolve(null):(Fa()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(n)),this.Ds(t,d,n,UI(l,Hl)).next((p=>p)))}))}bs(t,n){let s=new Me(hT(t));return n.forEach(((l,u)=>{kh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,s){return Fa()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.fs.getDocumentsMatchingQuery(t,n,ts.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const dp="LocalStore",y2=3e8;class _2{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ce(Pt),this.Fs=new Zs((u=>np(u)),ip),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new a2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function v2(r,t,n,s){return new _2(r,t,n,s)}async function PT(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let _=zt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function E2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,N=A.keys();let H=J.resolve();return N.forEach((X=>{H=H.next((()=>T.getEntry(_,X))).next((Z=>{const tt=y.docVersions.get(X);Ht(tt!==null,48541),Z.version.compareTo(tt)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),T.addEntry(Z)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function zT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function T2(r,t){const n=wt(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((T,A)=>{const N=l.get(A);if(!N)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,A))));let H=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(A,H),(function(Z,tt,ft){return Z.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=y2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,H,T)&&p.push(n.li.updateTargetData(u,H))}));let _=ir(),y=zt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(S2(u,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!s.isEqual(St.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.vs=l,u)))}function S2(r,t,n){let s=zt(),l=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=ir();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(dp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function A2(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function w2(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((u=>u?(l=u,J.resolve(l)):n.li.allocateTargetId(s).next((d=>(l=new Qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Mm(r,t,n){const s=wt(r),l=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;at(dp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function _E(r,t,n){const s=wt(r);let l=St.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=wt(_),N=A.Fs.get(T);return N!==void 0?J.resolve(A.vs.get(N)):A.li.getTargetData(y,T)})(s,d,Ci(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:St.min(),n?u:zt()))).next((p=>(b2(s,hC(t),p),{documents:p,ks:u})))))}function b2(r,t,n){let s=r.Ms.get(t)||St.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class vE{constructor(){this.activeTargetIds=yC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R2{constructor(){this.vo=new vE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new vE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class I2{Mo(t){}shutdown(){}}const EE="ConnectivityMonitor";class TE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function km(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const lm="RestConnection",C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class N2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,u){const d=km(),p=this.Qo(t,n.toUriEncodedString());at(lm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,u);const{host:y}=new URL(p),T=uo(y);return this.zo(t,p,_,s,T).then((A=>(at(lm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ys(lm,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}jo(t,n,s,l,u,d){return this.Wo(t,n,s,l,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const s=C2[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class x2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",bl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends N2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=B0();bl(t,j0.STAT_EVENT,(n=>{n.stat===wm.PROXY?at($e,"STAT_EVENT: detected buffering proxy"):n.stat===wm.NOPROXY&&at($e,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,n,s,l,u){const d=km();return new Promise(((p,_)=>{const y=new P0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const A=y.getResponseJson();at($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Jc.TIMEOUT:at($e,`RPC '${t}' ${d} timed out`),_(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const N=y.getStatus();if(at($e,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H?.error;if(X&&X.status&&X.message){const Z=(function(ft){const pt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(pt)>=0?pt:Q.UNKNOWN})(X.status);_(new it(Z,X.message))}else _(new it(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new it(Q.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at($e,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=km(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");at($e,`Creating RPC '${t}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let A=!1,N=!1;const H=new x2({Ho:X=>{N?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(A||(at($e,`Opening RPC '${t}' stream ${l} transport.`),T.open(),A=!0),at($e,`RPC '${t}' stream ${l} sending:`,X),T.send(X))},Jo:()=>T.close()});return bl(T,Cl.EventType.OPEN,(()=>{N||(at($e,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),bl(T,Cl.EventType.CLOSE,(()=>{N||(N=!0,at($e,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(T))})),bl(T,Cl.EventType.ERROR,(X=>{N||(N=!0,Ys($e,`RPC '${t}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),H.o_(new it(Q.UNAVAILABLE,"The operation could not be completed")))})),bl(T,Cl.EventType.MESSAGE,(X=>{if(!N){const Z=X.data[0];Ht(!!Z,16349);const tt=Z,ft=tt?.error||tt[0]?.error;if(ft){at($e,`RPC '${t}' stream ${l} received error:`,ft);const pt=ft.status;let gt=(function(ut){const R=Ne[ut];if(R!==void 0)return wT(R)})(pt),vt=ft.message;pt==="NOT_FOUND"&&vt.includes("database")&&vt.includes("does not exist")&&vt.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),gt===void 0&&(gt=Q.INTERNAL,vt="Unknown error status: "+pt+" with message "+ft.message),N=!0,H.o_(new it(gt,vt)),T.close()}else at($e,`RPC '${t}' stream ${l} received:`,Z),H.__(Z)}})),Wa.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return q0()}}function D2(r){return new Wa(r)}function um(){return typeof document<"u"?document:null}function zh(r){return new kC(r,!0)}Wa.c_=!1;class mp{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const SE="PersistentStream";class jT{constructor(t,n,s,l,u,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(SE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends jT{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=zC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?wn(d.readTime):St.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Vm(this.serializer),n.addTarget=(function(u,d){let p;const _=d.target;if(p=Nm(_)?{documents:BC(u,_)}:{query:qC(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(u,d.resumeToken);const y=Dm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=vh(u,d.snapshotVersion.toTimestamp());const y=Dm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=FC(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Vm(this.serializer),n.removeTarget=t,this.K_(n)}}class V2 extends jT{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=jC(t.writeResults,t.commitTime),s=wn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Vm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>DT(this.serializer,s)))};this.K_(n)}}class M2{}class k2 extends M2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,Om(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Q.UNKNOWN,u.toString())}))}jo(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Om(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function U2(r,t,n,s){return new k2(r,t,n,s)}class L2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class P2{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ws(this)&&(at(Xs,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Va=new L2(s,l)}}async function jh(r){if(Ws(r))for(const t of r.Ra)await t(!0)}async function lu(r){for(const t of r.Ra)await t(!1)}function BT(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),_p(n)?yp(n):yo(n).O_()&&gp(n,t))}function pp(r,t){const n=wt(r),s=yo(n);n.Ia.delete(t),s.O_()&&qT(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Va.set("Unknown"))}function gp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yo(r).Z_(t)}function qT(r,t){r.da.$e(t),yo(r).X_(t)}function yp(r){r.da=new DC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Va.ua()}function _p(r){return Ws(r)&&!yo(r).x_()&&r.Ia.size>0}function Ws(r){return wt(r).Ea.size===0}function HT(r){r.da=void 0}async function z2(r){r.Va.set("Online")}async function j2(r){r.Ia.forEach(((t,n)=>{gp(r,t)}))}async function B2(r,t){HT(r),_p(r)?(r.Va.ha(t),yp(r)):r.Va.set("Unknown")}async function q2(r,t,n){if(r.Va.set("Online"),t instanceof RT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){at(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sh(r,s)}else if(t instanceof eh?r.da.Xe(t):t instanceof bT?r.da.st(t):r.da.tt(t),!n.isEqual(St.min()))try{const s=await zT(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),qT(u,_);const A=new Qr(T.target,_,y,T.sequenceNumber);gp(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){at(Xs,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,t,n){if(!po(t))throw t;r.Ea.add(1),await lu(r),r.Va.set("Offline"),n||(n=()=>zT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jh(r)}))}function FT(r,t){return t().catch((n=>Sh(r,n,t)))}async function Bh(r){const t=wt(r),n=rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;H2(t);)try{const l=await A2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,F2(t,l)}catch(l){await Sh(t,l)}GT(t)&&QT(t)}function H2(r){return Ws(r)&&r.Ta.length<10}function F2(r,t){r.Ta.push(t);const n=rs(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function GT(r){return Ws(r)&&!rs(r).x_()&&r.Ta.length>0}function QT(r){rs(r).start()}async function G2(r){rs(r).ra()}async function Q2(r){const t=rs(r);for(const n of r.Ta)t.ea(n.mutations)}async function K2(r,t,n){const s=r.Ta.shift(),l=op.from(s,t,n);await FT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Bh(r)}async function Y2(r,t){t&&rs(r).Y_&&await(async function(s,l){if((function(d){return AT(d)&&d!==Q.ABORTED})(l.code)){const u=s.Ta.shift();rs(s).B_(),await FT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Bh(s)}})(r,t),GT(r)&&QT(r)}async function AE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),at(Xs,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jh(n)}async function X2(r,t){const n=wt(r);t?(n.Ea.delete(2),await jh(n)):t||(n.Ea.add(2),await lu(n),n.Va.set("Unknown"))}function yo(r){return r.ma||(r.ma=(function(n,s,l){const u=wt(n);return u.sa(),new O2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:z2.bind(null,r),Yo:j2.bind(null,r),t_:B2.bind(null,r),J_:q2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),_p(r)?yp(r):r.Va.set("Unknown")):(await r.ma.stop(),HT(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(n,s,l){const u=wt(n);return u.sa(),new V2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:G2.bind(null,r),t_:Y2.bind(null,r),ta:Q2.bind(null,r),na:K2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Bh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vp{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,p=new vp(t,n,d,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(r,t){if(nr("AsyncQueue",`${t}: ${r}`),po(r))return new it(Q.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class wE{constructor(){this.ga=new ce(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class lo{constructor(t,n,s,l,u,d,p,_,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,n,to.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class $2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class J2{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=wt(n),u=l.queries;l.queries=bE(),u.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function bE(){return new Zs((r=>cT(r)),Mh)}async function KT(r,t){const n=wt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(s=2):(u=new $2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Ep(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Tp(n)}async function YT(r,t){const n=wt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Z2(r,t){const n=wt(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&Tp(n)}function W2(r,t,n){const s=wt(r),l=s.queries.get(t);if(l)for(const u of l.ba)u.onError(n);s.queries.delete(t)}function Tp(r){r.Ca.forEach((t=>{t.next()}))}var Um,RE;(RE=Um||(Um={})).Ma="default",RE.Cache="cache";class XT{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class $T{constructor(t){this.key=t}}class JT{constructor(t){this.key=t}}class tN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=hT(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new wE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const N=l.get(T),H=kh(this.query,A)?A:null,X=!!N&&this.mutatedKeys.has(N.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;N&&H?N.data.isEqual(H.data)?X!==Z&&(s.track({type:3,doc:H}),tt=!0):this.su(N,H)||(s.track({type:2,doc:H}),tt=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!N&&H?(s.track({type:0,doc:H}),tt=!0):N&&!H&&(s.track({type:1,doc:N}),tt=!0,(_||y)&&(p=!0)),tt&&(H?(d=d.add(H),u=Z?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(H,X){const Z=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:tt})}};return Z(H)-Z(X)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,u,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new JT(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new $T(s))})),n}cu(t){this.Za=t.ks,this.Ya=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class eN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class nN{constructor(t){this.key=t,this.hu=!1}}class iN{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((p=>cT(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(dt.comparator),this.Au=new Map,this.Vu=new cp,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rN(r,t,n=!0){const s=iS(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ZT(s,t,n,!0),l}async function sN(r,t){const n=iS(r);await ZT(n,t,!0,!1)}async function ZT(r,t,n,s){const l=await w2(r.localStore,Ci(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await aN(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&BT(r.remoteStore,l),p}async function aN(r,t,n,s,l){r.pu=(A,N,H)=>(async function(Z,tt,ft,pt){let gt=tt.view.ru(ft);gt.Ss&&(gt=await _E(Z.localStore,tt.query,!1).then((({documents:R})=>tt.view.ru(R,gt))));const vt=pt&&pt.targetChanges.get(tt.targetId),xt=pt&&pt.targetMismatches.get(tt.targetId)!=null,ut=tt.view.applyChanges(gt,Z.isPrimaryClient,vt,xt);return CE(Z,tt.targetId,ut.au),ut.snapshot})(r,A,N,H);const u=await _E(r.localStore,t,!0),d=new tN(t,u.ks),p=d.ru(u.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);CE(r,n,y.au);const T=new eN(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function oN(r,t,n){const s=wt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Mh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&pp(s.remoteStore,l.targetId),Lm(s,l.targetId)})).catch(mo)):(Lm(s,l.targetId),await Mm(s.localStore,l.targetId,!0))}async function lN(r,t){const n=wt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function uN(r,t,n){const s=gN(r);try{const l=await(function(d,p){const _=wt(d),y=se.now(),T=p.reduce(((H,X)=>H.add(X.key)),zt());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let X=ir(),Z=zt();return _.xs.getEntries(H,T).next((tt=>{X=tt,X.forEach(((ft,pt)=>{pt.isValidDocument()||(Z=Z.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,X))).next((tt=>{A=tt;const ft=[];for(const pt of p){const gt=bC(pt,A.get(pt.key).overlayedDocument);gt!=null&&ft.push(new ls(pt.key,gt,nT(gt.value.mapValue),rn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ft,p)})).next((tt=>{N=tt;const ft=tt.applyToLocalDocumentSet(A,Z);return _.documentOverlayCache.saveOverlays(H,tt.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:dT(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ce(Pt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,n),await uu(s,l.changes),await Bh(s.remoteStore)}catch(l){const u=Ep(l,"Failed to persist write");n.reject(u)}}async function WT(r,t){const n=wt(r);try{const s=await T2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await uu(n,s,t)}catch(s){await mo(s)}}function IE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=wt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const N of A.ba)N.va(p)&&(y=!0)})),y&&Tp(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cN(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new ce(dt.comparator);d=d.insert(u,ze.newNoDocument(u,St.min()));const p=zt().add(u),_=new Ph(St.min(),new Map,new ce(Pt),d,p);await WT(s,_),s.Ru=s.Ru.remove(u),s.Au.delete(t),Ap(s)}else await Mm(s.localStore,t,!1).then((()=>Lm(s,t,n))).catch(mo)}async function hN(r,t){const n=wt(r),s=t.batch.batchId;try{const l=await E2(n.localStore,t);eS(n,s,null),tS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,l)}catch(l){await mo(l)}}async function fN(r,t,n){const s=wt(r);try{const l=await(function(d,p){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ht(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);eS(s,t,n),tS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uu(s,l)}catch(l){await mo(l)}}function tS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function eS(r,t,n){const s=wt(r);let l=s.du[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Lm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||nS(r,s)}))}function nS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(pp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Ap(r))}function CE(r,t,n){for(const s of n)s instanceof $T?(r.Vu.addReference(s.key,t),dN(r,s)):s instanceof JT?(at(Sp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||nS(r,s.key)):_t(19791,{wu:s})}function dN(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(at(Sp,"New document in limbo: "+n),r.Eu.add(s),Ap(r))}function Ap(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new nN(n)),r.Ru=r.Ru.insert(n,s),BT(r.remoteStore,new Qr(Ci(rp(n.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function uu(r,t,n){const s=wt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=fp.Es(_.targetId,y);u.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const T=wt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(N=>J.forEach(N.Ts,(H=>T.persistence.referenceDelegate.addReference(A,N.targetId,H))).next((()=>J.forEach(N.Is,(H=>T.persistence.referenceDelegate.removeReference(A,N.targetId,H)))))))))}catch(A){if(!po(A))throw A;at(dp,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const H=T.vs.get(N),X=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(X);T.vs=T.vs.insert(N,Z)}}})(s.localStore,u))}async function mN(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){at(Sp,"User change. New user:",t.toKey());const s=await PT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Q.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ns)}}function pN(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let l=zt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function iS(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cN.bind(null,t),t.Pu.J_=Z2.bind(null,t.eventManager),t.Pu.yu=W2.bind(null,t.eventManager),t}function gN(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fN.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return v2(this.persistence,new g2,t.initialUser,this.serializer)}Cu(t){return new LT(hp.Vi,this.serializer)}Du(t){return new R2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class yN extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new e2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new LT((s=>Th.Vi(s,n)),this.serializer)}}class Pm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new J2})()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),s=D2(t.databaseInfo);return U2(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,p){return new P2(s,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>IE(this.syncEngine,n,0)),(function(){return TE.v()?new TE:new I2})())}createSyncEngine(t,n){return(function(l,u,d,p,_,y,T){const A=new iN(l,u,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);at(Xs,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};class rS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}let _N=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(l,u){const d=wt(l),p={documents:u.map((A=>Eh(d.serializer,A)))},_=await d.jo("BatchGetDocuments",d.serializer.databaseId,ee.emptyPath(),p,u.length),y=new Map;_.forEach((A=>{const N=PC(d.serializer,A);y.set(N.key.toString(),N)}));const T=[];return u.forEach((A=>{const N=y.get(A.toString());Ht(!!N,55234,{key:A}),T.push(N)})),T})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new ap(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const l=dt.fromPath(s);this.mutations.push(new ST(l,this.precondition(l)))})),await(async function(s,l){const u=wt(s),d={writes:l.map((p=>DT(u.serializer,p)))};await u.Wo("Commit",u.serializer.databaseId,ee.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});n=St.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new it(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(St.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(St.min()))throw new it(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class vN{constructor(t,n,s,l,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.zu=s.maxAttempts,this.M_=new mp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new _N(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((l=>{this.Zu(l)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!su(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!AT(n)}return!1}}const ss="FirestoreClient";class EN{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{at(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ep(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function cm(r,t){r.asyncQueue.verifyOperationInProgress(),at(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await PT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function NE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await TN(r);at(ss,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>AE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>AE(t.remoteStore,l))),r._onlineComponents=t}async function TN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ss,"Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await cm(r,new Ah)}}else at(ss,"Using default OfflineComponentProvider"),await cm(r,new yN(void 0));return r._offlineComponents}async function wp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ss,"Using user provided OnlineComponentProvider"),await NE(r,r._uninitializedComponentsProvider._online)):(at(ss,"Using default OnlineComponentProvider"),await NE(r,new Pm))),r._onlineComponents}function SN(r){return wp(r).then((t=>t.syncEngine))}function AN(r){return wp(r).then((t=>t.datastore))}async function sS(r){const t=await wp(r),n=t.eventManager;return n.onListen=rN.bind(null,t.syncEngine),n.onUnlisten=oN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lN.bind(null,t.syncEngine),n}function wN(r,t,n={}){const s=new Ii;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,y){const T=new rS({next:N=>{T.Nu(),d.enqueueAndForget((()=>YT(u,A)));const H=N.docs.has(p);!H&&N.fromCache?y.reject(new it(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&_&&_.source==="server"?y.reject(new it(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new XT(rp(p.path),T,{includeMetadataChanges:!0,Ka:!0});return KT(u,A)})(await sS(r),r.asyncQueue,t,n,s))),s.promise}function bN(r,t,n={}){const s=new Ii;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,y){const T=new rS({next:N=>{T.Nu(),d.enqueueAndForget((()=>YT(u,A))),N.fromCache&&_.source==="server"?y.reject(new it(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new XT(p,T,{includeMetadataChanges:!0,Ka:!0});return KT(u,A)})(await sS(r),r.asyncQueue,t,n,s))),s.promise}function RN(r,t){const n=new Ii;return r.asyncQueue.enqueueAndForget((async()=>uN(await SN(r),t,n))),n.promise}function IN(r,t,n){const s=new Ii;return r.asyncQueue.enqueueAndForget((async()=>{const l=await AN(r);new vN(r.asyncQueue,l,n,t,s).ju()})),s.promise}function aS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const CN="ComponentProvider",xE=new Map;function NN(r,t,n,s,l){return new QI(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,aS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const oS="firestore.googleapis.com",DE=!0;class OE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=DE}else this.host=t.host,this.ssl=t.ssl??DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WC)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xE.get(n);s&&(at(CN,"Removing Datastore"),xE.delete(n),s.terminate())})(this),Promise.resolve()}}function xN(r,t,n,s={}){r=xi(r,qh);const l=uo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(XE(`https://${p}`),$E("Firestore",!0)),u.host!==oS&&u.host!==p&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:s};if(!Hs(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Je.MOCK_USER;else{y=Ow(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(A)}r._authCredentials=new RI(new F0(y,T))}}class us{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new us(this.firestore,t,this._query)}}class de{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ru(n,de._jsonSchema))return new de(t,s||null,new dt(ee.fromString(n.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:De("string",de._jsonSchemaVersion),referencePath:De("string")};class Zr extends us{constructor(t,n,s){super(t,n,rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new dt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function Qc(r,t,...n){if(r=ve(r),G0("collection","path",t),r instanceof qh){const s=ee.fromString(t,...n);return Gv(s),new Zr(r,null,s)}{if(!(r instanceof de||r instanceof Zr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Gv(s),new Zr(r.firestore,null,s)}}function Br(r,t,...n){if(r=ve(r),arguments.length===1&&(t=Zm.newId()),G0("doc","path",t),r instanceof qh){const s=ee.fromString(t,...n);return Fv(s),new de(r,null,new dt(s))}{if(!(r instanceof de||r instanceof Zr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Fv(s),new de(r.firestore,r instanceof Zr?r.converter:null,new dt(s))}}const VE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mp(this,"async_queue_retry"),this._c=()=>{const s=um();s&&at(VE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(VE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",kE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=vp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function kE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class _o extends qh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new ME,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function DN(r,t){const n=typeof r=="object"?r:t0(),s=typeof r=="string"?r:mh,l=qm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=xw("firestore");u&&xN(l,...u)}return l}function Hh(r){if(r._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ON(r),r._firestoreClient}function ON(r){const t=r._freezeSettings(),n=NN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Sn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Sn(Ye.fromBase64String(t))}catch(n){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Sn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,Sn._jsonSchema))return Sn.fromBase64String(t.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:De("string",Sn._jsonSchemaVersion),bytes:De("string")};class Fh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gh{constructor(t){this._methodName=t}}class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:De("string",Ni._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wn(t.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:De("string",Wn._jsonSchemaVersion),vectorValues:De("object")};const VN=/^__.*__$/;class MN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ls(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}class lS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ls(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function uS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:r})}}class bp{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return wh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(uS(this.dataSource)&&VN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class kN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||zh(t)}createContext(t,n,s,l=!1){return new bp({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const t=r._freezeSettings(),n=zh(r._databaseId);return new kN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function cS(r,t,n,s,l,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,t,n,l);Ip("Data must be an object, but it was:",d,s);const p=dS(s,d);let _,y;if(u.merge)_=new An(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const N=$s(t,A,n);if(!d.contains(N))throw new it(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);gS(T,N)||T.push(N)}_=new An(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new MN(new nn(p),_,y)}class Kh extends Gh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}class Rp extends Gh{_toFieldTransform(t){return new TC(t.path,new Yl)}isEqual(t){return t instanceof Rp}}function hS(r,t,n,s){const l=r.createContext(1,t,n);Ip("Data must be an object, but it was:",l,s);const u=[],d=nn.empty();os(s,((_,y)=>{const T=pS(t,_,n);y=ve(y);const A=l.childContextForFieldPath(T);if(y instanceof Kh)u.push(T);else{const N=cu(y,A);N!=null&&(u.push(T),d.set(T,N))}}));const p=new An(u);return new lS(d,p,l.fieldTransforms)}function fS(r,t,n,s,l,u){const d=r.createContext(1,t,n),p=[$s(t,s,n)],_=[l];if(u.length%2!=0)throw new it(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push($s(t,u[N])),_.push(u[N+1]);const y=[],T=nn.empty();for(let N=p.length-1;N>=0;--N)if(!gS(y,p[N])){const H=p[N];let X=_[N];X=ve(X);const Z=d.childContextForFieldPath(H);if(X instanceof Kh)y.push(H);else{const tt=cu(X,Z);tt!=null&&(y.push(H),T.set(H,tt))}}const A=new An(y);return new lS(T,A,d.fieldTransforms)}function UN(r,t,n,s=!1){return cu(n,r.createContext(s?4:3,t))}function cu(r,t){if(mS(r=ve(r)))return Ip("Unsupported field value:",t,r),dS(r,t);if(r instanceof Gh)return(function(s,l){if(!uS(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let _=cu(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _C(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:vh(l.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(l.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Sn)return{bytesValue:IT(l.serializer,s._byteString)};if(s instanceof de){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:up(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wn)return(function(d,p){const _=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[tT]:{stringValue:eT},[ph]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return sp(p.serializer,T)}))}}}}}})(s,l);if(kT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dh(s)}`)})(r,t)}function dS(r,t){const n={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(r,((s,l)=>{const u=cu(l,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function mS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ni||r instanceof Sn||r instanceof de||r instanceof Gh||r instanceof Wn||kT(r))}function Ip(r,t,n){if(!mS(n)||!Q0(n)){const s=Dh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function $s(r,t,n){if((t=ve(t))instanceof Fh)return t._internalPath;if(typeof t=="string")return pS(r,t);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const LN=new RegExp("[~\\*/\\[\\]]");function pS(r,t,n){if(t.search(LN)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fh(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new it(Q.INVALID_ARGUMENT,p+r+_)}function gS(r,t){return r.some((n=>n.isEqual(t)))}class yS{convertValue(t,n="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return os(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Wn(n)}convertGeoPoint(t){return new Ni(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Vh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const n=es(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(MT(s),9688,{name:t});const l=new Gl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return l.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Cp extends yS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,n)}}function Dl(){return new Rp("serverTimestamp")}const UE="@firebase/firestore",LE="4.11.0";class bh{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field($s("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PN extends bh{data(){return super.data()}}function zN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class xp extends Np{}function hm(r,t,...n){let s=[];t instanceof Np&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((_=>_ instanceof Dp)).length,p=u.filter((_=>_ instanceof Yh)).length;if(d>1||d>0&&p>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Yh extends xp{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Yh(t,n,s)}_apply(t){const n=this._parse(t);return _S(t._query,n),new us(t.firestore,t.converter,xm(t._query,n))}_parse(t){const n=Qh(t.firestore);return(function(u,d,p,_,y,T,A){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){jE(A,T);const X=[];for(const Z of A)X.push(zE(_,u,Z));N={arrayValue:{values:X}}}else N=zE(_,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||jE(A,T),N=UN(p,d,A,T==="in"||T==="not-in");return xe.create(y,T,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function fm(r,t,n){const s=t,l=$s("where",r);return Yh._create(l,s,n)}class Dp extends Np{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const _ of p)_S(d,_),d=xm(d,_)})(t._query,n),new us(t.firestore,t.converter,xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Op extends xp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Op(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,d)})(t._query,this._field,this._direction);return new us(t.firestore,t.converter,cC(t._query,n))}}function jN(r,t="asc"){const n=t,s=$s("orderBy",r);return Op._create(s,n)}class Vp extends xp{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Vp(t,n,s)}_apply(t){return new us(t.firestore,t.converter,yh(t._query,this._limit,this._limitType))}}function PE(r){return Vp._create("limit",r,"F")}function zE(r,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uT(t)&&n.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!dt.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wv(r,new dt(s))}if(n instanceof de)return Wv(r,n._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function jE(r,t){if(!Array.isArray(r)||r.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _S(r,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function vS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class BN extends yS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,n)}}class Xa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends bh{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($s("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:De("string",Wr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class nh extends Wr{data(t={}){return super.data(t)}}class eo{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xa(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new Xa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xa(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new nh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xa(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:qN(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:De("string",eo._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};const HN={maxAttempts:5};function Ol(r,t){if((r=ve(r)).firestore!==t)throw new it(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class FN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Qh(t)}get(t){const n=Ol(t,this._firestore),s=new BN(this._firestore);return this._transaction.lookup([n._key]).then((l=>{if(!l||l.length!==1)return _t(24041);const u=l[0];if(u.isFoundDocument())return new bh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new bh(this._firestore,s,n._key,null,n.converter);throw _t(18433,{doc:u})}))}set(t,n,s){const l=Ol(t,this._firestore),u=vS(l.converter,n,s),d=cS(this._dataReader,"Transaction.set",l._key,u,l.converter!==null,s);return this._transaction.set(l._key,d),this}update(t,n,s,...l){const u=Ol(t,this._firestore);let d;return d=typeof(n=ve(n))=="string"||n instanceof Fh?fS(this._dataReader,"Transaction.update",u._key,n,s,l):hS(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,d),this}delete(t){const n=Ol(t,this._firestore);return this._transaction.delete(n._key),this}}class GN extends FN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ol(t,this._firestore),s=new Cp(this._firestore);return super.get(t).then((l=>new Wr(this._firestore,s,n._key,l._document,new Xa(!1,!1),n.converter)))}}function QN(r,t,n){r=xi(r,_o);const s={...HN,...n};(function(d){if(d.maxAttempts<1)throw new it(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const l=Hh(r);return IN(l,(u=>t(new GN(r,u))),s)}function KN(r){r=xi(r,de);const t=xi(r.firestore,_o),n=Hh(t);return wN(n,r._key).then((s=>XN(t,r,s)))}function dm(r){r=xi(r,us);const t=xi(r.firestore,_o),n=Hh(t),s=new Cp(t);return zN(r._query),bN(n,r._query).then((l=>new eo(t,s,r,l)))}function ih(r,t,n){r=xi(r,de);const s=xi(r.firestore,_o),l=vS(r.converter,t,n),u=Qh(s);return ES(s,[cS(u,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,rn.none())])}function YN(r,t,n,...s){r=xi(r,de);const l=xi(r.firestore,_o),u=Qh(l);let d;return d=typeof(t=ve(t))=="string"||t instanceof Fh?fS(u,"updateDoc",r._key,t,n,s):hS(u,"updateDoc",r._key,t),ES(l,[d.toMutation(r._key,rn.exists(!0))])}function ES(r,t){const n=Hh(r);return RN(n,t)}function XN(r,t,n){const s=n.docs.get(t._key),l=new Cp(r);return new Wr(r,l,t._key,s,new Xa(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){wI(co),no(new Fs("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new _o(new II(s.getProvider("auth-internal")),new xI(d,s.getProvider("app-check-internal")),KI(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),$r(UE,LE,t),$r(UE,LE,"esm2020")})();const Vl={apiKey:"AIzaSyCZjegGhnr8FXTBDetqCOmmme5M7_IdUms",authDomain:"comics-a8a20.firebaseapp.com",projectId:"comics-a8a20",storageBucket:"comics-a8a20.firebasestorage.app",messagingSenderId:"273958580614",appId:"1:273958580614:web:92f1e677c77578529afc07"},Jl=!!(Vl.apiKey&&Vl.authDomain&&Vl.projectId&&Vl.appId),Rh=Jl?WE(Vl):null,jr=Rh?SI(Rh):null,Pn=Rh?DN(Rh):null;function Kr({className:r="",variant:t="default",...n}){const s="inline-flex items-center justify-center gap-2 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue/50 disabled:opacity-50 disabled:pointer-events-none active:scale-[0.97] cursor-pointer",l={default:"border border-white/10 bg-white/[0.06] px-4 py-2 text-white/90 hover:bg-white/[0.12] hover:border-white/15",primary:"border border-accent-red/30 bg-accent-red px-4 py-2 text-white hover:bg-accent-red-hover shadow-lg shadow-accent-red/20 hover:shadow-accent-red/30",ghost:"px-3 py-2 text-white/60 hover:text-white hover:bg-white/[0.06]",danger:"border border-red-500/30 bg-red-500/10 px-4 py-2 text-red-200 hover:bg-red-500/20"};return x.jsx("button",{className:`${s} ${l[t]??l.default} ${r}`,...n})}function $N({track:r,onPlay:t,index:n=0}){const s=r.page_start&&r.page_end?`p. ${r.page_start}-${r.page_end}`:null;return x.jsxs("button",{onClick:()=>t(r),className:"group flex items-center gap-4 px-5 py-3 transition-colors duration-150 hover:bg-white/[0.03] cursor-pointer text-left w-full",children:[x.jsx("span",{className:"w-5 text-right text-xs tabular-nums text-white/20 group-hover:hidden flex-shrink-0",children:n+1}),x.jsx("span",{className:"hidden w-5 items-center justify-center text-accent-red group-hover:flex flex-shrink-0",children:x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M8 5v14l11-7z"})})}),x.jsx("div",{className:"flex-1 min-w-0",children:x.jsx("p",{className:"text-sm font-medium text-white/80 group-hover:text-white transition-colors truncate",children:r.title})}),s?x.jsx("span",{className:"rounded-md bg-white/[0.04] px-2 py-0.5 text-[10px] font-medium text-white/30 flex-shrink-0",children:s}):null,x.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"text-white/15 group-hover:text-white/40 transition-colors flex-shrink-0",children:x.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"})})]})}function JN({soundtrack:r,onPlay:t,onVote:n,onEdit:s,currentUserId:l}){const u=r.currentUserVote===1,d=r.currentUserVote===-1,p=!!(l&&r.user_id===l),[_,y]=Rt.useState(!1),[T,A]=Rt.useState(!1),N=Rt.useRef(null),H=Rt.useRef(null),X=Z=>{Z===1?(y(!0),setTimeout(()=>y(!1),400)):(A(!0),setTimeout(()=>A(!1),400)),n(r,Z)};return x.jsxs(rh,{className:"flex flex-col gap-0 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3 px-5 pt-5 pb-4",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-accent-blue/10 text-accent-blue flex-shrink-0",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M9 18V5l12-2v13"}),x.jsx("circle",{cx:"6",cy:"18",r:"3"}),x.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("p",{className:"text-sm font-semibold text-white truncate",children:r.title}),x.jsxs("p",{className:"text-xs text-white/35",children:["by ",r.user_name]})]})]}),x.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[p?x.jsx("button",{onClick:()=>s(r),className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-white/40 hover:text-white hover:bg-white/[0.06] transition-all duration-200 cursor-pointer",children:"Edit"}):null,x.jsxs("button",{onClick:()=>X(1),className:`relative flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-all duration-200 cursor-pointer ${u?"bg-emerald-500/15 text-emerald-400 border border-emerald-500/20":"text-white/40 hover:text-emerald-400 hover:bg-emerald-500/10 border border-transparent"} ${_?"animate-vote-bounce":""}`,children:[x.jsx("span",{ref:N,className:_?"absolute inset-0 rounded-lg bg-emerald-400/20 animate-pulse-ring":"hidden"}),x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:u?"currentColor":"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M12 19V5M5 12l7-7 7 7",strokeLinecap:"round",strokeLinejoin:"round"})}),r.upvotes]}),x.jsxs("button",{onClick:()=>X(-1),className:`relative flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-all duration-200 cursor-pointer ${d?"bg-accent-red/15 text-accent-red-hover border border-accent-red/20":"text-white/40 hover:text-accent-red-hover hover:bg-accent-red/10 border border-transparent"} ${T?"animate-vote-bounce":""}`,children:[x.jsx("span",{ref:H,className:T?"absolute inset-0 rounded-lg bg-accent-red/20 animate-pulse-ring":"hidden"}),x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:d?"currentColor":"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M12 5v14M19 12l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),r.downvotes]})]})]}),x.jsx("div",{className:"flex flex-col border-t border-white/[0.04]",children:r.tracks.length>0?r.tracks.map((Z,tt)=>x.jsx($N,{track:Z,onPlay:t,index:tt},Z.id)):x.jsx("p",{className:"px-5 py-4 text-sm text-white/30",children:"No tracks yet for this soundtrack."})})]})}const TS=Rt.createContext(null);function ZN({children:r}){const[t,n]=Rt.useState(null),[s,l]=Rt.useState(!1);Rt.useEffect(()=>{if(!Jl||!jr){l(!0);return}const y=cR(jr,T=>{n(T?{id:T.uid,email:T.email,name:T.displayName??T.email?.split("@")[0]??null}:null),l(!0)});return()=>y()},[]);const u=async(y,T,A)=>{if(!jr||!Pn)throw new Error("Firebase is not configured.");const N=await rR(jr,y,T);await oR(N.user,{displayName:A}),await ih(Br(Pn,"users",N.user.uid),{email:y,name:A,created_at:Dl()})},d=async(y,T)=>{if(!jr)throw new Error("Firebase is not configured.");await sR(jr,y,T)},p=async()=>{jr&&await hR(jr)},_=Rt.useMemo(()=>({user:t,isReady:s,signIn:d,signUp:u,signOutUser:p}),[t,s]);return x.jsx(TS.Provider,{value:_,children:r})}function SS(){const r=Rt.useContext(TS);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function WN({issue:r,onBack:t}){const[n,s]=Rt.useState(!0),[l,u]=Rt.useState(null),[d,p]=Rt.useState([]),[_,y]=Rt.useState(!1),[T,A]=Rt.useState(""),[N,H]=Rt.useState([{title:"",youtube_url:"",page_start:"",page_end:""}]),[X,Z]=Rt.useState(!1),[tt,ft]=Rt.useState(0),[pt,gt]=Rt.useState(null),{user:vt}=SS();Rt.useEffect(()=>{let w=!0;return(async()=>{try{if(s(!0),u(null),!Jl||!Pn)throw new Error("Missing Firebase configuration.");const Tt=Pn,F=Qc(Tt,"issues"),W=hm(F,fm("comicvine_issue_id","==",String(r.id)),PE(1)),lt=await dm(W);let bt;if(lt.empty){const ht=Br(F);await ih(ht,{comicvine_issue_id:String(r.id),title:`${r.volume?.name??"Untitled"} #${r.issue_number}`,cover_url:r.image?.super_url??r.image?.small_url??null,created_at:Dl()}),bt=ht.id}else bt=lt.docs[0].id;const jt=Qc(Tt,"soundtracks"),D=hm(jt,fm("issue_id","==",bt),jN("votes_count","desc")),et=(await dm(D)).docs.map(ht=>{const yt=ht.data();return{id:ht.id,title:yt.title??"Untitled soundtrack",created_at:yt.created_at??"",tracks:(yt.tracks??[]).sort((Ot,ue)=>(Ot.order_index??0)-(ue.order_index??0)),votes:yt.votes_count??0,upvotes:yt.upvotes??0,downvotes:yt.downvotes??0,user_id:yt.user_id??"unknown",user_name:yt.user_name??"Anonymous",currentUserVote:0}}),st=await Promise.all(et.map(async ht=>{if(!vt)return ht;const yt=Br(Tt,"soundtracks",ht.id,"votes",vt.id),Ot=await KN(yt),ue=Ot.exists()?Ot.data().value??0:0;return{...ht,currentUserVote:ue}}));st.sort((ht,yt)=>yt.votes-ht.votes),w&&p(st)}catch(Tt){w&&u(Tt instanceof Error?Tt.message:"Failed to load data.")}finally{w&&s(!1)}})(),()=>{w=!1}},[r,tt,vt]);const xt=w=>{window.open(w.youtube_url,"_blank","noopener,noreferrer")},ut=()=>{H(w=>[...w,{title:"",youtube_url:"",page_start:"",page_end:""}])},R=w=>{H(rt=>rt.filter((Tt,F)=>F!==w))},b=(w,rt,Tt)=>{H(F=>F.map((W,lt)=>lt===w?{...W,[rt]:Tt}:W))},C=async()=>{if(!Pn||!Jl||!vt){u("You must be signed in to add a playlist.");return}const w=N.map((rt,Tt)=>({id:`${Date.now()}-${Tt}`,title:rt.title.trim(),youtube_url:rt.youtube_url.trim(),page_start:rt.page_start?Number(rt.page_start):null,page_end:rt.page_end?Number(rt.page_end):null,order_index:Tt})).filter(rt=>rt.title&&rt.youtube_url);if(!T.trim()){u("Please enter a playlist title.");return}if(w.length===0){u("Please add at least one track with a YouTube URL.");return}Z(!0),u(null);try{const rt=Qc(Pn,"issues"),Tt=hm(rt,fm("comicvine_issue_id","==",String(r.id)),PE(1)),F=await dm(Tt),W=F.empty?await(async()=>{const bt=Br(rt);return await ih(bt,{comicvine_issue_id:String(r.id),title:`${r.volume?.name??"Untitled"} #${r.issue_number}`,cover_url:r.image?.super_url??r.image?.small_url??null,created_at:Dl()}),bt.id})():F.docs[0].id,lt=Qc(Pn,"soundtracks");pt?await YN(Br(Pn,"soundtracks",pt),{title:T.trim(),tracks:w,updated_at:Dl()}):await ih(Br(lt),{issue_id:W,title:T.trim(),tracks:w,created_at:Dl(),user_id:vt.id,user_name:vt.name??vt.email??"User",votes_count:0,upvotes:0,downvotes:0}),A(""),H([{title:"",youtube_url:"",page_start:"",page_end:""}]),y(!1),gt(null),ft(bt=>bt+1)}catch(rt){u(rt instanceof Error?rt.message:"Failed to save playlist.")}finally{Z(!1)}},M=async(w,rt)=>{if(!Pn||!vt){u("Please sign in to vote.");return}const Tt=Br(Pn,"soundtracks",w.id,"votes",vt.id),F=Br(Pn,"soundtracks",w.id);await QN(Pn,async W=>{const lt=await W.get(Tt),bt=await W.get(F);if(!bt.exists())throw new Error("Soundtrack not found.");const jt=bt.data();let D=jt.votes_count??0,K=jt.upvotes??0,et=jt.downvotes??0;lt.exists()?lt.data().value===rt?(W.delete(Tt),D-=rt,rt===1&&(K-=1),rt===-1&&(et-=1)):(W.set(Tt,{value:rt}),D+=rt*2,rt===1?(K+=1,et-=1):(et+=1,K-=1)):(W.set(Tt,{value:rt}),D+=rt,rt===1&&(K+=1),rt===-1&&(et+=1)),W.update(F,{votes_count:D,upvotes:K,downvotes:et})}),ft(W=>W+1)},V=w=>{!vt||w.user_id!==vt.id||(gt(w.id),A(w.title),H(w.tracks.map(rt=>({title:rt.title,youtube_url:rt.youtube_url,page_start:rt.page_start?String(rt.page_start):"",page_end:rt.page_end?String(rt.page_end):""}))),y(!0))},U="w-full rounded-lg border border-white/[0.08] bg-ink-800/60 px-3.5 py-2.5 text-sm text-white placeholder:text-white/30 transition-colors duration-200 focus:border-accent-blue/40 focus:bg-ink-800 focus:outline-none focus:ring-1 focus:ring-accent-blue/20";return x.jsxs("div",{className:"flex flex-col gap-8",children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:t,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-white/[0.08] bg-white/[0.04] text-white/50 transition-all duration-200 hover:bg-white/[0.08] hover:text-white cursor-pointer","aria-label":"Back to results",children:x.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:x.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-accent-red/80",children:"Issue"}),x.jsxs("h2",{className:"text-xl font-bold tracking-tight text-white md:text-2xl",children:[r.volume?.name??"Untitled"," ",x.jsxs("span",{className:"text-white/40",children:["#",r.issue_number]})]})]})]}),x.jsx("div",{className:"flex items-center gap-2",children:vt?x.jsx(Kr,{variant:"primary",onClick:()=>{_&&!pt?y(!1):(gt(null),A(""),H([{title:"",youtube_url:"",page_start:"",page_end:""}]),y(!0))},className:"text-sm",children:_&&!pt?x.jsxs(x.Fragment,{children:[x.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:x.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Cancel"]}):x.jsxs(x.Fragment,{children:[x.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:x.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add playlist"]})}):x.jsx("p",{className:"text-sm text-white/30",children:"Sign in to add a playlist"})})]}),x.jsxs("div",{className:"grid gap-8 lg:grid-cols-[280px_1fr]",children:[x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx("div",{className:"overflow-hidden rounded-xl border border-white/[0.07] bg-ink-900/60 shadow-xl shadow-black/30",children:r.image?.super_url?x.jsx("img",{src:r.image.super_url,alt:r.name??"Issue cover",className:"w-full object-cover aspect-[2/3]",loading:"lazy"}):x.jsx("div",{className:"flex aspect-[2/3] items-center justify-center bg-ink-800 text-sm text-white/30",children:"No cover"})}),x.jsxs("div",{className:"px-1",children:[x.jsx("p",{className:"text-base font-semibold text-white/90",children:r.name??"Unnamed Issue"}),x.jsx("p",{className:"mt-1 text-xs text-white/40",children:r.cover_date??"Unknown date"})]})]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[l?x.jsx("div",{className:"rounded-lg border border-accent-red/20 bg-accent-red/5 p-4 text-sm text-red-200 animate-fade-in-fast",children:l}):null,_?x.jsxs(rh,{className:"flex flex-col gap-5 p-6 animate-scale-in",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-white",children:pt?"Edit playlist":"New playlist"}),x.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:"Add tracks with page ranges and YouTube links."})]}),pt?x.jsx(Kr,{variant:"ghost",onClick:()=>{gt(null),A(""),H([{title:"",youtube_url:"",page_start:"",page_end:""}]),y(!1)},className:"text-xs text-white/40",children:"Cancel edit"}):null]}),x.jsxs("div",{className:"flex flex-col gap-1.5",children:[x.jsx("label",{className:"text-xs font-medium text-white/50",children:"Playlist title"}),x.jsx("input",{className:U,value:T,onChange:w=>A(w.target.value),placeholder:"e.g. Noir city vibes"})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-xs font-medium text-white/50",children:"Tracks"}),N.map((w,rt)=>x.jsxs("div",{className:"rounded-lg border border-white/[0.06] bg-ink-950/40 p-4 animate-fade-in-fast",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("span",{className:"text-xs font-medium text-white/30",children:["Track ",rt+1]}),x.jsx("button",{onClick:()=>R(rt),className:"text-xs text-white/30 hover:text-accent-red transition-colors cursor-pointer",children:"Remove"})]}),x.jsxs("div",{className:"grid gap-2.5 md:grid-cols-2",children:[x.jsx("input",{className:U,value:w.title,onChange:Tt=>b(rt,"title",Tt.target.value),placeholder:"Track title"}),x.jsx("input",{className:U,value:w.youtube_url,onChange:Tt=>b(rt,"youtube_url",Tt.target.value),placeholder:"YouTube URL"}),x.jsx("input",{className:U,value:w.page_start,onChange:Tt=>b(rt,"page_start",Tt.target.value),placeholder:"Page start (optional)"}),x.jsx("input",{className:U,value:w.page_end,onChange:Tt=>b(rt,"page_end",Tt.target.value),placeholder:"Page end (optional)"})]})]},rt)),x.jsxs("button",{onClick:ut,className:"flex items-center gap-2 self-start rounded-lg px-3 py-2 text-xs font-medium text-accent-blue hover:bg-accent-blue/10 transition-colors cursor-pointer",children:[x.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:x.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add another track"]})]}),x.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-white/[0.05]",children:[x.jsx(Kr,{variant:"ghost",onClick:()=>{y(!1),gt(null)},className:"text-sm",children:"Cancel"}),x.jsx(Kr,{variant:"primary",onClick:C,disabled:X,className:"px-5 py-2 text-sm",children:X?x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving"]}):pt?"Save changes":"Publish playlist"})]})]}):null,n?x.jsx("div",{className:"flex flex-col gap-4",children:[0,1,2].map(w=>x.jsxs("div",{className:"rounded-xl border border-white/[0.05] bg-ink-900/40 p-5 animate-pulse",children:[x.jsx("div",{className:"h-4 w-1/3 rounded bg-white/[0.06] mb-3"}),x.jsx("div",{className:"h-3 w-1/4 rounded bg-white/[0.04] mb-4"}),x.jsx("div",{className:"h-12 w-full rounded bg-white/[0.03]"})]},w))}):d.length>0?x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("p",{className:"text-xs font-medium uppercase tracking-wider text-white/25",children:["Community Soundtracks (",d.length,")"]}),d.map((w,rt)=>x.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${rt*60}ms`},children:x.jsx(JN,{soundtrack:w,onPlay:Tt=>xt(Tt),onVote:M,onEdit:V,currentUserId:vt?.id})},w.id))]}):x.jsxs(rh,{className:"flex flex-col items-center gap-3 p-10 text-center",children:[x.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/[0.04]",children:x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-white/20",children:[x.jsx("path",{d:"M9 18V5l12-2v13",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("circle",{cx:"6",cy:"18",r:"3"}),x.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),x.jsx("p",{className:"text-sm text-white/40",children:"No soundtracks yet"}),x.jsx("p",{className:"text-xs text-white/25",children:"Be the first to add one for this issue."})]})]})]})]})}var tx=BE();const ex=tw(tx);function mm({className:r="",...t}){return x.jsx("input",{className:`w-full rounded-lg border border-white/[0.08] bg-ink-800/60 px-4 py-2.5 text-sm text-white placeholder:text-white/30 shadow-sm transition-colors duration-200 focus:border-accent-blue/40 focus:bg-ink-800 focus:outline-none focus:ring-1 focus:ring-accent-blue/20 ${r}`,...t})}function nx(){const{user:r,signIn:t,signUp:n,signOutUser:s}=SS(),[l,u]=Rt.useState(!1),[d,p]=Rt.useState(!1),[_,y]=Rt.useState(""),[T,A]=Rt.useState(""),[N,H]=Rt.useState(""),[X,Z]=Rt.useState(null),[tt,ft]=Rt.useState(!1),pt=Rt.useRef(null);Rt.useEffect(()=>{if(!l)return;const ut=R=>{R.key==="Escape"&&u(!1)};return window.addEventListener("keydown",ut),()=>window.removeEventListener("keydown",ut)},[l]);const gt=()=>{p(!1),Z(null),y(""),A(""),H(""),u(!0)},vt=()=>{p(!0),Z(null),y(""),A(""),H(""),u(!0)},xt=async()=>{Z(null),ft(!0);try{if(d){if(!N.trim())throw new Error("Please enter a display name.");await n(_.trim(),T,N.trim())}else await t(_.trim(),T);u(!1)}catch(ut){Z(ut instanceof Error?ut.message:"Authentication failed.")}finally{ft(!1)}};return r?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent-red/20 text-xs font-semibold text-accent-red-hover",children:(r.name??"U").charAt(0).toUpperCase()}),x.jsx("div",{className:"text-right",children:x.jsx("p",{className:"text-sm font-medium text-white/90",children:r.name??"User"})}),x.jsx(Kr,{variant:"ghost",onClick:s,className:"text-xs text-white/50 hover:text-white",children:"Sign out"})]}):Jl?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Kr,{variant:"ghost",onClick:gt,className:"text-sm text-white/70 hover:text-white",children:"Log in"}),x.jsx(Kr,{variant:"primary",onClick:vt,className:"text-sm px-5 py-2",children:"Sign up"})]}),l?ex.createPortal(x.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in-fast",onClick:ut=>{ut.target===ut.currentTarget&&u(!1)},children:x.jsxs("div",{ref:pt,className:"relative w-full max-w-sm mx-4 rounded-xl border border-white/[0.08] bg-ink-900 p-6 shadow-2xl shadow-black/40 animate-scale-in",children:[x.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-white/40 hover:text-white transition-colors cursor-pointer","aria-label":"Close",children:x.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:x.jsx("path",{d:"M4 4l8 8M12 4l-8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})}),x.jsx("h2",{className:"text-lg font-semibold text-white mb-1",children:d?"Create your account":"Welcome back"}),x.jsx("p",{className:"text-sm text-white/40 mb-5",children:d?"Join the community and share your soundtracks.":"Sign in to your Comictracks account."}),x.jsxs("div",{className:"flex flex-col gap-3",children:[d?x.jsx(mm,{value:N,onChange:ut=>H(ut.target.value),placeholder:"Display name"}):null,x.jsx(mm,{type:"email",value:_,onChange:ut=>y(ut.target.value),placeholder:"Email"}),x.jsx(mm,{type:"password",value:T,onChange:ut=>A(ut.target.value),placeholder:"Password",onKeyDown:ut=>{ut.key==="Enter"&&xt()}}),X?x.jsx("p",{className:"text-xs text-accent-red font-medium animate-fade-in-fast",children:X}):null,x.jsx(Kr,{variant:"primary",onClick:xt,disabled:tt,className:"w-full mt-1 py-2.5",children:tt?"Please wait...":d?"Create account":"Sign in"})]}),x.jsx("div",{className:"mt-4 text-center",children:x.jsx("button",{className:"text-xs text-white/40 hover:text-white/70 transition-colors cursor-pointer",onClick:()=>{p(ut=>!ut),Z(null)},children:d?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})}),document.body):null]}):x.jsx("p",{className:"text-xs text-white/40",children:"Firebase not configured"})}function ix(){const[r,t]=Rt.useState(""),[n,s]=Rt.useState([]),[l,u]=Rt.useState(!1),[d,p]=Rt.useState(null),[_,y]=Rt.useState(null),[T,A]=Rt.useState([]),[N,H]=Rt.useState([]),[X,Z]=Rt.useState(!1),tt=Rt.useRef(null);Rt.useEffect(()=>{const xt=window.localStorage.getItem("comictracks:recent-searches");if(xt)try{const ut=JSON.parse(xt);A(ut)}catch{A([])}},[]);const ft=Rt.useMemo(()=>{if(!r.trim())return T.slice(0,6);const xt=r.toLowerCase();return T.filter(ut=>ut.toLowerCase().includes(xt)).slice(0,6)},[r,T]);Rt.useEffect(()=>{if(!r.trim()||r.trim().length<2){H([]);return}tt.current&&window.clearTimeout(tt.current),tt.current=window.setTimeout(async()=>{try{Z(!0);const xt=await Tw(r.trim());H(xt)}catch{H([])}finally{Z(!1)}},350)},[r]);const pt=async xt=>{const ut=(xt??r).trim();if(!ut){p("Please enter a search query.");return}try{u(!0),p(null);const R=await Ew(ut);s(R);const b=[ut,...T.filter(C=>C!==ut)].slice(0,8);A(b),window.localStorage.setItem("comictracks:recent-searches",JSON.stringify(b))}catch(R){p(R instanceof Error?R.message:"Unable to search Comic Vine.")}finally{u(!1)}},gt=xt=>{y(xt),H([]),t("")},vt=n.length>0||_;return x.jsxs("div",{className:"min-h-screen bg-ink-950 text-white",children:[x.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 border-b border-white/[0.05] bg-ink-950/80 backdrop-blur-lg",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-3",children:[x.jsxs("button",{onClick:()=>{y(null),s([]),t(""),p(null)},className:"flex items-center gap-2.5 cursor-pointer group",children:[x.jsx("img",{src:"/logo.png",alt:"Comictracks logo",className:"h-8 w-8 object-contain transition-transform duration-200 group-hover:scale-105"}),x.jsx("span",{className:"text-base font-semibold tracking-tight text-white",children:"Comictracks"})]}),x.jsx(nx,{})]})}),x.jsx("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col px-6 pt-20 pb-16",children:_?x.jsx("div",{className:"animate-fade-in",children:x.jsx(WN,{issue:_,onBack:()=>y(null)})}):x.jsxs(x.Fragment,{children:[x.jsx("header",{className:`flex flex-col items-center justify-center text-center transition-all duration-500 ease-out ${vt?"py-8":"flex-1 py-16"}`,children:x.jsxs("div",{className:`flex flex-col items-center gap-5 transition-all duration-500 ${vt?"scale-95":""}`,children:[x.jsxs("div",{children:[x.jsxs("h1",{className:`font-bold tracking-tight text-white transition-all duration-500 text-balance ${vt?"text-2xl":"text-4xl md:text-5xl"}`,children:["Comic",x.jsx("span",{className:"text-accent-red",children:"tracks"})]}),x.jsx("p",{className:`mt-2 text-white/40 transition-all duration-500 ${vt?"text-sm":"text-base md:text-lg"}`,children:"Community soundtracks for comic issues"})]}),x.jsx("div",{className:"w-full max-w-xl",children:x.jsx(hw,{value:r,onChange:t,onSubmit:()=>pt(),isLoading:l,suggestions:N,localSuggestions:ft,isSuggesting:X,onSelectSuggestion:xt=>{t(xt),p(null),pt(xt)},onSelectIssueSuggestion:gt})})]})}),x.jsxs("section",{className:"flex flex-col gap-6 animate-fade-in",children:[d?x.jsx(rh,{className:"border-accent-red/20 bg-accent-red/5 p-4 text-sm text-red-200",children:d}):null,n.length>0?x.jsx(cw,{issues:n,onSelect:gt}):vt?null:x.jsxs("div",{className:"flex flex-col items-center gap-3 py-8 text-center",children:[x.jsx("div",{className:"h-px w-16 bg-accent-red/20 mb-1"}),x.jsx("p",{className:"text-sm text-white/30",children:"Search for a comic issue to discover and share soundtracks"})]})]})]})})]})}const AS=document.querySelector("#root");if(!AS)throw new Error("Root element not found");uw.createRoot(AS).render(x.jsx(Rt.StrictMode,{children:x.jsx(ZN,{children:x.jsx(ix,{})})}));
